<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSA Unit 2 - Chapter 1: Fasteners</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2rem;
        }

        .content-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #ecf0f1;
            gap: 20px;
        }

        .navigation-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
        }

        .nav-btn {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: linear-gradient(45deg, #2980b9, #21618c);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            flex: 1;
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            margin: 0 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            height: 100%;
            transition: width 0.3s ease;
            width: 0%;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
            padding-left: 20px;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 25px;
        }

        .section h4 {
            color: #2980b9;
            font-size: 1.2rem;
            margin-bottom: 10px;
            margin-top: 20px;
        }

        .section p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .section li {
            margin-bottom: 8px;
        }

        .info-box {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #21618c;
        }

        .warning-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #a93226;
        }

        .tip-box {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .tip-box h4 {
            color: #155724;
            margin-bottom: 5px;
        }

        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .image-card {
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .image-card:hover {
            transform: translateY(-5px);
        }

        .image-placeholder {
            width: 100%;
            height: 120px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .image-caption {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .image-description {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .tool-showcase {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            justify-content: center;
        }

        .tool-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            text-align: center;
            min-width: 150px;
            flex: 1;
            max-width: 200px;
        }

        .tool-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-size: 2rem;
            color: white;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table th, .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .table th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .knowledge-check {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.3);
        }

        .knowledge-check h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .question p {
            font-weight: 600;
            margin-bottom: 15px;
        }

        .options {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .options li {
            background: rgba(255, 255, 255, 0.2);
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .options li:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .options li.selected {
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid white;
        }

        .options li.correct {
            background: rgba(46, 204, 113, 0.8);
        }

        .options li.incorrect {
            background: rgba(231, 76, 60, 0.8);
        }

        .check-btn {
            background: white;
            color: #e67e22;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .check-btn:hover {
            background: #ecf0f1;
        }

        .check-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.correct {
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #27ae60;
        }

        .feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid #e74c3c;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .quiz-question {
            margin-bottom: 25px;
        }

        .quiz-question h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .quiz-options {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .quiz-options li {
            background: #f8f9fa;
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .quiz-options li:hover {
            background: #e9ecef;
        }

        .quiz-options li.selected {
            background: #d1ecf1;
            border-color: #3498db;
        }

        .quiz-options li.correct {
            background: #d4edda;
            border-color: #27ae60;
        }

        .quiz-options li.incorrect {
            background: #f8d7da;
            border-color: #e74c3c;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .chapter-completion {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            display: none;
        }

        .chapter-completion.show {
            display: block;
        }

        .submit-quiz-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-quiz-btn:hover {
            background: linear-gradient(45deg, #229954, #27ae60);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-bottom {
                flex-direction: column;
                gap: 10px;
            }
            
            .progress-bar {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CSA Unit 2 - Fasteners, Tools and Testing Equipment</h1>
            <h2>Chapter 1 - Fasteners</h2>
            <p>Gas Trade Training Materials</p>
            <p><em>Created by Mike Kapin • Copyright 2025</em></p>
        </div>

        <div class="content-area">
            <div class="navigation">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span id="section-counter">Section 1 of 6</span>
            </div>
            <div id="content"></div>
            
            <div class="navigation-bottom">
                <button class="nav-btn" id="prev-btn" onclick="previousSection()" disabled>← Previous</button>
                <button class="nav-btn" id="next-btn" onclick="nextSection()">Next →</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 0;
        let totalSections = 6;
        let userAnswers = {};
        let quizAnswers = {};

        const sections = [
            {
                title: "Overview and Purpose",
                content: `
                    <div class="section">
                        <h2>Overview</h2>
                        
                        <h3>Purpose</h3>
                        <p>To enable the gas technician/fitter to choose the correct fastener for the job.</p>
                        
                        <h3>Objectives</h3>
                        <p>At the end of this Chapter, you will be able to:</p>
                        <ul>
                            <li>identify the methods for selecting and securing correct fasteners; and</li>
                            <li>identify types of fasteners.</li>
                        </ul>

                        <h3>Terminology</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Term</th>
                                    <th>Abbreviation (symbol)</th>
                                    <th>Definition</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Fastener</td>
                                    <td>-</td>
                                    <td>A device that attaches something firmly to something else.</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <h4>Key Learning Point</h4>
                            <p>Understanding fastener selection is essential for gas technicians to ensure safe and secure installations of piping and equipment systems.</p>
                        </div>
                    </div>
                `
            },
            {
                title: "Requirements for Using Fasteners",
                content: `
                    <div class="section">
                        <h2>Requirements for Using Fasteners</h2>
                        <p>You must consider the following factors when fastening piping or equipment:</p>

                        <div class="image-grid">
                            <div class="image-card">
                                <div class="image-placeholder">🏗️</div>
                                <div class="image-caption">Material Type</div>
                                <div class="image-description">Type of material to which you must fasten the piping or equipment</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">⚙️</div>
                                <div class="image-caption">Equipment Type</div>
                                <div class="image-description">Type of equipment that you are fastening</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">⚖️</div>
                                <div class="image-caption">Weight and Shape</div>
                                <div class="image-description">Weight and shape of the equipment</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🔺</div>
                                <div class="image-caption">Support Direction</div>
                                <div class="image-description">Whether the equipment has support from above or below</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🌀</div>
                                <div class="image-caption">Movement Factors</div>
                                <div class="image-description">Whether expansion or vibration is a factor</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">📊</div>
                                <div class="image-caption">Quantity Needed</div>
                                <div class="image-description">The number of fasteners or supports required</div>
                            </div>
                        </div>

                        <h3>Main Materials in Gas Industry</h3>
                        <p>In the gas industry, the three main types of material that you must fasten to or from are:</p>

                        <div class="tool-showcase">
                            <div class="tool-item">
                                <div class="tool-icon">🪵</div>
                                <div class="image-caption">Wood</div>
                                <div class="image-description">Requires specific fasteners like wood screws and lag bolts</div>
                            </div>
                            <div class="tool-item">
                                <div class="tool-icon">🧱</div>
                                <div class="image-caption">Concrete</div>
                                <div class="image-description">Requires anchors, shields, and specialized fastening techniques</div>
                            </div>
                            <div class="tool-item">
                                <div class="tool-icon">🔗</div>
                                <div class="image-caption">Steel</div>
                                <div class="image-description">Requires metal screws, bolts, and specialized clamps</div>
                            </div>
                        </div>

                        <h3>Safety and Security</h3>
                        <div class="warning-box">
                            <h4>Critical Installation Requirements</h4>
                            <p>It is important that you make sure you carry out the fastening of piping or equipment safely and securely. It is essential that anything you fasten remains in its original position. You should select a fastening device or design of a support or bracket with care.</p>
                        </div>

                        <h3>To Ensure a Secure Installation</h3>
                        <p>To ensure a secure installation, you should do the following:</p>
                        <ul>
                            <li>Select screws or bolts of the correct size and grade.</li>
                            <li>Select the correct inserts, plugs, and shields that you must drill or place in concrete, and set them properly.</li>
                            <li>Consider expansion, contraction, and vibration, and take appropriate measures to ensure the piping or equipment remains in place.</li>
                            <li>Use the proper number of fasteners and supports for the weight or size of the piping and equipment.</li>
                        </ul>
                    </div>
                `,
                knowledgeCheck: {
                    question: "In the gas industry, what are the three main types of material that you must fasten to or from?",
                    options: [
                        "Wood, concrete, steel",
                        "Brick, concrete, steel",
                        "Wood, plastic, concrete",
                        "Concrete, wood, brick"
                    ],
                    correct: 0,
                    explanation: "The three main materials in the gas industry are wood, concrete, and steel. Each requires specific fastening techniques and appropriate hardware selection."
                }
            },
            {
                title: "Types of Fasteners - General Fasteners and Screws",
                content: `
                    <div class="section">
                        <h2>Types of Fasteners</h2>
                        
                        <h3>General Fasteners</h3>
                        <p>A huge variety of fasteners is available to the gas technician/fitter. Their designs are job-specific, so you must take care in selecting them. Small details can have a great effect on their function. Be sure to store all fasteners in a clean and dry environment so that they are in good condition for use.</p>

                        <h3>Screws</h3>
                        <p>There are many different types of screws, such as wood screws, metal screws, machine screws, and set screws. Gas technicians/fitters extensively use all types, which come in varying sizes, lengths, and head type, but have one purpose—to fasten one object to another. Figures 1-1, 1-2, and 1-3 show some common types of screws.</p>

                        <div class="image-grid">
                            <div class="image-card">
                                <div class="image-placeholder">⚙️</div>
                                <div class="image-caption">Cap Screw</div>
                                <div class="image-description">Used with nuts for strong connections</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🔩</div>
                                <div class="image-caption">Fillister Head Machine Screw</div>
                                <div class="image-description">Cylindrical head design</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">📐</div>
                                <div class="image-caption">Flat Head Machine Screw</div>
                                <div class="image-description">Countersunk head design</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">⭕</div>
                                <div class="image-caption">Round Head Machine Screw</div>
                                <div class="image-description">Rounded head design</div>
                            </div>
                        </div>

                        <h3>Self-Tapping Metal Screws</h3>
                        <div class="info-box">
                            <h4>Self-Tapping Metal Screws Features</h4>
                            <p>These screws have specialized threading that allows them to create their own threads as they are driven into the material. They're particularly useful for sheet metal applications and come in various head styles including countersunk flat head and binding head designs.</p>
                        </div>

                        <h3>Wood Screws</h3>
                        <p>Wood screws are specifically designed for fastening into wooden materials. They feature coarse threads and tapered shanks that grip well in wood fibers. Common head styles include flat, round, and oval heads.</p>

                        <div class="tip-box">
                            <h4>💡 Installation Tip</h4>
                            <p>For best results with wood screws, consider drilling pilot holes, especially in hardwood or when working near the edge of the material to prevent splitting.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "Why must expansion or vibration be taken into consideration when fastening or supporting equipment?",
                    options: [
                        "To reduce the possibility of leaks",
                        "To allow for service access",
                        "To ensure the equipment remains in place",
                        "To reduce noise"
                    ],
                    correct: 2,
                    explanation: "Expansion, vibration, and contraction must be considered to ensure that piping and equipment remain securely in place over time, maintaining the integrity of the installation."
                }
            },
            {
                title: "Lag Bolts, Bolts and Threaded Rod",
                content: `
                    <div class="section">
                        <h2>Lag Bolts</h2>
                        <p>Lag bolts are not actually bolts; they are heavy screws that help fasten brackets to wooden members (Figure 1-4). They are a practical alternative to a nut and bolt arrangement, although larger sizes of lag bolts may require a pilot hole.</p>

                        <div class="image-card">
                            <div class="image-placeholder">🔧</div>
                            <div class="image-caption">Lag Bolt Assembly</div>
                            <div class="image-description">Shows lag bolt with metal washer securing bracket to wooden part</div>
                        </div>

                        <div class="tip-box">
                            <h4>💡 Lag Bolt Installation</h4>
                            <p>When installing larger lag bolts, drilling a pilot hole may be required to prevent wood splitting and ensure proper installation.</p>
                        </div>

                        <h3>Bolts</h3>
                        <p>Bolts are available in various lengths, sizes, and configurations. They fasten objects into a set position by the leverage of the thread.</p>
                        
                        <p>The thread on the bolt can be either National Fine (NF) or the more commonly used National Coarse (NC). Figure 1-5 shows some common bolts and nuts.</p>

                        <div class="image-grid">
                            <div class="image-card">
                                <div class="image-placeholder">🔩</div>
                                <div class="image-caption">Acorn Nut</div>
                                <div class="image-description">Decorative cap nut for bolt ends</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">⬡</div>
                                <div class="image-caption">Hex Nut</div>
                                <div class="image-description">Standard six-sided nut</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🔒</div>
                                <div class="image-caption">Nylon-Insert Lock Nut</div>
                                <div class="image-description">Prevents loosening with nylon insert</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🔗</div>
                                <div class="image-caption">Rod Coupler</div>
                                <div class="image-description">Connects threaded rods together</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🦋</div>
                                <div class="image-caption">Wing Nut</div>
                                <div class="image-description">Hand-tightened nut with wings</div>
                            </div>
                        </div>

                        <div class="info-box">
                            <h4>Bolt Measurement</h4>
                            <p>Gas technicians/fitters measure the length of bolts from underneath the head to the end in most cases and from end to end in bolts with countersunk heads.</p>
                        </div>

                        <h3>Threaded Rod</h3>
                        <p>Often, the use of a manufactured bolt is not realistic because the correct length is not available, and adjustments are limited. In such cases, you can use a threaded rod and cut it to the required length. Figure 1-6 shows the types of threaded rod (also called ready rod).</p>

                        <div class="image-grid">
                            <div class="image-card">
                                <div class="image-placeholder">📏</div>
                                <div class="image-caption">Steel Rod with Threaded Ends</div>
                                <div class="image-description">Smooth center section with threaded ends</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🔩</div>
                                <div class="image-caption">All-Threaded Rod</div>
                                <div class="image-description">Completely threaded along entire length</div>
                            </div>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What may be required to be done before a large lag screw is fastened to a wooden member?",
                    options: [
                        "The type of wood should be determined",
                        "A pilot hole may have to be drilled",
                        "The length of screw should be determined",
                        "The point of contact should have tape put on it"
                    ],
                    correct: 1,
                    explanation: "Larger sizes of lag bolts may require a pilot hole to be drilled to prevent wood splitting and ensure proper installation."
                }
            },
            {
                title: "Anchoring Fasteners and Pipe Fasteners",
                content: `
                    <div class="section">
                        <h2>Anchoring Fasteners</h2>
                        <p>Various devices help fasten hangers and supports to concrete walls and ceilings. They may be iron, lead, or plastic.</p>

                        <h3>Insert Anchors and Lead and Plastic Shields (Rawl Plugs)</h3>
                        <p>Gas technicians/fitters use insert anchors (Figure 1-7a) and lead and plastic shields (also known as rawl plugs, Figure 1-7b) with machine bolts or lag screws. They insert the anchor or shield into the hole and tighten the fastener into the shield. These anchors and shields require the drilling of a correctly sized hole into the surface. Drop-in anchors require a special tool or pin to set the anchor. The tool must be the appropriate size for the anchor, i.e., a 3/8 tool for a 3/8 anchor, and should not have a "mushroomed" end.</p>

                        <h3>Toggle Bolts</h3>
                        <p>Toggle bolts (Figure 1-7c) help fix hangers to surfaces with hollow spaces behind them. The action of correctly tightening the toggle bolt causes a bracing mechanism to act against the back wall surface. The following are the three types:</p>
                        <ul>
                            <li>spring wing (butterfly);</li>
                            <li>tumble; and</li>
                            <li>riveted tumble.</li>
                        </ul>

                        <div class="image-grid">
                            <div class="image-card">
                                <div class="image-placeholder">⚓</div>
                                <div class="image-caption">Insert Anchor</div>
                                <div class="image-description">Cylindrical anchor for concrete</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🛡️</div>
                                <div class="image-caption">Rawl Plug</div>
                                <div class="image-description">Lead or plastic shield for screws</div>
                            </div>
                            <div class="image-card">
                                <div class="image-placeholder">🦋</div>
                                <div class="image-caption">Toggle Bolt</div>
                                <div class="image-description">Spring-loaded wings for hollow walls</div>
                            </div>
                        </div>

                        <h3>Hose Clamps</h3>
                        <p>Gas technicians/fitters use a hose clamp to attach a hose to a pipe, pump, or other device. Hose clamps can be of the self-tightening type (spring loaded) (Figure 1-9) or of the type requiring manual tightening (Figure 1-8).</p>

                        <div class="warning-box">
                            <h4>Important Safety Note</h4>
                            <p>Generally speaking, hose clamps are not approved for use with a hose that carries either natural gas or propane.</p>
                        </div>

                        <h3>Pipe Fasteners</h3>
                        <p>The installation of piping systems is an integral part of the gas trade. Before installation, it is important to consider how, where, and how often you must support (or fasten) a piping system to be supported from (or to) the structure. The pipe supports available, and the methods of fastening them are numerous. This Chapter describes some of the more common ones.</p>

                        <div class="info-box">
                            <h4>Pipe Support Planning</h4>
                            <p>Proper planning of pipe support systems is essential for safe and code-compliant gas installations. Consider load distribution, thermal expansion, and access for maintenance.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What is used in place of bolts when a large amount of adjustment is required?",
                    options: [
                        "All threaded (ready) rod",
                        "Sleeves",
                        "Brackets"
                    ],
                    correct: 0,
                    explanation: "All-threaded (ready) rod is used when manufactured bolts are not suitable due to length requirements or when adjustments are needed."
                }
            },
            {
                title: "Chapter 1 Final Quiz",
                content: `
                    <div class="section">
                        <h2>Chapter 1 Final Quiz</h2>
                        <p>Test your knowledge of fasteners for gas technicians and fitters.</p>
                        
                        <div class="info-box">
                            <h4>Quiz Instructions</h4>
                            <p>Answer all questions to complete the chapter. Each question is based on the CSA Gas Trade Training materials covered in the previous sections.</p>
                        </div>
                    </div>
                    
                    <div class="quiz-container">
                        <div class="quiz-question">
                            <h4>Question 1:</h4>
                            <p>In the gas industry, what are the three main types of material that are fastened to or from piping and equipment?</p>
                            <ul class="quiz-options" data-question="0">
                                <li onclick="selectQuizOption(0, 0)">a) Wood, concrete, steel</li>
                                <li onclick="selectQuizOption(0, 1)">b) Brick, concrete, steel</li>
                                <li onclick="selectQuizOption(0, 2)">c) Wood, plastic, concrete</li>
                                <li onclick="selectQuizOption(0, 3)">d) Concrete, wood, brick</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 2:</h4>
                            <p>Why must expansion or vibration be taken into consideration when fastening or supporting equipment?</p>
                            <ul class="quiz-options" data-question="1">
                                <li onclick="selectQuizOption(1, 0)">a) To reduce the possibility of leaks</li>
                                <li onclick="selectQuizOption(1, 1)">b) To allow for service access</li>
                                <li onclick="selectQuizOption(1, 2)">c) To ensure the equipment remains in place</li>
                                <li onclick="selectQuizOption(1, 3)">d) To reduce noise</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 3:</h4>
                            <p>How should screws be stored?</p>
                            <ul class="quiz-options" data-question="2">
                                <li onclick="selectQuizOption(2, 0)">a) In a clean, moist environment</li>
                                <li onclick="selectQuizOption(2, 1)">b) According to size</li>
                                <li onclick="selectQuizOption(2, 2)">c) According to material they are used for</li>
                                <li onclick="selectQuizOption(2, 3)">d) In a clean, dry environment</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 4:</h4>
                            <p>What may be required to be done before a large lag screw is fastened to a wooden member?</p>
                            <ul class="quiz-options" data-question="3">
                                <li onclick="selectQuizOption(3, 0)">a) The type of wood should be determined</li>
                                <li onclick="selectQuizOption(3, 1)">b) A pilot hole may have to be drilled</li>
                                <li onclick="selectQuizOption(3, 2)">c) The length of screw should be determined</li>
                                <li onclick="selectQuizOption(3, 3)">d) The point of contact should have tape put on it</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 5:</h4>
                            <p>What are the two common thread patterns found on bolts used by the gas technician/fitter?</p>
                            <ul class="quiz-options" data-question="4">
                                <li onclick="selectQuizOption(4, 0)">a) Small and large</li>
                                <li onclick="selectQuizOption(4, 1)">b) Nominal pipe and British standard</li>
                                <li onclick="selectQuizOption(4, 2)">c) National Coarse and National Fine</li>
                            </ul>
                        </div>

                        <button class="submit-quiz-btn" onclick="submitQuiz()">Submit Quiz</button>
                        
                        <div class="quiz-feedback" id="quiz-results"></div>
                    </div>

                    <div class="chapter-completion" id="completion">
                        <h3>🎉 Chapter 1 Complete!</h3>
                        <p>Congratulations! You have successfully completed Chapter 1 - Fasteners.</p>
                        <div class="score-display">
                            <h4>Your Score: <span id="final-score"></span></h4>
                            <p>You're now ready to proceed to Chapter 2 - Tools.</p>
                        </div>
                    </div>
                `
            }
        ];

        // Quiz answers based on the CSA provided quiz (correct answers: a, c, d, b, c)
        const quizCorrectAnswers = [0, 2, 3, 1, 2];
        const quizExplanations = [
            "The three main materials in the gas industry are wood, concrete, and steel, each requiring specific fastening techniques.",
            "Expansion, vibration, and contraction must be considered to ensure that piping and equipment remain securely in place over time.",
            "Screws should be stored in a clean, dry environment to maintain their condition and prevent corrosion.",
            "Larger lag bolts may require a pilot hole to be drilled to prevent wood splitting and ensure proper installation.",
            "The two common thread patterns are National Coarse (NC) and National Fine (NF), with NC being more commonly used."
        ];

        function loadSection() {
            const section = sections[currentSection];
            let content = section.content;
            
            if (section.knowledgeCheck && currentSection < 5) {
                content += createKnowledgeCheck(section.knowledgeCheck, currentSection);
            }
            
            document.getElementById('content').innerHTML = content;
            updateNavigation();
            updateProgress();
        }

        function createKnowledgeCheck(check, sectionIndex) {
            return `
                <div class="knowledge-check">
                    <h3>Knowledge Check</h3>
                    <div class="question">
                        <p>${check.question}</p>
                        <ul class="options">
                            ${check.options.map((option, index) => 
                                `<li onclick="selectOption(${sectionIndex}, ${index})" data-index="${index}">${option}</li>`
                            ).join('')}
                        </ul>
                        <button class="check-btn" onclick="checkAnswer(${sectionIndex}, ${check.correct}, '${check.explanation.replace(/'/g, "\\'")}')">Check Answer</button>
                        <div class="feedback" id="feedback-${sectionIndex}"></div>
                    </div>
                </div>
            `;
        }

        function selectOption(sectionIndex, optionIndex) {
            const options = document.querySelectorAll('.knowledge-check .options li');
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            userAnswers[sectionIndex] = optionIndex;
        }

        function checkAnswer(sectionIndex, correct, explanation) {
            const options = document.querySelectorAll('.knowledge-check .options li');
            const feedback = document.getElementById(`feedback-${sectionIndex}`);
            const selected = userAnswers[sectionIndex];
            
            if (selected === undefined) {
                alert('Please select an answer first.');
                return;
            }
            
            options.forEach((option, index) => {
                if (index === correct) {
                    option.classList.add('correct');
                } else if (index === selected && index !== correct) {
                    option.classList.add('incorrect');
                }
            });
            
            feedback.style.display = 'block';
            feedback.className = `feedback ${selected === correct ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <p><strong>${selected === correct ? 'Correct!' : 'Incorrect.'}</strong></p>
                <p>${explanation}</p>
            `;
            
            document.querySelector('.check-btn').disabled = true;
        }

        function selectQuizOption(questionIndex, optionIndex) {
            const questionContainer = document.querySelector(`[data-question="${questionIndex}"]`);
            const options = questionContainer.querySelectorAll('li');
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            quizAnswers[questionIndex] = optionIndex;
        }

        function submitQuiz() {
            let score = 0;
            let resultsHTML = '<h3>Quiz Results</h3>';
            
            for (let i = 0; i < 5; i++) {
                const userAnswer = quizAnswers[i];
                const correctAnswer = quizCorrectAnswers[i];
                const isCorrect = userAnswer === correctAnswer;
                
                if (isCorrect) score++;
                
                // Update visual feedback
                const questionContainer = document.querySelector(`[data-question="${i}"]`);
                const options = questionContainer.querySelectorAll('li');
                options.forEach((option, index) => {
                    if (index === correctAnswer) {
                        option.classList.add('correct');
                    } else if (index === userAnswer && !isCorrect) {
                        option.classList.add('incorrect');
                    }
                });
                
                resultsHTML += `
                    <div style="margin: 15px 0; padding: 10px; border-radius: 5px; background: ${isCorrect ? '#d4edda' : '#f8d7da'};">
                        <p><strong>Question ${i + 1}: ${isCorrect ? 'Correct' : 'Incorrect'}</strong></p>
                        <p style="font-size: 0.9em;">${quizExplanations[i]}</p>
                    </div>
                `;
            }
            
            const percentage = Math.round((score / 5) * 100);
            resultsHTML += `<p><strong>Final Score: ${score}/5 (${percentage}%)</strong></p>`;
            
            document.getElementById('quiz-results').innerHTML = resultsHTML;
            document.getElementById('quiz-results').classList.add('show');
            document.querySelector('.submit-quiz-btn').disabled = true;
            
            // Show completion
            document.getElementById('final-score').textContent = `${score}/5 (${percentage}%)`;
            document.getElementById('completion').classList.add('show');
        }

        function nextSection() {
            if (currentSection < totalSections - 1) {
                currentSection++;
                loadSection();
            }
        }

        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                loadSection();
            }
        }

        function updateNavigation() {
            document.getElementById('prev-btn').disabled = currentSection === 0;
            document.getElementById('next-btn').disabled = currentSection === totalSections - 1;
            document.getElementById('section-counter').textContent = `Section ${currentSection + 1} of ${totalSections}`;
        }

        function updateProgress() {
            const progress = ((currentSection + 1) / totalSections) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        // Initialize
        loadSection();
    </script>
</body>
</html>