<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSA Unit 24 - Heat Loss/Heat Gain & Air Handling Units</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        .logo {
            width: 120px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .csa-logo {
            width: 100%;
            height: auto;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .final-exam-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            grid-column: 1 / -1;
            font-size: 18px;
            padding: 25px;
        }

        .quiz-container {
            display: none;
        }

        .quiz-header {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .quiz-title {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .answer-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .control-button {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .prev-button {
            background: #6c757d;
            color: white;
        }

        .next-button {
            background: #667eea;
            color: white;
        }

        .quit-button {
            background: #dc3545;
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
        }

        .score-excellent { background: linear-gradient(135deg, #00b894, #00a085); }
        .score-good { background: linear-gradient(135deg, #fdcb6e, #e17055); }
        .score-fair { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .score-poor { background: linear-gradient(135deg, #e17055, #d63031); }

        .results-title {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .answers-review {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }

        .review-header {
            color: #2c3e50;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .question-review {
            border-bottom: 1px solid #e9ecef;
            padding: 15px 0;
            margin-bottom: 15px;
        }

        .question-review:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .review-question-text {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .answer-comparison {
            display: grid;
            gap: 8px;
        }

        .answer-row {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .user-answer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .user-answer.correct {
            background: #d4edda;
            border: 1px solid #74b816;
            color: #155724;
        }

        .user-answer.incorrect {
            background: #f8d7da;
            border: 1px solid #e74c3c;
            color: #721c24;
        }

        .correct-answer {
            background: #d1ecf1;
            border: 1px solid #74b816;
            color: #0c5460;
        }

        .answer-label {
            font-weight: 600;
            margin-right: 10px;
            min-width: 80px;
        }

        .answer-text {
            flex: 1;
        }

        .answer-icon {
            margin-left: 10px;
            font-weight: bold;
        }

        .toggle-review {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .toggle-review:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
            font-size: 14px;
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .lark-logo {
            height: 30px;
            width: auto;
        }

        .created-by {
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Navigation -->
        <div id="mainMenu">
            <div class="logo">
                <svg class="csa-logo" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- CSA Square Logo with curved design -->
                    <rect x="0" y="150" width="300" height="300" fill="#1565C0" rx="20"/>
                    <!-- Green curved element -->
                    <path d="M 50 250 Q 150 200 250 250 Q 200 300 100 280 Q 75 265 50 250" fill="#7CB342"/>
                    <!-- White curved swoosh -->
                    <path d="M 0 350 Q 100 300 200 350 Q 250 380 300 400 L 300 450 Q 200 420 100 450 Q 50 430 0 450 Z" fill="white"/>
                    
                    <!-- CSA Text -->
                    <text x="350" y="280" font-family="Arial, sans-serif" font-size="120" font-weight="bold" fill="#1565C0">CSA</text>
                    
                    <!-- STANDARDS Text -->
                    <text x="0" y="550" font-family="Arial, sans-serif" font-size="80" font-weight="bold" fill="#7CB342">STANDARDS</text>
                </svg>
            </div>
            <h1>Unit 24 - Heat Loss/Heat Gain & Air Handling Units</h1>
            <p class="subtitle">Gas Trade Training - Chapter Questions</p>
            
            <div class="button-grid">
                <button class="nav-button" onclick="startQuiz('chapter1')">
                    Chapter 1<br>
                    <small>Heat Loss/Heat Gain</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter2')">
                    Chapter 2<br>
                    <small>Air Handling Units</small>
                </button>
                <button class="nav-button final-exam-button" onclick="startQuiz('finalExam')">
                    CSA Unit 24 Final Exam<br>
                    <small>Heat Loss/Heat Gain & Air Handling Units</small>
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container">
            <div class="quiz-header">
                <h2 id="quizTitle" class="quiz-title"></h2>
                <div id="progressInfo"></div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionCard" class="question-card">
                <div id="questionNumber" class="question-number"></div>
                <div id="questionText" class="question-text"></div>
                <div id="answerOptions"></div>
            </div>

            <div class="quiz-controls">
                <button id="prevButton" class="control-button prev-button" onclick="previousQuestion()">Previous</button>
                <button id="quitButton" class="control-button quit-button">Quit Quiz</button>
                <button id="nextButton" class="control-button next-button" onclick="nextQuestion()">Next</button>
            </div>

            <!-- Footer for Quiz -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- Bird -->
                        <ellipse cx="80" cy="80" rx="45" ry="30" fill="#4A90E2"/>
                        <ellipse cx="70" cy="70" rx="25" ry="18" fill="#357ABD"/>
                        <circle cx="60" cy="65" r="4" fill="white"/>
                        <circle cx="58" cy="64" r="2" fill="#2C5AA0"/>
                        <!-- Beak -->
                        <polygon points="30,75 15,80 30,85" fill="#FF6B6B"/>
                        <!-- Sound lines -->
                        <path d="M 5 65 Q 15 60 25 65" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 75 Q 15 70 25 75" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 85 Q 15 80 25 85" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <!-- LARK text -->
                        <text x="180" y="90" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#2C5AA0">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="130" font-family="Arial, sans-serif" font-size="32" fill="#95A5A6">LABS</text>
                        <!-- Subtitle -->
                        <text x="180" y="155" font-family="Arial, sans-serif" font-size="16" fill="#BDC3C7">SOFTWARE DEVELOPMENT</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container">
            <div id="scoreCircle" class="score-circle">
                <span id="scorePercentage"></span>
            </div>
            <h2 class="results-title">Quiz Complete!</h2>
            <div class="results-details">
                <div class="detail-item">
                    <span>Total Questions:</span>
                    <span id="totalQuestions"></span>
                </div>
                <div class="detail-item">
                    <span>Correct Answers:</span>
                    <span id="correctAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Incorrect Answers:</span>
                    <span id="incorrectAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Final Score:</span>
                    <span id="finalScore"></span>
                </div>
            </div>
            
            <button class="toggle-review" onclick="toggleAnswerReview()">Show Answer Review</button>
            
            <div id="answersReview" class="answers-review" style="display: none;">
                <div class="review-header">Answer Review</div>
                <div id="reviewContent"></div>
            </div>
            
            <button class="control-button next-button" onclick="returnToMenu()">Return to Menu</button>

            <!-- Footer for Results -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- Bird -->
                        <ellipse cx="80" cy="80" rx="45" ry="30" fill="#4A90E2"/>
                        <ellipse cx="70" cy="70" rx="25" ry="18" fill="#357ABD"/>
                        <circle cx="60" cy="65" r="4" fill="white"/>
                        <circle cx="58" cy="64" r="2" fill="#2C5AA0"/>
                        <!-- Beak -->
                        <polygon points="30,75 15,80 30,85" fill="#FF6B6B"/>
                        <!-- Sound lines -->
                        <path d="M 5 65 Q 15 60 25 65" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 75 Q 15 70 25 75" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <path d="M 5 85 Q 15 80 25 85" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                        <!-- LARK text -->
                        <text x="180" y="90" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#2C5AA0">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="130" font-family="Arial, sans-serif" font-size="32" fill="#95A5A6">LABS</text>
                        <!-- Subtitle -->
                        <text x="180" y="155" font-family="Arial, sans-serif" font-size="16" fill="#BDC3C7">SOFTWARE DEVELOPMENT</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <span class="created-by">Created by</span>
                <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Bird -->
                    <ellipse cx="80" cy="80" rx="45" ry="30" fill="#4A90E2"/>
                    <ellipse cx="70" cy="70" rx="25" ry="18" fill="#357ABD"/>
                    <circle cx="60" cy="65" r="4" fill="white"/>
                    <circle cx="58" cy="64" r="2" fill="#2C5AA0"/>
                    <!-- Beak -->
                    <polygon points="30,75 15,80 30,85" fill="#FF6B6B"/>
                    <!-- Sound lines -->
                    <path d="M 5 65 Q 15 60 25 65" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M 5 75 Q 15 70 25 75" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M 5 85 Q 15 80 25 85" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <!-- LARK text -->
                    <text x="180" y="90" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#2C5AA0">LARK</text>
                    <!-- LABS text -->
                    <text x="180" y="130" font-family="Arial, sans-serif" font-size="32" fill="#95A5A6">LABS</text>
                    <!-- Subtitle -->
                    <text x="180" y="155" font-family="Arial, sans-serif" font-size="16" fill="#BDC3C7">SOFTWARE DEVELOPMENT</text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // Quiz data based on CSA Unit 24 materials
        const quizData = {
            chapter1: {
                title: "Chapter 1: Heat Loss/Heat Gain",
                questions: [
                    {
                        question: "Which type of ventilation system can lead to problems with moisture laden air being driven onto the wall cavities?",
                        options: [
                            "Natural ventilation",
                            "Balanced ventilation",
                            "Supply fan ventilation",
                            "Exhaust fan ventilation"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of ventilation system can cause problems with the venting action of fuel-fired appliances, creating combustion product spillage or back-drafting?",
                        options: [
                            "Natural ventilation",
                            "Balanced ventilation",
                            "Supply fan ventilation",
                            "Exhaust fan ventilation"
                        ],
                        correct: 3
                    },
                    {
                        question: "What is enthalpy?",
                        options: [
                            "Enthalpy is the dew point of a sample of air",
                            "Enthalpy is the total heat contained in a substance",
                            "Enthalpy is the latent heat contained in a substance",
                            "Enthalpy is the sensible heat contained in a substance"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is dewpoint?",
                        options: [
                            "The temperature required to change the state of a substance",
                            "The temperature based on a 10-year average for a specific location",
                            "The temperature below which moisture in the air begins to condense",
                            "The temperature above which moisture in the air begins to condense"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is the term that describes the percentage of moisture in the air compared to the amount it would hold if the air were saturated at the same temperature?",
                        options: [
                            "Dew point",
                            "Humidity ratio",
                            "Relative humidity",
                            "Wet bulb temperature"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is the term that indicates the actual amount of moisture found in the air?",
                        options: [
                            "Dew point",
                            "Humidity ratio",
                            "Relative humidity",
                            "Wet bulb temperature"
                        ],
                        correct: 1
                    },
                    {
                        question: "When the temperature on two sides of a material is different, heat flows from the cooler side to the warmer side.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the specific heat of air at standard conditions?",
                        options: [
                            "0.018 Btu/lb",
                            "0.2417 Btu/lb",
                            "1.01 Btu/lb",
                            "4.186 Btu/lb"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the danger of having too little ventilation in a dwelling?",
                        options: [
                            "Increased costs",
                            "Cool and Drafty",
                            "Positive building pressures",
                            "A buildup of pollutants within the dwelling"
                        ],
                        correct: 3
                    }
                ]
            },
            chapter2: {
                title: "Chapter 2: Air Handling Units",
                questions: [
                    {
                        question: "What is the proper position of a gas fired duct furnace?",
                        options: [
                            "Upstream of air conditioning coil and air handling fan",
                            "Downstream of air conditioning coil and air handling fan",
                            "Upstream of air conditioning coil and downstream of air handling fan",
                            "Downstream of air conditioning coil and upstream of air handling fan"
                        ],
                        correct: 2
                    },
                    {
                        question: "If multiple separately controlled and sequenced duct furnaces are installed in series within the same duct, the upstream duct furnaces must operate before the downstream duct furnaces.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "A radial duct system can be used to increase headroom in a basement.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "On individual return air systems, what is usually done to ensure less resistance to air flow in the return system?",
                        options: [
                            "Undercut doors",
                            "Slightly larger return air ducts",
                            "Slightly smaller return air ducts",
                            "Include return air grilles in rooms without supply air"
                        ],
                        correct: 1
                    },
                    {
                        question: "Paint can make flexible duct connectors rigid and prevent them from absorbing vibration.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "What would indicate internal blockages may be present with a duct furnace?",
                        options: [
                            "Increased CFM",
                            "Decreased temperature rise",
                            "Increase motor current draw",
                            "Cycling on and off on high limit"
                        ],
                        correct: 3
                    },
                    {
                        question: "If the blower in a forced-air distribution system moves 2100 cfm of air through a 24 inch x 18 inch duct, what is the velocity?",
                        options: [
                            "58 ft/min",
                            "420 ft/min",
                            "700 ft/min",
                            "1000 ft/min"
                        ],
                        correct: 2
                    },
                    {
                        question: "Select the statement that best defines velocity pressure.",
                        options: [
                            "Decrease in air pressure caused by friction",
                            "Pressure that is created by the air movement",
                            "Pressure against which the blower has to work",
                            "Air pressure in the duct at right angles to the direction of air flow"
                        ],
                        correct: 1
                    },
                    {
                        question: "Where is the lowest air pressure in the ductwork of a forced air heating system?",
                        options: [
                            "On the supply side after the cooling coil",
                            "On the return side upstream of the filter",
                            "On the return side between the furnace and the filter",
                            "On the supply side between the furnace and the cooling coil"
                        ],
                        correct: 2
                    },
                    {
                        question: "If the flanges are closed on an adjustable motor pulley, what happens to the belt and pulley?",
                        options: [
                            "Belt is raised and pulley diameter gets larger",
                            "Belt is raised and pulley diameter gets smaller",
                            "Belt is lowered and pulley diameter gets larger",
                            "Belt is lowered and pulley diameter gets smaller"
                        ],
                        correct: 0
                    },
                    {
                        question: "If the motor pulley is increased to twice the original size, what would the blower speed be (in relation to the original blower speed)?",
                        options: [
                            "No change in blower speed",
                            "Â½ the original blower speed",
                            "Twice the original blower speed",
                            "Four times the original blower speed"
                        ],
                        correct: 2
                    },
                    {
                        question: "If a larger diameter blower pulley is installed, what will happen to air flow and to temperature rise across the heat exchanger?",
                        options: [
                            "Air flow would increase and temperature rise would decrease",
                            "Air flow would decrease and temperature rise would increase",
                            "Air flow would increase and temperature rise would increase",
                            "Air flow would decrease and temperature rise would decrease"
                        ],
                        correct: 0
                    },
                    {
                        question: "If the fan compartment door on a forced air furnace is left off, what is the effect on the blower motor?",
                        options: [
                            "Less work done by motor so current decreases",
                            "Less work done by motor so current increases",
                            "More work done by motor so current increases",
                            "More work done by motor so current decreases"
                        ],
                        correct: 1
                    },
                    {
                        question: "A PSC motor with multiple windings gets lower efficiency at lower speeds.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "An ECM maintains an efficiency range between 60% and 80% for all speeds.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "Calculate the air velocity for a velocity pressure reading of 0.04 inches of w.c.",
                        options: [
                            "566 ft/min",
                            "801 ft/min",
                            "1132 ft/min",
                            "1602 ft/min"
                        ],
                        correct: 1
                    }
                ]
            },
            finalExam: {
                title: "CSA Unit 24 Final Exam - Heat Loss/Heat Gain & Air Handling Units",
                questions: [
                    {
                        question: "Which type of ventilation system can lead to problems with moisture laden air being driven onto the wall cavities?",
                        options: [
                            "Natural ventilation",
                            "Balanced ventilation",
                            "Supply fan ventilation",
                            "Exhaust fan ventilation"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is enthalpy?",
                        options: [
                            "Enthalpy is the dew point of a sample of air",
                            "Enthalpy is the total heat contained in a substance",
                            "Enthalpy is the latent heat contained in a substance",
                            "Enthalpy is the sensible heat contained in a substance"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the term that describes the percentage of moisture in the air compared to the amount it would hold if the air were saturated at the same temperature?",
                        options: [
                            "Dew point",
                            "Humidity ratio",
                            "Relative humidity",
                            "Wet bulb temperature"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is the proper position of a gas fired duct furnace?",
                        options: [
                            "Upstream of air conditioning coil and air handling fan",
                            "Downstream of air conditioning coil and air handling fan",
                            "Upstream of air conditioning coil and downstream of air handling fan",
                            "Downstream of air conditioning coil and upstream of air handling fan"
                        ],
                        correct: 2
                    },
                    {
                        question: "When the temperature on two sides of a material is different, heat flows from the cooler side to the warmer side.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the specific heat of air at standard conditions?",
                        options: [
                            "0.018 Btu/lb",
                            "0.2417 Btu/lb",
                            "1.01 Btu/lb",
                            "4.186 Btu/lb"
                        ],
                        correct: 1
                    },
                    {
                        question: "On individual return air systems, what is usually done to ensure less resistance to air flow in the return system?",
                        options: [
                            "Undercut doors",
                            "Slightly larger return air ducts",
                            "Slightly smaller return air ducts",
                            "Include return air grilles in rooms without supply air"
                        ],
                        correct: 1
                    },
                    {
                        question: "Paint can make flexible duct connectors rigid and prevent them from absorbing vibration.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "Select the statement that best defines velocity pressure.",
                        options: [
                            "Decrease in air pressure caused by friction",
                            "Pressure that is created by the air movement",
                            "Pressure against which the blower has to work",
                            "Air pressure in the duct at right angles to the direction of air flow"
                        ],
                        correct: 1
                    },
                    {
                        question: "If the flanges are closed on an adjustable motor pulley, what happens to the belt and pulley?",
                        options: [
                            "Belt is raised and pulley diameter gets larger",
                            "Belt is raised and pulley diameter gets smaller", 
                            "Belt is lowered and pulley diameter gets larger",
                            "Belt is lowered and pulley diameter gets smaller"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is the danger of having too little ventilation in a dwelling?",
                        options: [
                            "Increased costs",
                            "Cool and Drafty",
                            "Positive building pressures",
                            "A buildup of pollutants within the dwelling"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which type of ventilation system can cause problems with the venting action of fuel-fired appliances, creating combustion product spillage or back-drafting?",
                        options: [
                            "Natural ventilation",
                            "Balanced ventilation",
                            "Supply fan ventilation",
                            "Exhaust fan ventilation"
                        ],
                        correct: 3
                    },
                    {
                        question: "If multiple separately controlled and sequenced duct furnaces are installed in series within the same duct, the upstream duct furnaces must operate before the downstream duct furnaces.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "What would indicate internal blockages may be present with a duct furnace?",
                        options: [
                            "Increased CFM",
                            "Decreased temperature rise",
                            "Increase motor current draw",
                            "Cycling on and off on high limit"
                        ],
                        correct: 3
                    },
                    {
                        question: "If a larger diameter blower pulley is installed, what will happen to air flow and to temperature rise across the heat exchanger?",
                        options: [
                            "Air flow would increase and temperature rise would decrease",
                            "Air flow would decrease and temperature rise would increase",
                            "Air flow would increase and temperature rise would increase",
                            "Air flow would decrease and temperature rise would decrease"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is dewpoint?",
                        options: [
                            "The temperature required to change the state of a substance",
                            "The temperature based on a 10-year average for a specific location",
                            "The temperature below which moisture in the air begins to condense",
                            "The temperature above which moisture in the air begins to condense"
                        ],
                        correct: 2
                    },
                    {
                        question: "Where is the lowest air pressure in the ductwork of a forced air heating system?",
                        options: [
                            "On the supply side after the cooling coil",
                            "On the return side upstream of the filter",
                            "On the return side between the furnace and the filter",
                            "On the supply side between the furnace and the cooling coil"
                        ],
                        correct: 2
                    },
                    {
                        question: "A PSC motor with multiple windings gets lower efficiency at lower speeds.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "An ECM maintains an efficiency range between 60% and 80% for all speeds.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "Calculate the air velocity for a velocity pressure reading of 0.04 inches of w.c.",
                        options: [
                            "566 ft/min",
                            "801 ft/min",
                            "1132 ft/min",
                            "1602 ft/min"
                        ],
                        correct: 1
                    }
                ]
            }
        };

        // Quiz state
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function startQuiz(quizType) {
            currentQuiz = quizData[quizType];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';

            document.getElementById('quizTitle').textContent = currentQuiz.title;
            
            // Set up quit button event listener
            const quitButton = document.getElementById('quitButton');
            if (quitButton) {
                quitButton.onclick = function() {
                    returnToMenu();
                };
            }
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            const totalQuestions = currentQuiz.questions.length;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressInfo').textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            
            // Show question
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;
            
            // Show options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                button.onclick = () => selectAnswer(index);
                
                // Restore previous selection
                if (userAnswers[currentQuestionIndex] === index) {
                    button.classList.add('selected');
                }
                
                optionsContainer.appendChild(button);
            });
            
            // Update navigation buttons
            document.getElementById('prevButton').disabled = currentQuestionIndex === 0;
            document.getElementById('nextButton').textContent = 
                currentQuestionIndex === totalQuestions - 1 ? 'Finish Quiz' : 'Next';
        }

        function selectAnswer(answerIndex) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked option
            event.target.classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            for (let i = 0; i < currentQuiz.questions.length; i++) {
                if (userAnswers[i] === currentQuiz.questions[i].correct) {
                    score++;
                }
            }
            
            showResults();
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
            
            const totalQuestions = currentQuiz.questions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('scorePercentage').textContent = percentage + '%';
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('incorrectAnswers').textContent = totalQuestions - score;
            document.getElementById('finalScore').textContent = percentage + '%';
            
            // Set score circle color based on performance
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = 'score-circle';
            if (percentage >= 90) {
                scoreCircle.classList.add('score-excellent');
            } else if (percentage >= 80) {
                scoreCircle.classList.add('score-good');
            } else if (percentage >= 70) {
                scoreCircle.classList.add('score-fair');
            } else {
                scoreCircle.classList.add('score-poor');
            }
            
            // Generate answer review
            generateAnswerReview();
        }

        function generateAnswerReview() {
            const reviewContent = document.getElementById('reviewContent');
            reviewContent.innerHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-review';
                
                const userAnswerIndex = userAnswers[index];
                const correctAnswerIndex = question.correct;
                const isCorrect = userAnswerIndex === correctAnswerIndex;
                
                // Question text
                const questionText = document.createElement('div');
                questionText.className = 'review-question-text';
                questionText.textContent = `${index + 1}. ${question.question}`;
                questionDiv.appendChild(questionText);
                
                // Answer comparison
                const answerComparison = document.createElement('div');
                answerComparison.className = 'answer-comparison';
                
                // User's answer
                const userAnswerDiv = document.createElement('div');
                userAnswerDiv.className = `answer-row user-answer ${isCorrect ? 'correct' : 'incorrect'}`;
                
                const userAnswerLabel = document.createElement('span');
                userAnswerLabel.className = 'answer-label';
                userAnswerLabel.textContent = 'Your answer:';
                
                const userAnswerText = document.createElement('span');
                userAnswerText.className = 'answer-text';
                
                if (userAnswerIndex !== undefined) {
                    const optionLetter = String.fromCharCode(65 + userAnswerIndex);
                    userAnswerText.textContent = `${optionLetter}) ${question.options[userAnswerIndex]}`;
                } else {
                    userAnswerText.textContent = 'No answer selected';
                }
                
                const userAnswerIcon = document.createElement('span');
                userAnswerIcon.className = 'answer-icon';
                userAnswerIcon.textContent = isCorrect ? 'â' : 'â';
                
                userAnswerDiv.appendChild(userAnswerLabel);
                userAnswerDiv.appendChild(userAnswerText);
                userAnswerDiv.appendChild(userAnswerIcon);
                
                // Correct answer (only show if user was wrong)
                if (!isCorrect) {
                    const correctAnswerDiv = document.createElement('div');
                    correctAnswerDiv.className = 'answer-row correct-answer';
                    
                    const correctAnswerLabel = document.createElement('span');
                    correctAnswerLabel.className = 'answer-label';
                    correctAnswerLabel.textContent = 'Correct:';
                    
                    const correctAnswerText = document.createElement('span');
                    correctAnswerText.className = 'answer-text';
                    const correctOptionLetter = String.fromCharCode(65 + correctAnswerIndex);
                    correctAnswerText.textContent = `${correctOptionLetter}) ${question.options[correctAnswerIndex]}`;
                    
                    const correctAnswerIcon = document.createElement('span');
                    correctAnswerIcon.className = 'answer-icon';
                    correctAnswerIcon.textContent = 'â';
                    
                    correctAnswerDiv.appendChild(correctAnswerLabel);
                    correctAnswerDiv.appendChild(correctAnswerText);
                    correctAnswerDiv.appendChild(correctAnswerIcon);
                    
                    answerComparison.appendChild(userAnswerDiv);
                    answerComparison.appendChild(correctAnswerDiv);
                } else {
                    answerComparison.appendChild(userAnswerDiv);
                }
                
                questionDiv.appendChild(answerComparison);
                reviewContent.appendChild(questionDiv);
            });
        }

        function toggleAnswerReview() {
            const reviewDiv = document.getElementById('answersReview');
            const button = document.querySelector('.toggle-review');
            
            if (reviewDiv.style.display === 'none') {
                reviewDiv.style.display = 'block';
                button.textContent = 'Hide Answer Review';
            } else {
                reviewDiv.style.display = 'none';
                button.textContent = 'Show Answer Review';
            }
        }

        function returnToMenu() {
            // Hide all containers
            const quizContainer = document.getElementById('quizContainer');
            const resultsContainer = document.getElementById('resultsContainer');
            const mainMenu = document.getElementById('mainMenu');
            
            if (quizContainer) {
                quizContainer.style.display = 'none';
            }
            if (resultsContainer) {
                resultsContainer.style.display = 'none';
            }
            // Show main menu
            if (mainMenu) {
                mainMenu.style.display = 'block';
            }
            
            // Reset quiz state
            currentQuiz = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            
            // Reset the answer review toggle
            const reviewDiv = document.getElementById('answersReview');
            const toggleButton = document.querySelector('.toggle-review');
            if (reviewDiv) {
                reviewDiv.style.display = 'none';
            }
            if (toggleButton) {
                toggleButton.textContent = 'Show Answer Review';
            }
        }
    </script>
</body>
</html>