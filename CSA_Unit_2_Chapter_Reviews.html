<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gas Trade Unit 2 - Tools & Testing Equipment | TSSA G3 Practice Test | CSA B149.1-25</title>
    <meta name="description" content="Free Gas Trade Unit 2 practice questions for TSSA G3 certification. Study tools, fasteners, and combustion testing equipment based on CSA B149.1-25 requirements. Ontario gas technician G3 exam prep.">
    <meta name="keywords" content="TSSA G3 Unit 2, gas technician tools, combustion testing equipment, CSA B149.1-25, pressure testing, gas fitting tools">

    <link rel="stylesheet" href="assets/css/unit-pages-seo.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        .logo {
            width: 120px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .education-logo {
            width: 100%;
            height: auto;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .final-exam-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            grid-column: 1 / -1;
            font-size: 18px;
            padding: 25px;
        }

        .quiz-container {
            display: none;
        }

        .quiz-header {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .quiz-title {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .answer-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .control-button {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .prev-button {
            background: #6c757d;
            color: white;
        }

        .next-button {
            background: #667eea;
            color: white;
        }

        .quit-button {
            background: #dc3545;
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
        }

        .score-excellent { background: linear-gradient(135deg, #00b894, #00a085); }
        .score-good { background: linear-gradient(135deg, #fdcb6e, #e17055); }
        .score-fair { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .score-poor { background: linear-gradient(135deg, #e17055, #d63031); }

        .results-title {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .answers-review {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }

        .review-header {
            color: #2c3e50;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .question-review {
            border-bottom: 1px solid #e9ecef;
            padding: 15px 0;
            margin-bottom: 15px;
        }

        .question-review:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .review-question-text {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .answer-comparison {
            display: grid;
            gap: 8px;
        }

        .answer-row {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .user-answer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .user-answer.correct {
            background: #d4edda;
            border: 1px solid #74b816;
            color: #155724;
        }

        .user-answer.incorrect {
            background: #f8d7da;
            border: 1px solid #e74c3c;
            color: #721c24;
        }

        .correct-answer {
            background: #d1ecf1;
            border: 1px solid #74b816;
            color: #0c5460;
        }

        .answer-label {
            font-weight: 600;
            margin-right: 10px;
            min-width: 80px;
        }

        .answer-text {
            flex: 1;
        }

        .answer-icon {
            margin-left: 10px;
            font-weight: bold;
        }

        .toggle-review {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .toggle-review:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
            font-size: 14px;
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .lark-logo {
            height: 30px;
            width: auto;
        }

        .created-by {
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ============================================ -->
        <!-- SEO-OPTIMIZED UNIT HEADER SECTION -->
        <!-- ============================================ -->
        <div class="unit-header-section">
            <!-- Breadcrumb Navigation -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav">
                <a href="/">Home</a> &gt;
                <a href="/tssa-g3-exam-prep.html">TSSA G3 Exam Prep</a> &gt;
                <span>Gas Trade Unit 2: Tools, Fasteners & Testing Equipment</span>
            </nav>

            <!-- Training Navigation Menu -->
            <nav class="training-nav" aria-label="Training navigation">
                <a href="/">🏠 Home</a>
                <a href="/tssa-g3-exam-prep.html">📚 G3 Prep</a>
                <a href="/tssa-g2-exam-prep.html">📘 G2 Prep</a>
                <a href="/tssa-g3-units-index.html">📑 All Units</a>
                <a href="/csa-code-search.html">🔍 Code Search</a>
            </nav>

            <!-- Unit Title and Introduction -->
            <h1>Gas Trade Unit 2: Tools, Fasteners & Testing Equipment</h1>
            <h2 class="unit-subtitle">TSSA G3 Certification - Practice Questions & Chapter Reviews</h2>

            <!-- Certification Level Badge -->
            <div class="certification-badge">
                <strong>📋 Certification Level:</strong> TSSA G3 (Gas Technician 3 - Basic)
            </div>

            <!-- Introduction Text -->
            <p class="lead-text">
                Master Gas Trade Unit 2 with free CSA B149.1-25 compliant practice questions for the TSSA G3 certification exam. This unit covers essential tools, fasteners, and testing equipment used in gas installations and service work.
            </p>

            <!-- Unit Coverage -->
            <div class="unit-coverage-box">
                <h3>📖 What This Unit Covers</h3>
                <p>Gas Trade Unit 2 focuses on the practical tools and equipment essential for gas technician work:</p>
                <ul class="chapter-list">
                    <li><strong>Chapter 1:</strong> Fasteners - Threaded connections, pipe fittings, and gas-tight fasteners</li>
                    <li><strong>Chapter 2:</strong> Hand Tools - Wrenches, pipe cutters, threading tools for gas work</li>
                    <li><strong>Chapter 3:</strong> Power Tools - Power threading, cutting, and installation equipment</li>
                    <li><strong>Chapter 4:</strong> Measuring Instruments - Manometers, gauges, and measurement tools</li>
                    <li><strong>Chapter 5:</strong> Combustion Testing - Analyzers, CO detectors, and combustion efficiency testing</li>
                    <li><strong>Chapter 6:</strong> Electrical Testing - Multimeters and electrical testing for gas systems</li>
                </ul>
            </div>

            <!-- TSSA Exam Relevance -->
            <div class="exam-relevance-box">
                <h3>🎯 TSSA G3 Exam Relevance</h3>
                <p><strong>CSA Code Reference:</strong> CSA B149.1-25 Section 8 (Testing and Commissioning)</p>
                <p><strong>Exam Coverage:</strong> Tools and testing equipment knowledge appears in 10-15% of G3 exam questions. Critical for understanding proper testing procedures and equipment selection.</p>
            </div>

            <!-- Study Tips -->
            <div class="study-tips-box">
                <h3>💡 Study Tips for Unit 2</h3>
                <ul>
                    <li>Familiarize yourself with all standard gas fitting tools and their proper uses</li>
                    <li>Understand combustion analyzer readings and what they indicate</li>
                    <li>Know the difference between various pressure testing instruments</li>
                    <li>Review CSA B149.1-25 Section 8 testing requirements</li>
                    <li>Practice identifying tools and equipment from descriptions</li>
                </ul>
            </div>
        </div>
        <!-- ============================================ -->
        <!-- END UNIT HEADER SECTION -->
        <!-- ============================================ -->
        <!-- Main Navigation -->
        <div id="mainMenu">
            <div class="logo">
                <svg class="education-logo" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Educational Theme Logo -->
                    <rect x="50" y="150" width="300" height="300" fill="#1565C0" rx="20"/>
                    <!-- Book/Learning symbol -->
                    <path d="M 100 200 L 300 200 L 300 400 L 100 400 Z" fill="white"/>
                    <path d="M 120 220 L 280 220 M 120 250 L 280 250 M 120 280 L 280 280 M 120 310 L 280 310 M 120 340 L 280 340 M 120 370 L 280 370" stroke="#1565C0" stroke-width="3"/>
                    
                    <!-- Learning Text -->
                    <text x="400" y="280" font-family="Arial, sans-serif" font-size="90" font-weight="bold" fill="#1565C0">LEARNING</text>
                    
                    <!-- Educational Text -->
                    <text x="50" y="550" font-family="Arial, sans-serif" font-size="60" font-weight="bold" fill="#7CB342">EDUCATIONAL RESOURCES</text>
                </svg>
            </div>
            <h1>Unit 2 - Tools, Fasteners & Testing Equipment</h1>
            <p class="subtitle">Gas Trade Training - Chapter Questions</p>
            
            <!-- Educational Disclaimer -->
            <div style="background: #e74c3c; color: white; border-radius: 10px; padding: 15px; margin: 20px 0; text-align: center; font-size: 14px;">
                <strong>⚠️ Independent Educational Content</strong><br>
                This content is provided by LARK Labs as an independent educational resource. We are not affiliated with CSA Group or any regulatory body. These materials complement official training but do not replace certified instruction.
            </div>
            
            <div class="button-grid">
                <button class="nav-button" onclick="startQuiz('chapter1')">
                    Chapter 1<br>
                    <small>Fasteners</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter2')">
                    Chapter 2<br>
                    <small>Hand Tools</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter3')">
                    Chapter 3<br>
                    <small>Power Tools and Accessories</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter4')">
                    Chapter 4<br>
                    <small>Measuring Tools</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter5')">
                    Chapter 5<br>
                    <small>Combustion Testing Instruments</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter6')">
                    Chapter 6<br>
                    <small>Electrical Testing Instruments</small>
                </button>
                <button class="nav-button final-exam-button" onclick="startQuiz('finalExam')">
                    CSA Unit 2 Final Exam<br>
                    <small>Tools, Fasteners & Testing Equipment</small>
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container">
            <div class="quiz-header">
                <h2 id="quizTitle" class="quiz-title"></h2>
                <div id="progressInfo"></div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionCard" class="question-card">
                <div id="questionNumber" class="question-number"></div>
                <div id="questionText" class="question-text"></div>
                <div id="answerOptions"></div>
            </div>

            <div class="quiz-controls">
                <button id="prevButton" class="control-button prev-button" onclick="previousQuestion()">Previous</button>
                <button id="quitButton" class="control-button quit-button">Quit Quiz</button>
                <button id="nextButton" class="control-button next-button" onclick="nextQuestion()">Next</button>
            </div>

            <!-- Footer for Quiz -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container">
            <div id="scoreCircle" class="score-circle">
                <span id="scorePercentage"></span>
            </div>
            <h2 class="results-title">Quiz Complete!</h2>
            <div class="results-details">
                <div class="detail-item">
                    <span>Total Questions:</span>
                    <span id="totalQuestions"></span>
                </div>
                <div class="detail-item">
                    <span>Correct Answers:</span>
                    <span id="correctAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Incorrect Answers:</span>
                    <span id="incorrectAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Final Score:</span>
                    <span id="finalScore"></span>
                </div>
            </div>
            
            <button class="toggle-review" onclick="toggleAnswerReview()">Show Answer Review</button>
            
            <div id="answersReview" class="answers-review" style="display: none;">
                <div class="review-header">Answer Review</div>
                <div id="reviewContent"></div>
            </div>
            
            <button class="control-button next-button" onclick="returnToMenu()">Return to Menu</button>

            <!-- Footer for Results -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <span class="created-by">Created by</span>
                <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- HVAC Unit Main Body -->
                    <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                    
                    <!-- Fan/Blower Circle -->
                    <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                    <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                    <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                    
                    <!-- Fan Blades -->
                    <g transform="translate(90,80)">
                        <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                        <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                    </g>
                    
                    <!-- Control Panel Lines -->
                    <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                    <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                    <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                    <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                    
                    <!-- Status Light -->
                    <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                    
                    <!-- Unit Feet -->
                    <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                    <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                    
                    <!-- LARK text -->
                    <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                    <!-- LABS text -->
                    <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                    <!-- Subtitle -->
                    <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // Quiz data based on CSA Unit 2 materials
        const quizData = {
            chapter1: {
                title: "Chapter 1: Fasteners",
                questions: [
                    {
                        question: "In the gas industry, what are the three main types of material that are fastened to or from piping and equipment?",
                        options: [
                            "Wood, concrete, steel",
                            "Brick, concrete, steel",
                            "Wood, plastic, concrete",
                            "Concrete, wood, brick"
                        ],
                        correct: 0
                    },
                    {
                        question: "Why must expansion or vibration be taken into consideration when fastening or supporting equipment?",
                        options: [
                            "To reduce the possibility of leaks",
                            "To allow for service access",
                            "To ensure the equipment remains in place",
                            "To reduce noise"
                        ],
                        correct: 2
                    },
                    {
                        question: "How should screws be stored?",
                        options: [
                            "In a clean, moist environment",
                            "According to size",
                            "According to material they are used for",
                            "In a clean, dry environment"
                        ],
                        correct: 3
                    },
                    {
                        question: "What may be required to be done before a large lag screw is fastened to a wooden member?",
                        options: [
                            "The type of wood should be determined",
                            "A pilot hole may have to be drilled",
                            "The length of screw should be determined",
                            "The point of contact should have tape put on it"
                        ],
                        correct: 1
                    },
                    {
                        question: "What are the two common thread patterns found on bolts used by the gas technician/fitter?",
                        options: [
                            "Small and large",
                            "Nominal pipe and British standard",
                            "National Coarse and National Fine",
                            "Standard and metric"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is used in place of bolts when a large amount of adjustment is required?",
                        options: [
                            "All threaded (ready) rod",
                            "Sleeves",
                            "Brackets",
                            "Clamps"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of bolt can be used when fastening to hollow block walls?",
                        options: [
                            "Anchor bolts",
                            "Lag bolts",
                            "Toggle bolt",
                            "Carriage bolts"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of support is commonly used by the gas technician/fitter to install vertical piping?",
                        options: [
                            "Pipe strapping",
                            "Riser clamp",
                            "Not required for vertical piping",
                            "Pipe hangers"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following provides support from the floor or wall?",
                        options: [
                            "Pipe straps",
                            "Clevis hangers",
                            "Pipe stays/valley hanger",
                            "Adjustable swivel-ring hangers"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is not a common configuration of pipe hangers?",
                        options: [
                            "Aluminum hanger",
                            "Clevis hanger",
                            "Adjustable steel ring hanger",
                            "Adjustable swivel ring hanger"
                        ],
                        correct: 0
                    }
                ]
            },
            chapter2: {
                title: "Chapter 2: Hand Tools",
                questions: [
                    {
                        question: "Which of the following is not a common screwdriver tip used by a gas technician/fitter?",
                        options: [
                            "Straight blade",
                            "Philips",
                            "Robertson",
                            "Tri-wing"
                        ],
                        correct: 3
                    },
                    {
                        question: "Why are sheet metal snips not suitable for cutting wire?",
                        options: [
                            "Can cause arcing",
                            "Can nick the blades of the snips",
                            "Can destroy the insulation",
                            "Can cause overheating"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of wrench has both an open end and a box end?",
                        options: [
                            "Combination wrench",
                            "Crescent wrench",
                            "Channel locks",
                            "Pipe wrench"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of personal protection should be used when working with chisels?",
                        options: [
                            "Boots",
                            "Eye protection",
                            "Gloves",
                            "Hard hat"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of hammer is used to shape metal?",
                        options: [
                            "Claw hammer",
                            "Finishing hammer",
                            "Ball-peen hammer",
                            "Shaping hammer"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of hand tool would a gas technician/fitter use to find true horizontal?",
                        options: [
                            "String",
                            "Yardstick",
                            "Spirit level",
                            "Square"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of pipe wrench has a jaw opening parallel to the handle?",
                        options: [
                            "Offset pipe wrench",
                            "Crescent pipe wrench",
                            "Open-ended pipe wrench",
                            "Standard pipe wrench"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of pipe cutter is best for cutting pipe where there is limited space for rotation?",
                        options: [
                            "Three or four-wheel cutter",
                            "Hacksaw",
                            "Acetylene torch",
                            "Reciprocating saw"
                        ],
                        correct: 0
                    },
                    {
                        question: "How is the coarseness of hack saw blades determined?",
                        options: [
                            "Length of teeth",
                            "Number of teeth per inch",
                            "Width of teeth",
                            "Depth of teeth"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of reamer can be used for both hand and power reaming?",
                        options: [
                            "Tapered reamer",
                            "Short and stubby reamer",
                            "Straight, fluted, ratchet reamer",
                            "Adjustable reamer"
                        ],
                        correct: 2
                    }
                ]
            },
            chapter3: {
                title: "Chapter 3: Power Tools and Accessories",
                questions: [
                    {
                        question: "Why are electric power tools equipped with three-prong electrical plugs?",
                        options: [
                            "The third prong is a ground for protection in case of short circuit",
                            "The third prong prevents the plug from being installed upside down",
                            "The third prong is a backup power feed to ensure performance",
                            "The third prong reduces electrical noise"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of power tool is used to insert fasteners into concrete or steel?",
                        options: [
                            "110V drill",
                            "220V drill",
                            "Powder-actuated",
                            "Pneumatic drill"
                        ],
                        correct: 2
                    },
                    {
                        question: "Where should the operator stand when firing a powder-actuated tool?",
                        options: [
                            "Behind it",
                            "To the side",
                            "Directly in front of the tool",
                            "Above the tool"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of electric drill is designed for drilling into concrete?",
                        options: [
                            "The ratchet drill",
                            "The rotary hammer drill",
                            "The thumb drill",
                            "The standard drill"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which tool can be used to give a drill bit a start and to keep it from wandering?",
                        options: [
                            "A thumb drill",
                            "An 'X' drawn on the spot",
                            "A centre punch",
                            "A pilot bit"
                        ],
                        correct: 2
                    },
                    {
                        question: "What should be done before inserting or removing drill bits from the chuck of a power drill?",
                        options: [
                            "The drill should be put in reverse",
                            "The power cord should be disconnected",
                            "The drill should be in forward",
                            "The chuck should be oiled"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of blade is used with the chop saw to cut steel pipe or rod?",
                        options: [
                            "Large toothed blade",
                            "Small toothed blade",
                            "An abrasive type",
                            "Carbide blade"
                        ],
                        correct: 2
                    },
                    {
                        question: "How are blades used in reciprocating saws identified for use?",
                        options: [
                            "They are colour coded according to their use",
                            "They are identified with numbers",
                            "They are identified with letters",
                            "They have written descriptions"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of grinder is commonly used to grind bevels and clean weld spatters off pipes?",
                        options: [
                            "The offset grinder",
                            "The portable angle grinder",
                            "The hand grinder",
                            "The bench grinder"
                        ],
                        correct: 1
                    },
                    {
                        question: "Power tools should not be operated in a gaseous or ______________ atmosphere.",
                        options: [
                            "Wet",
                            "Dry",
                            "Explosive",
                            "Cold"
                        ],
                        correct: 2
                    }
                ]
            },
            chapter4: {
                title: "Chapter 4: Measuring Tools",
                questions: [
                    {
                        question: "How is the area of a rectangle calculated?",
                        options: [
                            "Adding the length of the 4 sides",
                            "Adding the length plus the width",
                            "Multiplying the length times the width",
                            "Using pi R²"
                        ],
                        correct: 2
                    },
                    {
                        question: "How is the area of a circle calculated?",
                        options: [
                            "Squaring the radius and multiplying by pi (3.1416)",
                            "Measuring the circumference and multiplying by pi (3.1416)",
                            "Squaring the radius and multiplying by 2",
                            "Measuring the circumference and multiplying by 2"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of measuring device is most often used by the gas technician/fitter?",
                        options: [
                            "Spirit level",
                            "Stopwatch",
                            "Pocket or spring-loaded tape",
                            "Surveyor (Long tape)"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of square has an adjustable head?",
                        options: [
                            "Crescent square",
                            "Combination square",
                            "Open end square",
                            "Try square"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is a drill gauge used for?",
                        options: [
                            "Identifying the type of material the drill bit is used for",
                            "Measuring screw size",
                            "Measuring drill size",
                            "Checking drill sharpness"
                        ],
                        correct: 2
                    },
                    {
                        question: "What type of measurements are used to calculate length (L), width (W), and height (H)?",
                        options: [
                            "Straight-line",
                            "Square",
                            "Area",
                            "Circumference"
                        ],
                        correct: 0
                    },
                    {
                        question: "What type of units is the area of a rectangle expressed in?",
                        options: [
                            "Cubic",
                            "Imperial",
                            "Metric",
                            "Square"
                        ],
                        correct: 3
                    },
                    {
                        question: "What type of tool is used to ensure correct clearance between parts?",
                        options: [
                            "Drill gauge",
                            "Pocket tape",
                            "Feeler gauge",
                            "Square"
                        ],
                        correct: 2
                    },
                    {
                        question: "What type of tool is used to measure an orifice size?",
                        options: [
                            "Drill bit blank",
                            "Callipers sizing drill",
                            "Feeler Gauge",
                            "Pocket tape"
                        ],
                        correct: 1
                    },
                    {
                        question: "The result of squaring the radius and multiplying it by π, is the ___________ of a circle.",
                        options: [
                            "Diameter",
                            "Area",
                            "Widest point",
                            "Circumference"
                        ],
                        correct: 1
                    }
                ]
            },
            chapter5: {
                title: "Chapter 5: Combustion Testing Instruments",
                questions: [
                    {
                        question: "What is the purpose of flue gas analysis?",
                        options: [
                            "To determine proper supply pressure",
                            "Safety (check for toxic gases) and efficiency of operation",
                            "To ensure the vent is working",
                            "To measure gas flow"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is not a type of flue gas analyzer?",
                        options: [
                            "Pressure",
                            "Tube",
                            "Liquid",
                            "Continuous sampling"
                        ],
                        correct: 0
                    },
                    {
                        question: "How many different gases is each detector tube designed to test for?",
                        options: [
                            "Two",
                            "Three",
                            "Multiple",
                            "One"
                        ],
                        correct: 3
                    },
                    {
                        question: "What is the advantage of using a liquid-type flue gas analyzer compared to the tube type?",
                        options: [
                            "Liquid types can be used to take many samples without changing the chemicals",
                            "Tubes are more expensive",
                            "Tubes are more dangerous because of glass ends",
                            "Liquid types are more accurate"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of flue gas analyzer allows you to adjust the burner while watching the results on a monitor?",
                        options: [
                            "The liquid type analyzer",
                            "The continuous sampling type",
                            "The tube type analyzer",
                            "The digital analyzer"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of liquid manometer does the gas technician/fitter normally use?",
                        options: [
                            "The oil manometer",
                            "The glass tube manometer",
                            "The water column manometer",
                            "The mercury manometer"
                        ],
                        correct: 2
                    },
                    {
                        question: "Combustion is a rapid ____________reaction during which oxygen combines with combustible elements of a fuel to release heat energy.",
                        options: [
                            "Liquid",
                            "Heat",
                            "Chemical",
                            "Oxygen"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is not a temperature measuring device?",
                        options: [
                            "Dial thermometer – bimetal",
                            "Slope thermometer",
                            "Spirit-filled thermometer",
                            "Digital thermometers employing thermocouples or infrared technology"
                        ],
                        correct: 1
                    },
                    {
                        question: "Flue gas(es) must be analyzed to check _____________efficiency and the levels of toxic gases.",
                        options: [
                            "Combustion",
                            "Natural gas",
                            "Fuel",
                            "Carbon dioxide"
                        ],
                        correct: 0
                    },
                    {
                        question: "A _____________ measures the difference in \"draw\" and \"no draw\" flow pressures.",
                        options: [
                            "Flue gas analyzer",
                            "Pressure and temperature gauge",
                            "Combustible gas indicator",
                            "Manometer"
                        ],
                        correct: 3
                    }
                ]
            },
            chapter6: {
                title: "Chapter 6: Electrical Testing Instruments",
                questions: [
                    {
                        question: "Which type of electrical meter uses a scale and pointer?",
                        options: [
                            "The analogue type",
                            "The digital type",
                            "The ammeter",
                            "The voltmeter"
                        ],
                        correct: 0
                    },
                    {
                        question: "What do voltmeters measure?",
                        options: [
                            "The amount of resistance in a circuit",
                            "The amount of load on a circuit",
                            "The difference of electrical potential between two points in a circuit",
                            "The current flow"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of electrical meter measures the current flowing through a circuit?",
                        options: [
                            "An ammeter",
                            "An ohmmeter",
                            "A voltmeter",
                            "A wattmeter"
                        ],
                        correct: 0
                    },
                    {
                        question: "In what units is the resistance of an electrical circuit measured?",
                        options: [
                            "Amps",
                            "Ohms",
                            "Volts",
                            "Watts"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of electrical meter combines a voltmeter, ohmmeter, and ammeter in one unit?",
                        options: [
                            "An ohmmeter",
                            "An ammeter",
                            "A multimeter",
                            "A voltmeter"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of meter measures both resistance and continuity?",
                        options: [
                            "An ohmmeter",
                            "A millivoltmeter",
                            "An ammeter",
                            "A multimeter"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of meter measures ac, dc, or resistance?",
                        options: [
                            "A multimeter",
                            "A voltmeter",
                            "A wattmeter",
                            "An ammeter"
                        ],
                        correct: 0
                    },
                    {
                        question: "It is essential to know when using an electrical meter, whether the power source is _____________ current or direct current.",
                        options: [
                            "Unused",
                            "Alternating",
                            "Stored",
                            "Power"
                        ],
                        correct: 1
                    },
                    {
                        question: "Electrical test instruments should not be exposed to high temperature or ____________.",
                        options: [
                            "Low temperature",
                            "Dry atmospheres",
                            "Humidity",
                            "Vibration"
                        ],
                        correct: 2
                    },
                    {
                        question: "A test-lead _______________ is potentially dangerous and could result in electrocution.",
                        options: [
                            "With a thicker cord",
                            "That is very long",
                            "That is missing insulation",
                            "With a lot of insulation"
                        ],
                        correct: 2
                    }
                ]
            },
            finalExam: {
                title: "CSA Unit 2 Final Exam - Tools, Fasteners & Testing Equipment",
                questions: [
                    {
                        question: "Which fastener is most commonly used to secure sheet metal ductwork?",
                        options: [
                            "Lag bolt",
                            "Pop rivet",
                            "Drywall screw",
                            "Carriage bolt"
                        ],
                        correct: 1
                    },
                    {
                        question: "What tool is typically used to cut sheet metal in HVAC?",
                        options: [
                            "Pipe wrench",
                            "Aviation snips",
                            "Wire cutters",
                            "Channel locks"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which type of fastener is designed to form its own threads in soft material like duct metal?",
                        options: [
                            "Machine screw",
                            "Wood screw",
                            "Self-tapping screw",
                            "Lag screw"
                        ],
                        correct: 2
                    },
                    {
                        question: "A manifold gauge set is used to measure:",
                        options: [
                            "Airflow in ducts",
                            "Electrical current",
                            "Refrigerant pressure",
                            "Voltage drop"
                        ],
                        correct: 2
                    },
                    {
                        question: "What tool is used to flare copper tubing for a secure connection?",
                        options: [
                            "Swaging tool",
                            "Pipe cutter",
                            "Tubing bender",
                            "Flaring tool"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which of the following is a common thread sealant used on HVAC fittings?",
                        options: [
                            "Super glue",
                            "Plumber's putty",
                            "Pipe dope or Teflon tape",
                            "Silicone caulk"
                        ],
                        correct: 2
                    },
                    {
                        question: "What device is used to measure airflow in cubic feet per minute (CFM)?",
                        options: [
                            "Clamp meter",
                            "Psychrometer",
                            "Manometer",
                            "Anemometer"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which type of wrench is most suitable for tightening gas line fittings?",
                        options: [
                            "Crescent wrench",
                            "Allen key",
                            "Pipe wrench",
                            "Torque wrench"
                        ],
                        correct: 2
                    },
                    {
                        question: "A micron gauge is used to:",
                        options: [
                            "Measure high-pressure refrigerants",
                            "Measure airflow",
                            "Verify deep vacuum in evacuation",
                            "Check electrical continuity"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which testing tool measures the resistance, voltage, and current in an electrical circuit?",
                        options: [
                            "Pressure gauge",
                            "Multimeter",
                            "Thermocouple",
                            "Humidistat"
                        ],
                        correct: 1
                    },
                    {
                        question: "What tool is used to make 90-degree bends in copper pipe without kinking?",
                        options: [
                            "Pipe cutter",
                            "Bending spring",
                            "Tubing bender",
                            "Flare nut wrench"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which fastener is best for fastening HVAC units to concrete surfaces?",
                        options: [
                            "Deck screw",
                            "Toggle bolt",
                            "Concrete anchor",
                            "Wood screw"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is NOT a common type of HVAC hand tool?",
                        options: [
                            "Hammer drill",
                            "Manifold gauge",
                            "Sheet metal snips",
                            "Torque screwdriver"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which gas is often used for leak detection in HVAC systems due to its small molecule size?",
                        options: [
                            "Helium",
                            "Oxygen",
                            "Nitrogen",
                            "Hydrogen"
                        ],
                        correct: 0
                    },
                    {
                        question: "A sling psychrometer is used to measure:",
                        options: [
                            "Air pressure",
                            "Wet-bulb and dry-bulb temperature",
                            "Voltage",
                            "Refrigerant level"
                        ],
                        correct: 1
                    },
                    {
                        question: "What does a combustion analyzer measure in a gas furnace?",
                        options: [
                            "Coil temperature",
                            "Supply voltage",
                            "Carbon monoxide and efficiency",
                            "Refrigerant leak size"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which tool would you use to check for a voltage presence before working on a circuit?",
                        options: [
                            "Clamp meter",
                            "Thermistor",
                            "Non-contact voltage tester",
                            "Temperature probe"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which HVAC fastener has a pointed tip and is driven with a hex-head driver?",
                        options: [
                            "Machine screw",
                            "Drywall screw",
                            "Self-drilling screw",
                            "Anchor bolt"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is critical for verifying proper refrigerant charge?",
                        options: [
                            "Flaring tool",
                            "Clamp-on ammeter",
                            "Manifold gauge set",
                            "Cordless drill"
                        ],
                        correct: 2
                    },
                    {
                        question: "What tool would be used to create a round opening in sheet metal for duct penetration?",
                        options: [
                            "Hole saw",
                            "Pipe cutter",
                            "Tap and die",
                            "Screw extractor"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which measuring device is used to check duct static pressure?",
                        options: [
                            "Anemometer",
                            "Manometer",
                            "Clamp meter",
                            "Flow hood"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which tool is essential for measuring temperature differences in HVAC diagnostics?",
                        options: [
                            "Thermometer or thermocouple",
                            "Ammeter",
                            "Megohmmeter",
                            "Wattmeter"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which testing equipment is commonly used when evacuating an HVAC system?",
                        options: [
                            "Electronic leak detector",
                            "Vacuum pump and micron gauge",
                            "Clamp meter",
                            "Multimeter"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the primary use of an electronic leak detector?",
                        options: [
                            "Detect electrical faults",
                            "Locate refrigerant leaks",
                            "Check static pressure",
                            "Measure duct temperature"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which tool helps determine the amperage draw of a compressor or fan motor?",
                        options: [
                            "Digital thermostat",
                            "Anemometer",
                            "Clamp-on ammeter",
                            "Voltmeter"
                        ],
                        correct: 2
                    }
                ]
            }
        };

        // Quiz state
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function startQuiz(quizType) {
            currentQuiz = quizData[quizType];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';

            document.getElementById('quizTitle').textContent = currentQuiz.title;
            
            // Set up quit button event listener
            const quitButton = document.getElementById('quitButton');
            console.log('Setting up quit button:', quitButton);
            if (quitButton) {
                // Remove any existing listeners
                quitButton.onclick = function() {
                    console.log('Quit button clicked - going directly to menu');
                    returnToMenu();
                };
            }
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            const totalQuestions = currentQuiz.questions.length;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressInfo').textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            
            // Show question
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;
            
            // Show options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                button.onclick = () => selectAnswer(index);
                
                // Restore previous selection
                if (userAnswers[currentQuestionIndex] === index) {
                    button.classList.add('selected');
                }
                
                optionsContainer.appendChild(button);
            });
            
            // Update navigation buttons
            document.getElementById('prevButton').disabled = currentQuestionIndex === 0;
            document.getElementById('nextButton').textContent = 
                currentQuestionIndex === totalQuestions - 1 ? 'Finish Quiz' : 'Next';
        }

        function selectAnswer(answerIndex) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked option
            event.target.classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            for (let i = 0; i < currentQuiz.questions.length; i++) {
                if (userAnswers[i] === currentQuiz.questions[i].correct) {
                    score++;
                }
            }
            
            showResults();
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
            
            const totalQuestions = currentQuiz.questions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('scorePercentage').textContent = percentage + '%';
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('incorrectAnswers').textContent = totalQuestions - score;
            document.getElementById('finalScore').textContent = percentage + '%';
            
            // Set score circle color based on performance
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = 'score-circle';
            if (percentage >= 90) {
                scoreCircle.classList.add('score-excellent');
            } else if (percentage >= 80) {
                scoreCircle.classList.add('score-good');
            } else if (percentage >= 70) {
                scoreCircle.classList.add('score-fair');
            } else {
                scoreCircle.classList.add('score-poor');
            }
            
            // Generate answer review
            generateAnswerReview();
        }

        function generateAnswerReview() {
            const reviewContent = document.getElementById('reviewContent');
            reviewContent.innerHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-review';
                
                const userAnswerIndex = userAnswers[index];
                const correctAnswerIndex = question.correct;
                const isCorrect = userAnswerIndex === correctAnswerIndex;
                
                // Question text
                const questionText = document.createElement('div');
                questionText.className = 'review-question-text';
                questionText.textContent = `${index + 1}. ${question.question}`;
                questionDiv.appendChild(questionText);
                
                // Answer comparison
                const answerComparison = document.createElement('div');
                answerComparison.className = 'answer-comparison';
                
                // User's answer
                const userAnswerDiv = document.createElement('div');
                userAnswerDiv.className = `answer-row user-answer ${isCorrect ? 'correct' : 'incorrect'}`;
                
                const userAnswerLabel = document.createElement('span');
                userAnswerLabel.className = 'answer-label';
                userAnswerLabel.textContent = 'Your answer:';
                
                const userAnswerText = document.createElement('span');
                userAnswerText.className = 'answer-text';
                
                if (userAnswerIndex !== undefined) {
                    const optionLetter = String.fromCharCode(65 + userAnswerIndex);
                    userAnswerText.textContent = `${optionLetter}) ${question.options[userAnswerIndex]}`;
                } else {
                    userAnswerText.textContent = 'No answer selected';
                }
                
                const userAnswerIcon = document.createElement('span');
                userAnswerIcon.className = 'answer-icon';
                userAnswerIcon.textContent = isCorrect ? '✓' : '✗';
                
                userAnswerDiv.appendChild(userAnswerLabel);
                userAnswerDiv.appendChild(userAnswerText);
                userAnswerDiv.appendChild(userAnswerIcon);
                
                // Correct answer (only show if user was wrong)
                if (!isCorrect) {
                    const correctAnswerDiv = document.createElement('div');
                    correctAnswerDiv.className = 'answer-row correct-answer';
                    
                    const correctAnswerLabel = document.createElement('span');
                    correctAnswerLabel.className = 'answer-label';
                    correctAnswerLabel.textContent = 'Correct:';
                    
                    const correctAnswerText = document.createElement('span');
                    correctAnswerText.className = 'answer-text';
                    const correctOptionLetter = String.fromCharCode(65 + correctAnswerIndex);
                    correctAnswerText.textContent = `${correctOptionLetter}) ${question.options[correctAnswerIndex]}`;
                    
                    const correctAnswerIcon = document.createElement('span');
                    correctAnswerIcon.className = 'answer-icon';
                    correctAnswerIcon.textContent = '✓';
                    
                    correctAnswerDiv.appendChild(correctAnswerLabel);
                    correctAnswerDiv.appendChild(correctAnswerText);
                    correctAnswerDiv.appendChild(correctAnswerIcon);
                    
                    answerComparison.appendChild(userAnswerDiv);
                    answerComparison.appendChild(correctAnswerDiv);
                } else {
                    answerComparison.appendChild(userAnswerDiv);
                }
                
                questionDiv.appendChild(answerComparison);
                reviewContent.appendChild(questionDiv);
            });
        }

        function toggleAnswerReview() {
            const reviewDiv = document.getElementById('answersReview');
            const button = document.querySelector('.toggle-review');
            
            if (reviewDiv.style.display === 'none') {
                reviewDiv.style.display = 'block';
                button.textContent = 'Hide Answer Review';
            } else {
                reviewDiv.style.display = 'none';
                button.textContent = 'Show Answer Review';
            }
        }

        function quitQuiz() {
            const confirmQuit = confirm('Are you sure you want to quit the quiz? Your progress will be lost.');
            
            if (confirmQuit) {
                returnToMenu();
            }
        }

        function returnToMenu() {
            console.log('returnToMenu called');
            // Hide all containers
            const quizContainer = document.getElementById('quizContainer');
            const resultsContainer = document.getElementById('resultsContainer');
            const mainMenu = document.getElementById('mainMenu');
            
            console.log('Elements:', { quizContainer, resultsContainer, mainMenu });
            
            if (quizContainer) {
                quizContainer.style.display = 'none';
                console.log('Quiz container hidden');
            }
            if (resultsContainer) {
                resultsContainer.style.display = 'none';
                console.log('Results container hidden');
            }
            // Show main menu
            if (mainMenu) {
                mainMenu.style.display = 'block';
                console.log('Main menu shown');
            }
            
            // Reset quiz state
            currentQuiz = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            console.log('Quiz state reset');
            
            // Reset the answer review toggle
            const reviewDiv = document.getElementById('answersReview');
            const toggleButton = document.querySelector('.toggle-review');
            if (reviewDiv) {
                reviewDiv.style.display = 'none';
            }
            if (toggleButton) {
                toggleButton.textContent = 'Show Answer Review';
            }
            console.log('returnToMenu completed');
        }
    </script>

    <!-- ============================================ -->
    <!-- SEO-OPTIMIZED UNIT FOOTER SECTION -->
    <!-- ============================================ -->
    <div class="unit-footer-sections">
        <!-- Related Units Section -->
        <section class="related-units">
            <h3>📖 Related Gas Trade Training Units</h3>
            <div class="related-units-grid">
                <!-- Previous Unit -->
                <div class="related-unit-card">
                    <h4>← Previous Unit</h4>
                    <a href="/CSA_Unit_1_Safety_Chapter_Reviews.html">Unit 1: Safety</a>
                    <p>Review essential safety protocols and procedures for gas technician work</p>
                </div>

                <!-- Next Unit -->
                <div class="related-unit-card">
                    <h4>Next Unit →</h4>
                    <a href="/CSA_Unit_3_Venting_Combustion_Air_Chapter_Reviews.html">Unit 3: Venting & Combustion Air</a>
                    <p>Learn about venting systems and combustion air requirements</p>
                </div>

                <!-- Related Unit -->
                <div class="related-unit-card">
                    <h4>🔗 Related</h4>
                    <a href="/CSA_Unit_8_Piping_Chapter_Reviews.html">Unit 8: Introduction to Piping</a>
                    <p>Study piping tools and installation techniques</p>
                </div>
            </div>
        </section>

        <!-- Next Steps CTA Section -->
        <section class="next-steps">
            <h3>🚀 Next Steps in Your TSSA G3 Preparation</h3>
            <div class="cta-grid">
                <div class="cta-card">
                    <h4>📚 Complete All G3 Units</h4>
                    <p>Work through all 9 Gas Trade units to ensure comprehensive G3 exam readiness.</p>
                    <a href="/tssa-g3-units-index.html" class="cta-button">View All G3 Units →</a>
                </div>

                <div class="cta-card">
                    <h4>📖 Study CSA B149.1-25 Code</h4>
                    <p>Access the official CSA B149.1-25 code and deepen your understanding of gas installation standards.</p>
                    <a href="/csa-code-search.html" class="cta-button">Search CSA Codes →</a>
                </div>

                <div class="cta-card">
                    <h4>🤖 Try AI-Powered Study Tools</h4>
                    <p>Get instant answers to your gas technician questions with our AI tutor trained on CSA codes.</p>
                    <a href="/gas-technician-ai-tutor.html" class="cta-button">Launch AI Tutor →</a>
                </div>
            </div>
        </section>

        <!-- Study Resources Section -->
        <section class="study-resources">
            <h3>📚 Additional G3 Study Resources</h3>
            <ul class="resource-links">
                <li><a href="/tssa-g3-exam-prep.html">← Back to TSSA G3 Exam Prep Overview</a></li>
                <li><a href="/tssa-g3-units-index.html">Browse All G3 Training Units</a></li>
                <li><a href="/csa-code-search.html">Search CSA B149.1-25 Code Database</a></li>
                <li><a href="/gas-technician-ai-tutor.html">Ask the AI Tutor Questions</a></li>
                <li><a href="https://www.tssa.org/en/regulated-sectors/fuels/fuels-certification.aspx" target="_blank" rel="noopener">Official TSSA Certification Info</a></li>
            </ul>
        </section>

        <!-- Disclaimer -->
        <div class="disclaimer-box">
            <p><strong>⚠️ Educational Resource Disclaimer:</strong> This practice test is an independent educational resource designed to help students prepare for the TSSA G3 certification exam. These materials are based on CSA B149.1-25 requirements but are not official TSSA materials. Always refer to the official CSA B149.1-25 code and current TSSA guidelines for authoritative information. LARK Labs is not affiliated with TSSA or CSA Group.</p>
        </div>
    </div>
    <!-- ============================================ -->
    <!-- END UNIT FOOTER SECTION -->
    <!-- ============================================ -->
</body>
</html>