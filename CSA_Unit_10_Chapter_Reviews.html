<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gas Trade Unit 10 - Advanced Piping Systems | TSSA G2 Practice Test | CSA B149.1-25</title>
    <meta name="description" content="Free Gas Trade Unit 10 practice questions for TSSA G2 certification. Study advanced gas piping, pressure drop calculations, welding, and complex installations per CSA B149.1-25 Section 4. Ontario G2 exam prep.">
    <meta name="keywords" content="TSSA G2 Unit 10, advanced gas piping, pressure drop calculations, CSA B149.1-25 Section 4, gas piping welding, G2 piping systems">

    <link rel="stylesheet" href="assets/css/unit-pages-seo.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        .logo {
            width: 120px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .education-logo {
            width: 100%;
            height: auto;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .final-exam-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            grid-column: 1 / -1;
            font-size: 18px;
            padding: 25px;
        }

        .quiz-container {
            display: none;
        }

        .quiz-header {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .quiz-title {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .answer-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .control-button {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .prev-button {
            background: #6c757d;
            color: white;
        }

        .next-button {
            background: #667eea;
            color: white;
        }

        .quit-button {
            background: #dc3545;
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
        }

        .score-excellent { background: linear-gradient(135deg, #00b894, #00a085); }
        .score-good { background: linear-gradient(135deg, #fdcb6e, #e17055); }
        .score-fair { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .score-poor { background: linear-gradient(135deg, #e17055, #d63031); }

        .results-title {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .answers-review {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }

        .review-header {
            color: #2c3e50;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .question-review {
            border-bottom: 1px solid #e9ecef;
            padding: 15px 0;
            margin-bottom: 15px;
        }

        .question-review:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .review-question-text {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .answer-comparison {
            display: grid;
            gap: 8px;
        }

        .answer-row {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .user-answer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .user-answer.correct {
            background: #d4edda;
            border: 1px solid #74b816;
            color: #155724;
        }

        .user-answer.incorrect {
            background: #f8d7da;
            border: 1px solid #e74c3c;
            color: #721c24;
        }

        .correct-answer {
            background: #d1ecf1;
            border: 1px solid #74b816;
            color: #0c5460;
        }

        .answer-label {
            font-weight: 600;
            margin-right: 10px;
            min-width: 80px;
        }

        .answer-text {
            flex: 1;
        }

        .answer-icon {
            margin-left: 10px;
            font-weight: bold;
        }

        .toggle-review {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .toggle-review:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
            font-size: 14px;
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .lark-logo {
            height: 30px;
            width: auto;
        }

        .created-by {
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ============================================ -->
        <!-- SEO-OPTIMIZED UNIT HEADER SECTION -->
        <!-- ============================================ -->
        <div class="unit-header-section">
            <!-- Breadcrumb Navigation -->
            <nav aria-label="breadcrumb" class="breadcrumb-nav">
                <a href="/">Home</a> &gt;
                <a href="/tssa-g2-exam-prep.html">TSSA G2 Exam Prep</a> &gt;
                <span>Gas Trade Unit 10: Advanced Piping Systems</span>
            </nav>

            <!-- Training Navigation Menu -->
            <nav class="training-nav" aria-label="Training navigation">
                <a href="/">🏠 Home</a>
                <a href="/tssa-g3-exam-prep.html">📚 G3 Prep</a>
                <a href="/tssa-g2-exam-prep.html">📘 G2 Prep</a>
                <a href="/tssa-g2-units-index.html">📑 All G2 Units</a>
                <a href="/csa-code-search.html">🔍 Code Search</a>
            </nav>

            <!-- Unit Title and Introduction -->
            <h1>Gas Trade Unit 10: Advanced Piping Systems</h1>
            <h2 class="unit-subtitle">TSSA G2 Certification - Practice Questions & Chapter Reviews</h2>

            <!-- Certification Level Badge -->
            <div class="certification-badge" style="background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%); border-left: 5px solid #2196f3;">
                <strong>📋 Certification Level:</strong> TSSA G2 (Gas Technician 2 - Intermediate)
            </div>
            <div class="certification-badge" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-left: 5px solid #ff9800;">
                <strong>⚠️ Prerequisites:</strong> G3 Certification + 2 Years (4,000 hours) Experience
            </div>

            <!-- Introduction Text -->
            <p class="lead-text">
                Master Gas Trade Unit 10 with free CSA B149.1-25 compliant practice questions for the TSSA G2 certification exam. This advanced unit covers complex piping systems, pressure drop calculations, welding procedures, and sophisticated gas installation techniques required for independent G2 work authorization.
            </p>

            <!-- Unit Coverage -->
            <div class="unit-coverage-box">
                <h3>📖 What This Unit Covers</h3>
                <p>Gas Trade Unit 10 builds on G3 piping fundamentals with advanced topics:</p>
                <ul class="chapter-list">
                    <li><strong>Chapter 1:</strong> Advanced Piping Design - Complex system layouts and multi-level installations</li>
                    <li><strong>Chapter 2:</strong> Pressure Drop Calculations - Mathematical analysis and sizing optimization</li>
                    <li><strong>Chapter 3:</strong> Gas Piping Welding - Welding procedures, codes, and inspection requirements</li>
                    <li><strong>Chapter 4:</strong> Gas Meters and Regulators - Meter sets, pressure regulation, and installation</li>
                    <li><strong>Chapter 5:</strong> Complex System Commissioning - Testing, purging, and system startup procedures</li>
                </ul>
            </div>

            <!-- TSSA Exam Relevance -->
            <div class="exam-relevance-box">
                <h3>🎯 TSSA G2 Exam Relevance</h3>
                <p><strong>CSA Code Reference:</strong> CSA B149.1-25 Section 4 (Advanced Gas Piping Systems), Section 5 (Gas Meters and Regulators)</p>
                <p><strong>Exam Coverage:</strong> Advanced piping is heavily tested in G2 exams - approximately 25-30% of questions. Mastery of pressure drop calculations and complex system design is critical for G2 certification.</p>
            </div>

            <!-- Study Tips -->
            <div class="study-tips-box">
                <h3>💡 Study Tips for Unit 10</h3>
                <ul>
                    <li>Master pressure drop calculation formulas and sizing tables</li>
                    <li>Understand welding code requirements (CSA W117.2 for gas piping welding)</li>
                    <li>Practice complex piping system design scenarios</li>
                    <li>Review gas meter sizing and regulator selection procedures</li>
                    <li>Study system commissioning and testing protocols for large installations</li>
                </ul>
            </div>
        </div>
        <!-- ============================================ -->
        <!-- END UNIT HEADER SECTION -->
        <!-- ============================================ -->
        <!-- Main Navigation -->
        <div id="mainMenu">
            <div class="logo">
                <svg class="education-logo" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Educational Theme Logo -->
                    <rect x="50" y="150" width="300" height="300" fill="#1565C0" rx="20"/>
                    <!-- Book/Learning symbol -->
                    <path d="M 100 200 L 300 200 L 300 400 L 100 400 Z" fill="white"/>
                    <path d="M 120 220 L 280 220 M 120 250 L 280 250 M 120 280 L 280 280 M 120 310 L 280 310 M 120 340 L 280 340 M 120 370 L 280 370" stroke="#1565C0" stroke-width="3"/>
                    
                    <!-- Learning Text -->
                    <text x="400" y="280" font-family="Arial, sans-serif" font-size="90" font-weight="bold" fill="#1565C0">LEARNING</text>
                    
                    <!-- Educational Text -->
                    <text x="50" y="550" font-family="Arial, sans-serif" font-size="60" font-weight="bold" fill="#7CB342">EDUCATIONAL RESOURCES</text>
                </svg>
            </div>
            <h1>Unit 10 - Gas Piping, Welding & Installation</h1>
            <p class="subtitle">Gas Trade Training - Chapter Questions</p>
            
            <!-- Educational Disclaimer -->
            <div style="background: #e74c3c; color: white; border-radius: 10px; padding: 15px; margin: 20px 0; text-align: center; font-size: 14px;">
                <strong>⚠️ Independent Educational Content</strong><br>
                This content is provided by LARK Labs as an independent educational resource. We are not affiliated with CSA Group or any regulatory body. These materials complement official training but do not replace certified instruction.
            </div>
            
            <div class="button-grid">
                <button class="nav-button" onclick="startQuiz('chapter1')">
                    Chapter 1<br>
                    <small>Code Requirements & Approved Joining Methods</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter2')">
                    Chapter 2<br>
                    <small>Welding Safety, Certification & Procedures</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter3')">
                    Chapter 3<br>
                    <small>Utility and Non-Utility Piping</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter4')">
                    Chapter 4<br>
                    <small>Piping Layout, Drawings & Symbols</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter5')">
                    Chapter 5<br>
                    <small>Sizing High-pressure Piping & Tubing</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter6')">
                    Chapter 6<br>
                    <small>Purging Operations on Large Piping Systems</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter7')">
                    Chapter 7<br>
                    <small>Rigging and Hoisting</small>
                </button>
                <button class="nav-button final-exam-button" onclick="startQuiz('finalExam')">
                    CSA Unit 10 Final Exam<br>
                    <small>Gas Piping, Welding & Installation</small>
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container">
            <div class="quiz-header">
                <h2 id="quizTitle" class="quiz-title"></h2>
                <div id="progressInfo"></div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionCard" class="question-card">
                <div id="questionNumber" class="question-number"></div>
                <div id="questionText" class="question-text"></div>
                <div id="answerOptions"></div>
            </div>

            <div class="quiz-controls">
                <button id="prevButton" class="control-button prev-button" onclick="previousQuestion()">Previous</button>
                <button id="quitButton" class="control-button quit-button">Quit Quiz</button>
                <button id="nextButton" class="control-button next-button" onclick="nextQuestion()">Next</button>
            </div>

            <!-- Footer for Quiz -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container">
            <div id="scoreCircle" class="score-circle">
                <span id="scorePercentage"></span>
            </div>
            <h2 class="results-title">Quiz Complete!</h2>
            <div class="results-details">
                <div class="detail-item">
                    <span>Total Questions:</span>
                    <span id="totalQuestions"></span>
                </div>
                <div class="detail-item">
                    <span>Correct Answers:</span>
                    <span id="correctAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Incorrect Answers:</span>
                    <span id="incorrectAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Final Score:</span>
                    <span id="finalScore"></span>
                </div>
            </div>
            
            <button class="toggle-review" onclick="toggleAnswerReview()">Show Answer Review</button>
            
            <div id="answersReview" class="answers-review" style="display: none;">
                <div class="review-header">Answer Review</div>
                <div id="reviewContent"></div>
            </div>
            
            <button class="control-button next-button" onclick="returnToMenu()">Return to Menu</button>

            <!-- Footer for Results -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <span class="created-by">Created by</span>
                <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- HVAC Unit Main Body -->
                    <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                    
                    <!-- Fan/Blower Circle -->
                    <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                    <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                    <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                    
                    <!-- Fan Blades -->
                    <g transform="translate(90,80)">
                        <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                        <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                    </g>
                    
                    <!-- Control Panel Lines -->
                    <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                    <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                    <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                    <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                    <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                    
                    <!-- Status Light -->
                    <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                    
                    <!-- Unit Feet -->
                    <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                    <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                    
                    <!-- LARK text -->
                    <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                    <!-- LABS text -->
                    <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                    <!-- Subtitle -->
                    <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // Quiz data based on CSA Unit 10 materials
        const quizData = {
            chapter1: {
                title: "Chapter 1: Code Requirements & Approved Joining Methods",
                questions: [
                    {
                        question: "Indicate true or false: A pressure test is performed after the appliance is installed.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "Before the appliances are connected, the system shall be pressure tested using:",
                        options: [
                            "Air or inert gas",
                            "Air or soap solution",
                            "Inert gas or soap solution"
                        ],
                        correct: 0
                    },
                    {
                        question: "When would you perform a soap test?",
                        options: [
                            "After every service call",
                            "When a leak is indicated by a drop in pressure",
                            "Any time the gas supply is turned on"
                        ],
                        correct: 1
                    },
                    {
                        question: "What must be done to piping or tubing passing through concrete?",
                        options: [
                            "It must be sleeved, coated, or double-wrapped.",
                            "It should be welded.",
                            "It should be painted yellow."
                        ],
                        correct: 0
                    },
                    {
                        question: "May a sleeve installed in pavement to allow free movement of the pipe also serve as a vent pipe inspection point?",
                        options: [
                            "Yes",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "What colour is used to identify gas piping or tubing?",
                        options: [
                            "Red",
                            "Blue",
                            "Yellow",
                            "Green"
                        ],
                        correct: 2
                    },
                    {
                        question: "When identifying piping or tubing with banding or labels marked \"gas\" or \"propane\", what is the maximum identification interval permitted?",
                        options: [
                            "30 ft",
                            "20 ft",
                            "35 ft",
                            "25 ft"
                        ],
                        correct: 3
                    },
                    {
                        question: "A manual shut-off valve shall be of the ________________________, and certified for its intended purpose:",
                        options: [
                            "Butterfly, eccentric, or ball type",
                            "Eccentric, plug, or butterfly type",
                            "Plug, ball, or eccentric type"
                        ],
                        correct: 2
                    },
                    {
                        question: "How must multiple outlets that are installed in a laboratory (school or other) be protected from leaking gas into the area accidentally?",
                        options: [
                            "A clearly marked, readily accessible, master shut-off valve.",
                            "A solenoid valve interlocked with a gas sensor.",
                            "By a sign in the classroom identifying gas is present in the room."
                        ],
                        correct: 0
                    },
                    {
                        question: "What are the requirements for joints in steel piping used in gas systems?",
                        options: [
                            "Compression fittings.",
                            "Threaded, flanged or welded.",
                            "Joints properly sealed with paint."
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is not an appropriate gasket material for gas applications?",
                        options: [
                            "Natural rubber",
                            "Neoprene",
                            "Nitrile"
                        ],
                        correct: 0
                    }
                ]
            },
            chapter2: {
                title: "Chapter 2: Welding Safety, Certification & Procedures",
                questions: [
                    {
                        question: "Which of the following is not a major welding hazard to workers in the vicinity of welding operations?",
                        options: [
                            "Physical",
                            "Chemical",
                            "Environmental",
                            "Ergonomic"
                        ],
                        correct: 3
                    },
                    {
                        question: "What type of radiation do x-rays, and gamma rays produce?",
                        options: [
                            "Ionizing",
                            "Non-ionizing"
                        ],
                        correct: 0
                    },
                    {
                        question: "List the adverse effects from ultraviolet radiation produced by arc welding.",
                        options: [
                            "Hearing loss",
                            "Burns to eyes and skin from a reflection off bright objects",
                            "Burns to eyes and skin from hot metal and sparks"
                        ],
                        correct: 1
                    },
                    {
                        question: "After welding is completed in an area where combustible material is present, how long should a \"fire watch\" be maintained?",
                        options: [
                            "At least 30 minutes",
                            "4 hours",
                            "24 hours"
                        ],
                        correct: 0
                    },
                    {
                        question: "What type of protective glove should be worn when performing welding work?",
                        options: [
                            "Knitwrist-type",
                            "Slip-on-type",
                            "Gauntlet-type",
                            "Safety cuff-type"
                        ],
                        correct: 2
                    },
                    {
                        question: "Indicate True or False: Pants with cuffs should always be worn while performing welding work.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "What should you never do while working with oxygen and acetylene?",
                        options: [
                            "Repair a faulty cylinder",
                            "Keep oxy-acetylene equipment away from oil or grease",
                            "Use the cylinder in a vertical position",
                            "Test for leaks using a soap test"
                        ],
                        correct: 0
                    },
                    {
                        question: "Is acetylene a very stable gas that is easily compressed to high pressures?",
                        options: [
                            "Yes",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "What should be done if welding is taking place in a confined area?",
                        options: [
                            "Ensure adequate ventilation",
                            "Wear a mask",
                            "Wear gloves"
                        ],
                        correct: 0
                    },
                    {
                        question: "Should oxygen and acetylene regulators be oiled regularly?",
                        options: [
                            "Yes",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "How many air changes per hour are required in a welding shop?",
                        options: [
                            "One",
                            "Two",
                            "Four"
                        ],
                        correct: 2
                    },
                    {
                        question: "With what are oxygen and acetylene cylinders fitted to minimize the possibility of explosion in case of fire?",
                        options: [
                            "Shut off valves",
                            "Fusible plugs",
                            "Regulators"
                        ],
                        correct: 1
                    },
                    {
                        question: "To what angle should pipe be beveled if it is to be welded?",
                        options: [
                            "Approximately 37 1/2°",
                            "Approximately 45°",
                            "Approximately 22 1/2°"
                        ],
                        correct: 0
                    },
                    {
                        question: "When the pipe and fittings are set up for welding, how wide is the root gap?",
                        options: [
                            "1/8 inch to 1/4 inch",
                            "3/8 inch to 1/2 inch",
                            "1/16 inch to 1/8 inch"
                        ],
                        correct: 2
                    }
                ]
            },
            chapter3: {
                title: "Chapter 3: Utility and Non-Utility Piping",
                questions: [
                    {
                        question: "When plastic gas piping is used underground, a minimum __________ copper wire is taped along the piping for tracing purposes using a metal detector or radio signals.",
                        options: [
                            "14 gauge",
                            "12 gauge",
                            "16 gauge",
                            "10 gauge"
                        ],
                        correct: 1
                    },
                    {
                        question: "Who is responsible for piping downstream of a gas utility meter?",
                        options: [
                            "Property or building owner",
                            "Fuel supplier",
                            "Installer"
                        ],
                        correct: 0
                    },
                    {
                        question: "Coatings on underground steel pipe are made of what material?",
                        options: [
                            "Fusion Bonded Epoxy",
                            "Polyethylene",
                            "Coal Tar Enamel",
                            "Asphalt Enamel"
                        ],
                        correct: 1
                    },
                    {
                        question: "What colour are the coatings on underground steel pipe?",
                        options: [
                            "Green or yellow",
                            "Blue or green",
                            "Yellow or blue"
                        ],
                        correct: 2
                    },
                    {
                        question: "Indicate True or False: Most non-utility gas piping and tubing operate aboveground.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following is not one of the three options for identifying gas piping or tubing?",
                        options: [
                            "The entire piping or tubing system shall be painted yellow",
                            "The piping or tubing system shall be provided with yellow banding",
                            "The piping or tubing system shall be labelled or marked \"GAS\" or \"PROPANE\"",
                            "The piping or tubing system shall be provided with red banding"
                        ],
                        correct: 3
                    },
                    {
                        question: "For supply piping systems carrying pressures _____________ and over, you must identify and label the supply pressure in addition to the identification requirements in clause 6.17.1.",
                        options: [
                            "2 psi",
                            "4 psi",
                            "6 psi",
                            "8 psi"
                        ],
                        correct: 0
                    },
                    {
                        question: "Indicate True or False: The CSA B149.1 Gas Code does not require the identification of gas piping in a residence",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "What are the final blueprint drawings used to locate and identify piping called?",
                        options: [
                            "As-built drawings",
                            "Ladder drawings",
                            "Installation drawings"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is the surest way to identify the contents of a sealed pipe?",
                        options: [
                            "Tap on it",
                            "Trace it back to its source",
                            "X-ray it"
                        ],
                        correct: 1
                    }
                ]
            },
            chapter4: {
                title: "Chapter 4: Piping Layout, Drawings & Symbols",
                questions: [
                    {
                        question: "If there is a discrepancy between the specifications and the drawings, which one is taken to be correct?",
                        options: [
                            "Specifications",
                            "Drawings"
                        ],
                        correct: 0
                    },
                    {
                        question: "The manufacturer's installation and service manual are supplied with every appliance. How much of it should you read?",
                        options: [
                            "Just the final startup and commissioning page",
                            "Should already know it",
                            "All of it"
                        ],
                        correct: 2
                    },
                    {
                        question: "Do the installation and service manuals supplied by the manufacturer always specify details of replacement parts?",
                        options: [
                            "Yes",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "The two ways that manual valves are joined to the gas piping systems are:",
                        options: [
                            "Threaded or flanged",
                            "Flanged or soldered",
                            "Soldered or threaded"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following is not a function of an automatic valve?",
                        options: [
                            "Control the firing of the burner",
                            "Open or energize when the controller calls for the burner to \"ignite\"",
                            "Act as a safety shut-off valve"
                        ],
                        correct: 0
                    },
                    {
                        question: "Describe the function of a solenoid valve.",
                        options: [
                            "Control the burner without anyone being present",
                            "Interlocks with a gas sensor to prevent gas leaks",
                            "Energize (open) on a call for heat and de-energize (close) when the heat demand is satisfied."
                        ],
                        correct: 2
                    }
                ]
            },
            chapter5: {
                title: "Chapter 5: Sizing High-pressure Piping & Tubing",
                questions: [
                    {
                        question: "Indicate True or False: The reasons for having separate sizing tables for natural gas and propane fuels are because of the differing properties as gases.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is the correct order for the procedural steps of pipe sizing? (1) Sketch the system (2) Select a table (3) Determine the Code zone (4) Size pipe sections (5) Prove the Code zone (if pressure is over 2 psi)",
                        options: [
                            "1, 2, 3, 4, 5",
                            "2, 1, 3, 5, 4",
                            "3, 1, 2, 4, 5"
                        ],
                        correct: 0
                    }
                ]
            },
            chapter6: {
                title: "Chapter 6: Purging Operations on Large Piping Systems",
                questions: [
                    {
                        question: "With what would you purge a pipe sized 4 inches or over, if it has been tested with air?",
                        options: [
                            "Carbon dioxide or nitrogen or a mixture of both.",
                            "Nitrogen or Radon or a mixture of both.",
                            "Radon or carbon dioxide or a mixture of both."
                        ],
                        correct: 0
                    },
                    {
                        question: "What can occur when purging is not carried out correctly?",
                        options: [
                            "The wrong gas could enter the pipe.",
                            "The accidental explosion of a gas-air mixture outside and inside the pipe.",
                            "There could be a blockage in the pipe that goes undetected."
                        ],
                        correct: 1
                    },
                    {
                        question: "Is it acceptable to purge a new gas line through the burner system into a combustion chamber?",
                        options: [
                            "Yes, if the building is vacant",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "Why is it important to purge the air out of larger diameter pipes with an inert gas prior to the fuel gas being introduced into the pipe?",
                        options: [
                            "So there will be no air in the pipe to support combustion.",
                            "To prevent the mercaptan from being washed out of the gas when introduced into the pipe for the first time.",
                            "To ensure the gas will ignite properly when turned on for the first time."
                        ],
                        correct: 0
                    },
                    {
                        question: "What is an alternative to completely purging long, large pipes with nitrogen?",
                        options: [
                            "Air-purging",
                            "Slug-purging",
                            "Fuel gas to fuel gas purging"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is normal purge velocity for large pipes?",
                        options: [
                            "100 ft/min",
                            "150 ft/min",
                            "200 ft/min"
                        ],
                        correct: 2
                    }
                ]
            },
            chapter7: {
                title: "Chapter 7: Rigging and Hoisting",
                questions: [
                    {
                        question: "Where can you find the requirements for safe rigging work practices in Canada?",
                        options: [
                            "B149.1 Natural gas and propane installation code",
                            "TSSA Guidelines",
                            "Provincial or Territorial OHS acts and regulations"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following describes an asymmetrical load?",
                        options: [
                            "An object with a high center of gravity due to the object's long shape and/or composition.",
                            "An object with an off-center center of gravity due to the object's irregular shape and/or composition.",
                            "An object with a low center of gravity due to the object's long shape and/or composition."
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following describes a symmetrical load?",
                        options: [
                            "An object that, because of its uniform shape and composition, has its center of gravity located exactly in its middle.",
                            "An object that, because of its odd shape and composition, has its center of gravity located off center."
                        ],
                        correct: 0
                    },
                    {
                        question: "Choose the correct volume for a concrete block, 9 feet long x 3 feet wide x 5 feet high:",
                        options: [
                            "Block weight = 120 cu ft x 150 lbs/cu ft = 18,000 lbs.",
                            "Block weight = 130 cu ft x 150 lbs/cu ft = 19,500 lbs.",
                            "Block weight = 135 cu ft x 150 lbs/cu ft = 20,250 lbs."
                        ],
                        correct: 2
                    },
                    {
                        question: "While performing Pre-Use Inspection you discover the wire rope sling shows signs of localized wear, abrasion or scraping. Is the sling safe to use and why?",
                        options: [
                            "Yes, as long as it appears to be strong enough to support the load - In order to stay on schedule with the project.",
                            "No, it is not safe to use - Slings must be removed from service when any substandard conditions exist."
                        ],
                        correct: 1
                    },
                    {
                        question: "When a wire rope sling is used in a basket hitch, the diameter of the load where the sling contacts the load can reduce sling capacity. What is the ratio used to determine the loss of strength or efficiency and is referred to as?",
                        options: [
                            "D/d Ratio",
                            "R/d Ratio",
                            "D/r Ratio"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which type of sling can be used safely in explosive atmospheres?",
                        options: [
                            "Vinyl covered steel cable sling",
                            "Fabric sling",
                            "Synthetic sling"
                        ],
                        correct: 2
                    },
                    {
                        question: "When using a chain for overhead lifting, what alloy grade or grade is recommended?",
                        options: [
                            "Either grade 80 or 100 is recommended.",
                            "Either grade 50 or 100 is recommended",
                            "Any chain that is heavy steel."
                        ],
                        correct: 0
                    },
                    {
                        question: "How often should hooks be inspected?",
                        options: [
                            "Before and after each use",
                            "Before and frequently during use",
                            "Weekly",
                            "Annually"
                        ],
                        correct: 1
                    },
                    {
                        question: "What should do if your inspection reveals a small gouge in the hook?",
                        options: [
                            "Inform your supervisor and use the hook",
                            "Repair the gouge",
                            "Nothing, a small gouge won't affect the hook",
                            "Remove from service"
                        ],
                        correct: 3
                    },
                    {
                        question: "What are three common shackles used in rigging and hoisting operations?",
                        options: [
                            "Snap, wide body, and bolt type",
                            "Wide body, screw, and snap type",
                            "Bolt, screw, and snap type",
                            "Screw, wide body, and bolt type"
                        ],
                        correct: 3
                    }
                ]
            },
            finalExam: {
                title: "CSA Unit 10 Final Exam - Gas Piping, Welding & Installation",
                questions: [
                    {
                        question: "A pressure test is performed after the appliance is installed.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 1
                    },
                    {
                        question: "What colour is used to identify gas piping or tubing?",
                        options: [
                            "Red",
                            "Blue",
                            "Yellow",
                            "Green"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is not a major welding hazard to workers in the vicinity of welding operations?",
                        options: [
                            "Physical",
                            "Chemical",
                            "Environmental",
                            "Ergonomic"
                        ],
                        correct: 3
                    },
                    {
                        question: "What type of protective glove should be worn when performing welding work?",
                        options: [
                            "Knitwrist-type",
                            "Slip-on-type",
                            "Gauntlet-type",
                            "Safety cuff-type"
                        ],
                        correct: 2
                    },
                    {
                        question: "Who is responsible for piping downstream of a gas utility meter?",
                        options: [
                            "Property or building owner",
                            "Fuel supplier",
                            "Installer"
                        ],
                        correct: 0
                    },
                    {
                        question: "What are the final blueprint drawings used to locate and identify piping called?",
                        options: [
                            "As-built drawings",
                            "Ladder drawings",
                            "Installation drawings"
                        ],
                        correct: 0
                    },
                    {
                        question: "With what would you purge a pipe sized 4 inches or over, if it has been tested with air?",
                        options: [
                            "Carbon dioxide or nitrogen or a mixture of both.",
                            "Nitrogen or Radon or a mixture of both.",
                            "Radon or carbon dioxide or a mixture of both."
                        ],
                        correct: 0
                    },
                    {
                        question: "Where can you find the requirements for safe rigging work practices in Canada?",
                        options: [
                            "B149.1 Natural gas and propane installation code",
                            "TSSA Guidelines",
                            "Provincial or Territorial OHS acts and regulations"
                        ],
                        correct: 2
                    },
                    {
                        question: "What are the requirements for joints in steel piping used in gas systems?",
                        options: [
                            "Compression fittings.",
                            "Threaded, flanged or welded.",
                            "Joints properly sealed with paint."
                        ],
                        correct: 1
                    },
                    {
                        question: "How many air changes per hour are required in a welding shop?",
                        options: [
                            "One",
                            "Two",
                            "Four"
                        ],
                        correct: 2
                    },
                    {
                        question: "The reasons for having separate sizing tables for natural gas and propane fuels are because of the differing properties as gases.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is normal purge velocity for large pipes?",
                        options: [
                            "100 ft/min",
                            "150 ft/min",
                            "200 ft/min"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which type of sling can be used safely in explosive atmospheres?",
                        options: [
                            "Vinyl covered steel cable sling",
                            "Fabric sling",
                            "Synthetic sling"
                        ],
                        correct: 2
                    },
                    {
                        question: "What must be done to piping or tubing passing through concrete?",
                        options: [
                            "It must be sleeved, coated, or double-wrapped.",
                            "It should be welded.",
                            "It should be painted yellow."
                        ],
                        correct: 0
                    },
                    {
                        question: "Is acetylene a very stable gas that is easily compressed to high pressures?",
                        options: [
                            "Yes",
                            "No"
                        ],
                        correct: 1
                    },
                    {
                        question: "Most non-utility gas piping and tubing operate aboveground.",
                        options: [
                            "True",
                            "False"
                        ],
                        correct: 0
                    },
                    {
                        question: "The manufacturer's installation and service manual are supplied with every appliance. How much of it should you read?",
                        options: [
                            "Just the final startup and commissioning page",
                            "Should already know it",
                            "All of it"
                        ],
                        correct: 2
                    },
                    {
                        question: "Why is it important to purge the air out of larger diameter pipes with an inert gas prior to the fuel gas being introduced into the pipe?",
                        options: [
                            "So there will be no air in the pipe to support combustion.",
                            "To prevent the mercaptan from being washed out of the gas when introduced into the pipe for the first time.",
                            "To ensure the gas will ignite properly when turned on for the first time."
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following describes a symmetrical load?",
                        options: [
                            "An object that, because of its uniform shape and composition, has its center of gravity located exactly in its middle.",
                            "An object that, because of its odd shape and composition, has its center of gravity located off center."
                        ],
                        correct: 0
                    },
                    {
                        question: "When would you perform a soap test?",
                        options: [
                            "After every service call",
                            "When a leak is indicated by a drop in pressure",
                            "Any time the gas supply is turned on"
                        ],
                        correct: 1
                    }
                ]
            }
        };

        // Quiz state
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function startQuiz(quizType) {
            currentQuiz = quizData[quizType];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';

            document.getElementById('quizTitle').textContent = currentQuiz.title;
            
            // Set up quit button event listener
            const quitButton = document.getElementById('quitButton');
            if (quitButton) {
                quitButton.onclick = function() {
                    returnToMenu();
                };
            }
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            const totalQuestions = currentQuiz.questions.length;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressInfo').textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            
            // Show question
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;
            
            // Show options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                button.onclick = () => selectAnswer(index);
                
                // Restore previous selection
                if (userAnswers[currentQuestionIndex] === index) {
                    button.classList.add('selected');
                }
                
                optionsContainer.appendChild(button);
            });
            
            // Update navigation buttons
            document.getElementById('prevButton').disabled = currentQuestionIndex === 0;
            document.getElementById('nextButton').textContent = 
                currentQuestionIndex === totalQuestions - 1 ? 'Finish Quiz' : 'Next';
        }

        function selectAnswer(answerIndex) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked option
            event.target.classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            for (let i = 0; i < currentQuiz.questions.length; i++) {
                if (userAnswers[i] === currentQuiz.questions[i].correct) {
                    score++;
                }
            }
            
            showResults();
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
            
            const totalQuestions = currentQuiz.questions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('scorePercentage').textContent = percentage + '%';
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('incorrectAnswers').textContent = totalQuestions - score;
            document.getElementById('finalScore').textContent = percentage + '%';
            
            // Set score circle color based on performance
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = 'score-circle';
            if (percentage >= 90) {
                scoreCircle.classList.add('score-excellent');
            } else if (percentage >= 80) {
                scoreCircle.classList.add('score-good');
            } else if (percentage >= 70) {
                scoreCircle.classList.add('score-fair');
            } else {
                scoreCircle.classList.add('score-poor');
            }
            
            // Generate answer review
            generateAnswerReview();
        }

        function generateAnswerReview() {
            const reviewContent = document.getElementById('reviewContent');
            reviewContent.innerHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-review';
                
                const userAnswerIndex = userAnswers[index];
                const correctAnswerIndex = question.correct;
                const isCorrect = userAnswerIndex === correctAnswerIndex;
                
                // Question text
                const questionText = document.createElement('div');
                questionText.className = 'review-question-text';
                questionText.textContent = `${index + 1}. ${question.question}`;
                questionDiv.appendChild(questionText);
                
                // Answer comparison
                const answerComparison = document.createElement('div');
                answerComparison.className = 'answer-comparison';
                
                // User's answer
                const userAnswerDiv = document.createElement('div');
                userAnswerDiv.className = `answer-row user-answer ${isCorrect ? 'correct' : 'incorrect'}`;
                
                const userAnswerLabel = document.createElement('span');
                userAnswerLabel.className = 'answer-label';
                userAnswerLabel.textContent = 'Your answer:';
                
                const userAnswerText = document.createElement('span');
                userAnswerText.className = 'answer-text';
                
                if (userAnswerIndex !== undefined) {
                    const optionLetter = String.fromCharCode(65 + userAnswerIndex);
                    userAnswerText.textContent = `${optionLetter}) ${question.options[userAnswerIndex]}`;
                } else {
                    userAnswerText.textContent = 'No answer selected';
                }
                
                const userAnswerIcon = document.createElement('span');
                userAnswerIcon.className = 'answer-icon';
                userAnswerIcon.textContent = isCorrect ? '✓' : '✗';
                
                userAnswerDiv.appendChild(userAnswerLabel);
                userAnswerDiv.appendChild(userAnswerText);
                userAnswerDiv.appendChild(userAnswerIcon);
                
                // Correct answer (only show if user was wrong)
                if (!isCorrect) {
                    const correctAnswerDiv = document.createElement('div');
                    correctAnswerDiv.className = 'answer-row correct-answer';
                    
                    const correctAnswerLabel = document.createElement('span');
                    correctAnswerLabel.className = 'answer-label';
                    correctAnswerLabel.textContent = 'Correct:';
                    
                    const correctAnswerText = document.createElement('span');
                    correctAnswerText.className = 'answer-text';
                    const correctOptionLetter = String.fromCharCode(65 + correctAnswerIndex);
                    correctAnswerText.textContent = `${correctOptionLetter}) ${question.options[correctAnswerIndex]}`;
                    
                    const correctAnswerIcon = document.createElement('span');
                    correctAnswerIcon.className = 'answer-icon';
                    correctAnswerIcon.textContent = '✓';
                    
                    correctAnswerDiv.appendChild(correctAnswerLabel);
                    correctAnswerDiv.appendChild(correctAnswerText);
                    correctAnswerDiv.appendChild(correctAnswerIcon);
                    
                    answerComparison.appendChild(userAnswerDiv);
                    answerComparison.appendChild(correctAnswerDiv);
                } else {
                    answerComparison.appendChild(userAnswerDiv);
                }
                
                questionDiv.appendChild(answerComparison);
                reviewContent.appendChild(questionDiv);
            });
        }

        function toggleAnswerReview() {
            const reviewDiv = document.getElementById('answersReview');
            const button = document.querySelector('.toggle-review');
            
            if (reviewDiv.style.display === 'none') {
                reviewDiv.style.display = 'block';
                button.textContent = 'Hide Answer Review';
            } else {
                reviewDiv.style.display = 'none';
                button.textContent = 'Show Answer Review';
            }
        }

        function returnToMenu() {
            // Hide all containers
            const quizContainer = document.getElementById('quizContainer');
            const resultsContainer = document.getElementById('resultsContainer');
            const mainMenu = document.getElementById('mainMenu');
            
            if (quizContainer) {
                quizContainer.style.display = 'none';
            }
            if (resultsContainer) {
                resultsContainer.style.display = 'none';
            }
            // Show main menu
            if (mainMenu) {
                mainMenu.style.display = 'block';
            }
            
            // Reset quiz state
            currentQuiz = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            
            // Reset the answer review toggle
            const reviewDiv = document.getElementById('answersReview');
            const toggleButton = document.querySelector('.toggle-review');
            if (reviewDiv) {
                reviewDiv.style.display = 'none';
            }
            if (toggleButton) {
                toggleButton.textContent = 'Show Answer Review';
            }
        }
    </script>

    <!-- ============================================ -->
    <!-- SEO-OPTIMIZED UNIT FOOTER SECTION -->
    <!-- ============================================ -->
    <div class="unit-footer-sections">
        <!-- Related Units Section -->
        <section class="related-units">
            <h3>📖 Related Gas Trade Training Units</h3>
            <div class="related-units-grid">
                <!-- Previous Unit -->
                <div class="related-unit-card">
                    <h4>← Previous Level</h4>
                    <a href="/CSA_Unit_8_Intro_to_Piping_Reviews.html">Unit 8: Introduction to Piping (G3)</a>
                    <p>Review G3 piping fundamentals before advancing to G2 material</p>
                </div>

                <!-- Next Unit -->
                <div class="related-unit-card">
                    <h4>Next Unit →</h4>
                    <a href="/training/g2/G2/CSA_Unit_11_Chapter_Reviews.html">Unit 11: (G2 Continued)</a>
                    <p>Continue your G2 certification journey with the next advanced unit</p>
                </div>

                <!-- Related Unit -->
                <div class="related-unit-card">
                    <h4>🔗 Related</h4>
                    <a href="/tssa-g2-units-index.html">All G2 Units</a>
                    <p>Explore the complete G2 intermediate certification curriculum</p>
                </div>
            </div>
        </section>

        <!-- Next Steps CTA Section -->
        <section class="next-steps">
            <h3>🚀 Next Steps in Your TSSA G2 Preparation</h3>
            <div class="cta-grid">
                <div class="cta-card">
                    <h4>📚 Complete All G2 Units</h4>
                    <p>Work through all G2 units to ensure comprehensive intermediate certification readiness.</p>
                    <a href="/tssa-g2-units-index.html" class="cta-button">View All G2 Units →</a>
                </div>

                <div class="cta-card">
                    <h4>📖 Study CSA B149.1-25 Code</h4>
                    <p>Deep dive into advanced CSA B149.1-25 requirements for complex installations.</p>
                    <a href="/csa-code-search.html" class="cta-button">Search CSA Codes →</a>
                </div>

                <div class="cta-card">
                    <h4>🤖 Try AI-Powered Study Tools</h4>
                    <p>Get instant answers to advanced gas technician questions with our AI tutor.</p>
                    <a href="/gas-technician-ai-tutor.html" class="cta-button">Launch AI Tutor →</a>
                </div>
            </div>
        </section>

        <!-- Study Resources Section -->
        <section class="study-resources">
            <h3>📚 Additional G2 Study Resources</h3>
            <ul class="resource-links">
                <li><a href="/training/g2/G2/CSA Unit 10 - Advanced Piping Systems - Final.pdf" target="_blank">📄 Download Unit 10 PDF Study Guide</a></li>
                <li><a href="/tssa-g2-exam-prep.html">← Back to TSSA G2 Exam Prep Overview</a></li>
                <li><a href="/tssa-g2-units-index.html">Browse All G2 Training Units</a></li>
                <li><a href="/tssa-g3-units-index.html">Review G3 Foundation Units</a></li>
                <li><a href="/csa-code-search.html">Search CSA B149.1-25 Code Database</a></li>
                <li><a href="/gas-technician-ai-tutor.html">Ask the AI Tutor Questions</a></li>
                <li><a href="https://www.tssa.org/en/regulated-sectors/fuels/fuels-certification.aspx" target="_blank" rel="noopener">Official TSSA Certification Info</a></li>
            </ul>
        </section>

        <!-- Disclaimer -->
        <div class="disclaimer-box">
            <p><strong>⚠️ Educational Resource Disclaimer:</strong> This practice test is an independent educational resource designed to help students prepare for the TSSA G2 certification exam. These materials are based on CSA B149.1-25 requirements but are not official TSSA materials. G2 certification requires G3 prerequisite plus 2 years (4,000 hours) documented experience. Always refer to the official CSA B149.1-25 code and current TSSA guidelines for authoritative information. LARK Labs is not affiliated with TSSA or CSA Group.</p>
        </div>
    </div>
    <!-- ============================================ -->
    <!-- END UNIT FOOTER SECTION -->
    <!-- ============================================ -->
</body>
</html>