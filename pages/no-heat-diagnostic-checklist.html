<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#e74c3c">
    <title>No Heat Diagnostic Checklist - LARK Labs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: #ffffff;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.2), rgba(192, 57, 43, 0.1));
            border: 2px solid #e74c3c;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .icon-large {
            font-size: 4rem;
            filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.3));
        }

        h1 {
            color: #e74c3c;
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .subtitle {
            color: #bdc3c7;
            font-size: 1rem;
        }

        .emergency-banner {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            padding: 15px 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
        }

        .emergency-banner strong {
            font-size: 1.1rem;
        }

        .system-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .system-button {
            flex: 1;
            min-width: 150px;
            padding: 15px 20px;
            border: 2px solid #3498db;
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05));
            color: #3498db;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: 600;
            font-size: 1rem;
        }

        .system-button:hover {
            background: rgba(52, 152, 219, 0.2);
            transform: translateY(-2px);
        }

        .system-button.active {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border-color: #2980b9;
        }

        .progress-bar {
            background: rgba(44, 62, 80, 0.5);
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 30px;
            border: 2px solid #3498db;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2980b9);
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .section {
            background: linear-gradient(135deg, rgba(52, 152, 219, 0.1), rgba(52, 152, 219, 0.05));
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .section.critical {
            border-color: #e74c3c;
            background: linear-gradient(135deg, rgba(231, 76, 60, 0.15), rgba(231, 76, 60, 0.05));
        }

        .section.hidden {
            display: none;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(52, 152, 219, 0.3);
        }

        .section.critical .section-header {
            border-bottom-color: rgba(231, 76, 60, 0.3);
        }

        .section-icon {
            font-size: 2rem;
        }

        .section h2 {
            color: #3498db;
            font-size: 1.4rem;
        }

        .section.critical h2 {
            color: #e74c3c;
        }

        .checklist {
            list-style: none;
        }

        .checklist-item {
            background: rgba(44, 62, 80, 0.5);
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checklist-item:hover {
            background: rgba(44, 62, 80, 0.7);
            transform: translateX(5px);
        }

        .section.critical .checklist-item {
            border-left-color: #e74c3c;
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #3498db;
            border-radius: 4px;
            flex-shrink: 0;
            margin-top: 2px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .section.critical .checkbox {
            border-color: #e74c3c;
        }

        .checklist-item:hover .checkbox {
            background: rgba(52, 152, 219, 0.2);
        }

        .section.critical .checklist-item:hover .checkbox {
            background: rgba(231, 76, 60, 0.2);
        }

        .checklist-item.checked .checkbox {
            background: #3498db;
            border-color: #3498db;
        }

        .section.critical .checklist-item.checked .checkbox {
            background: #e74c3c;
            border-color: #e74c3c;
        }

        .checkbox::after {
            content: '✓';
            color: white;
            font-size: 16px;
            font-weight: bold;
            display: none;
        }

        .checklist-item.checked .checkbox::after {
            display: block;
        }

        .item-content {
            flex: 1;
        }

        .item-title {
            color: #ecf0f1;
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        .item-detail {
            color: #95a5a6;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .item-values {
            color: #f1c40f;
            font-size: 0.85rem;
            margin-top: 4px;
            font-family: 'Courier New', monospace;
        }

        .note {
            background: rgba(241, 196, 15, 0.1);
            border-left: 4px solid #f1c40f;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .note-title {
            color: #f1c40f;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .note-content {
            color: #bdc3c7;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .diagnostic-path {
            background: rgba(231, 76, 60, 0.1);
            border-left: 4px solid #e74c3c;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
        }

        .diagnostic-path-title {
            color: #e74c3c;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .diagnostic-path-content {
            color: #bdc3c7;
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .back-link {
            display: inline-block;
            color: #3498db;
            text-decoration: none;
            padding: 12px 20px;
            border: 2px solid #3498db;
            border-radius: 8px;
            transition: all 0.3s ease;
            margin-bottom: 20px;
        }

        .back-link:hover {
            background: rgba(52, 152, 219, 0.2);
            transform: translateX(-5px);
        }

        footer {
            text-align: center;
            padding: 30px;
            color: #95a5a6;
            border-top: 1px solid rgba(52, 152, 219, 0.2);
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            h1 {
                font-size: 1.5rem;
            }

            .section {
                padding: 20px 15px;
            }

            .checklist-item {
                padding: 12px;
            }

            .system-selector {
                flex-direction: column;
            }

            .system-button {
                min-width: 100%;
            }
        }

        @media print {
            body {
                background: white;
                color: black;
            }

            .back-link, .progress-bar, .system-selector {
                display: none;
            }

            .section {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="hvac-diagnostic-guides.html" class="back-link">← Back to All Guides</a>

        <header>
            <div class="header-content">
                <span class="icon-large">🥶</span>
                <div>
                    <h1>No Heat Diagnostic Checklist</h1>
                    <p class="subtitle">Systematic troubleshooting for heating system failures</p>
                </div>
            </div>
        </header>

        <div class="emergency-banner">
            <span style="font-size: 1.5rem;">⚠️</span>
            <div>
                <strong>GAS SAFETY</strong> - If you smell gas, evacuate immediately, shut off gas at meter if safe to do so, and call emergency services. Do not operate electrical switches or create sparks.
            </div>
        </div>

        <div class="system-selector">
            <button class="system-button active" data-system="all">All Systems</button>
            <button class="system-button" data-system="furnace">Gas Furnace</button>
            <button class="system-button" data-system="heatpump">Heat Pump</button>
            <button class="system-button" data-system="boiler">Boiler</button>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progressBar">0% Complete</div>
        </div>

        <!-- Phase 1: Basic Checks -->
        <div class="section critical" data-systems="all furnace heatpump boiler">
            <div class="section-header">
                <span class="section-icon">🔌</span>
                <h2>Phase 1: Basic Power & Thermostat Checks</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify thermostat is calling for heat</div>
                        <div class="item-detail">Set temp above room temp, mode on HEAT, fan to AUTO, check display is working</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check thermostat batteries (if applicable)</div>
                        <div class="item-detail">Replace batteries, wait for reboot, verify proper display</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify power at equipment</div>
                        <div class="item-detail">Check breaker ON, disconnect switch ON, fuses intact</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Measure line voltage at unit</div>
                        <div class="item-detail">Should read 120VAC (single phase) or 240VAC (heat pump/electric heat)</div>
                        <div class="item-values">Expected: 120V ±10% or 240V ±10%</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check 24VAC transformer output</div>
                        <div class="item-detail">Measure at transformer secondary - should be 24-28VAC</div>
                        <div class="item-values">Expected: 24-28VAC | Low voltage = failed transformer or short</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Inspect for blown fuses on control board</div>
                        <div class="item-detail">Check 3A or 5A fuses on board - replace if blown, investigate cause</div>
                    </div>
                </li>
            </ul>
            <div class="diagnostic-path">
                <div class="diagnostic-path-title">🔍 IF NO 24VAC AT TRANSFORMER</div>
                <div class="diagnostic-path-content">Check 120V input to transformer → Replace transformer if input OK but no output → Check for shorts on low voltage wiring if fuse keeps blowing</div>
            </div>
        </div>

        <!-- Phase 2: Gas Furnace Specific -->
        <div class="section" data-systems="all furnace">
            <div class="section-header">
                <span class="section-icon">🔥</span>
                <h2>Phase 2: Gas Furnace Ignition Sequence</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify gas supply to furnace</div>
                        <div class="item-detail">Check main gas valve open, gas cock at furnace open, gas meter running</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check air filter condition</div>
                        <div class="item-detail">Dirty filter can cause limit switch lockout - replace if restricted</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Observe inducer motor startup</div>
                        <div class="item-detail">Should start when thermostat calls for heat - listen for motor, check for 120VAC at motor</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify pressure switch closes</div>
                        <div class="item-detail">Check for 24VAC across pressure switch with inducer running - 0V = closed/good</div>
                        <div class="item-values">Closed = 0VAC | Open = 24VAC (check hose, inducer, or vent blockage)</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check hot surface igniter operation</div>
                        <div class="item-detail">Should glow bright orange - check for 120VAC at igniter, measure igniter resistance</div>
                        <div class="item-values">Resistance: 40-90Ω typically | Open circuit = failed igniter</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Confirm gas valve opens</div>
                        <div class="item-detail">Listen for click, check for 24VAC at gas valve when igniter glowing</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify flame sensor detects flame</div>
                        <div class="item-detail">Measure flame sense current: 0.5-10µA DC (use µA setting on meter)</div>
                        <div class="item-values">Good: 2-10µA | Weak: 0.5-2µA (clean sensor) | None: 0µA (no flame or bad sensor)</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check for limit switch lockout</div>
                        <div class="item-detail">Verify limit switches closed - check continuity or measure 0VAC across them</div>
                    </div>
                </li>
            </ul>
            <div class="note">
                <div class="note-title">💡 COMMON FURNACE FAILURES</div>
                <div class="note-content">
                    <strong>Dirty flame sensor:</strong> Flame lights then shuts off after 3-5 seconds<br>
                    <strong>Pressure switch stuck open:</strong> Inducer runs but igniter never glows<br>
                    <strong>Failed igniter:</strong> Igniter doesn't glow, no gas valve opening<br>
                    <strong>Bad gas valve:</strong> Igniter glows but no flame<br>
                    <strong>Cracked heat exchanger:</strong> May cause limit/rollout switch tripping
                </div>
            </div>
        </div>

        <!-- Phase 3: Heat Pump Specific -->
        <div class="section" data-systems="all heatpump">
            <div class="section-header">
                <span class="section-icon">♨️</span>
                <h2>Phase 3: Heat Pump Diagnostics</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify outdoor unit running in heat mode</div>
                        <div class="item-detail">Outdoor fan and compressor should run when calling for heat</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check reversing valve operation</div>
                        <div class="item-detail">Verify 24VAC to reversing valve solenoid in heat mode, feel for valve shift</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Measure outdoor ambient temperature</div>
                        <div class="item-detail">Heat pump capacity drops below 0°C - may need auxiliary/emergency heat</div>
                        <div class="item-values">Below -10°C: Heat pump may be in defrost or emergency heat mode</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check for defrost cycle operation</div>
                        <div class="item-detail">Outdoor coil icing normal - should defrost periodically (10-90 min cycles)</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify auxiliary heat strips operational</div>
                        <div class="item-detail">Check for 240VAC at heat strips, measure amp draw when energized</div>
                        <div class="item-values">Amp draw per kW: ~4.2A per 1kW at 240V</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Measure refrigerant pressures (if equipped)</div>
                        <div class="item-detail">Check suction/discharge pressures against outdoor temp chart</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check emergency heat operation</div>
                        <div class="item-detail">Switch to EM HEAT mode - outdoor unit should stop, aux heat should run</div>
                    </div>
                </li>
            </ul>
            <div class="note">
                <div class="note-title">💡 HEAT PUMP TROUBLESHOOTING</div>
                <div class="note-content">
                    <strong>Stuck in cooling mode:</strong> Bad reversing valve or solenoid<br>
                    <strong>Outdoor unit frozen solid:</strong> Defrost control failure or low airflow<br>
                    <strong>No aux heat:</strong> Check sequencers, contactors, limit switches, heat strips<br>
                    <strong>Short cycling:</strong> Low refrigerant, dirty coils, or compressor issue<br>
                    <strong>Customer "no heat" complaint:</strong> Often just cold air during defrost - educate customer
                </div>
            </div>
        </div>

        <!-- Phase 4: Boiler Specific -->
        <div class="section" data-systems="all boiler">
            <div class="section-header">
                <span class="section-icon">💧</span>
                <h2>Phase 4: Boiler System Diagnostics</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check boiler water pressure</div>
                        <div class="item-detail">Should be 12-25 PSI cold (read gauge on boiler)</div>
                        <div class="item-values">Low pressure: Add water via fill valve | High: Check expansion tank/relief valve</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify circulator pump running</div>
                        <div class="item-detail">Should hear/feel vibration, check for 120VAC at pump, feel for heat at motor</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check zone valves operation (if applicable)</div>
                        <div class="item-detail">Verify zone valves open when zone calls for heat - manual lever or end switch</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Inspect for air in system</div>
                        <div class="item-detail">Check air vents, bleed radiators, listen for gurgling in pipes</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify burner ignition sequence</div>
                        <div class="item-detail">Similar to furnace - check inducer, pressure switch, igniter, gas valve, flame sense</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check boiler temperature controls</div>
                        <div class="item-detail">Verify aquastat set correctly, high limit not tripped, outdoor reset working</div>
                        <div class="item-values">Typical settings: 140-180°F | High limit: 200-220°F</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Test expansion tank</div>
                        <div class="item-detail">Press Schrader valve - should have air pressure, no water discharge</div>
                        <div class="item-values">Pressure: 12-15 PSI | Water at valve = waterlogged tank</div>
                    </div>
                </li>
            </ul>
            <div class="note">
                <div class="note-title">💡 BOILER COMMON ISSUES</div>
                <div class="note-content">
                    <strong>Low water pressure:</strong> Leak in system or faulty pressure relief valve<br>
                    <strong>Circulator failure:</strong> Boiler heats but no hot water to zones<br>
                    <strong>Airlock:</strong> Gurgling sounds, uneven heating, pump cavitation<br>
                    <strong>Zone valve stuck:</strong> One zone not heating<br>
                    <strong>Waterlogged expansion tank:</strong> Pressure spikes, relief valve discharges
                </div>
            </div>
        </div>

        <!-- Phase 5: Airflow & Final Checks -->
        <div class="section" data-systems="all furnace heatpump">
            <div class="section-header">
                <span class="section-icon">🌬️</span>
                <h2>Phase 5: Airflow & Distribution</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify blower motor operation</div>
                        <div class="item-detail">Blower should start after heat established (30-90 second delay normal)</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check air filter restriction</div>
                        <div class="item-detail">Replace if dirty - can cause overheating and limit switch trips</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Inspect ductwork for obstructions</div>
                        <div class="item-detail">Check for closed dampers, collapsed ducts, blocked registers</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Measure supply air temperature</div>
                        <div class="item-detail">Should be 40-70°F above return air temp (gas furnace) or 15-30°F (heat pump)</div>
                        <div class="item-values">Gas: 120-140°F supply | Heat pump: 85-105°F supply (varies with outdoor temp)</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check for proper venting (combustion systems)</div>
                        <div class="item-detail">Verify vent pipe clear, proper slope, no leaks, cap installed correctly</div>
                    </div>
                </li>
            </ul>
        </div>

        <!-- Phase 6: Advanced Diagnostics -->
        <div class="section" data-systems="all furnace heatpump boiler">
            <div class="section-header">
                <span class="section-icon">🔬</span>
                <h2>Phase 6: Advanced Testing & Safety</h2>
            </div>
            <ul class="checklist">
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Check control board for error codes</div>
                        <div class="item-detail">Count LED blinks or check digital display - reference service manual</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Test safety switches (gas systems)</div>
                        <div class="item-detail">Verify rollout switches, limit switches, pressure switches all closed</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Perform combustion analysis (if equipped)</div>
                        <div class="item-detail">Check CO, O2, draft pressure - adjust gas valve if needed</div>
                        <div class="item-values">CO: <100ppm air-free | O2: 6-9% | Draft: -0.01 to -0.05" W.C.</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Test for gas leaks at connections</div>
                        <div class="item-detail">Use soap solution or electronic detector - never use open flame</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Verify proper gas pressure</div>
                        <div class="item-detail">Natural gas: 3.5-5" W.C. inlet, 3.5" outlet | Propane: 11" W.C. inlet, 10" outlet</div>
                    </div>
                </li>
                <li class="checklist-item">
                    <div class="checkbox"></div>
                    <div class="item-content">
                        <div class="item-title">Document all findings and measurements</div>
                        <div class="item-detail">Record voltages, pressures, temperatures, error codes for service report</div>
                    </div>
                </li>
            </ul>
            <div class="diagnostic-path">
                <div class="diagnostic-path-title">⚠️ CRITICAL SAFETY FAILURES</div>
                <div class="diagnostic-path-content">
                    <strong>Red-tag immediately:</strong> Cracked heat exchanger | Gas leaks | CO >100ppm in flue | Improper venting | Failed safety controls | Inadequate combustion air<br><br>
                    <strong>Follow local codes:</strong> Tag unit, notify customer in writing, document with photos, follow TSSA or provincial requirements
                </div>
            </div>
        </div>

        <footer>
            <p>Part of the <strong>LARK Labs HVAC Emergency Diagnostic Guides</strong></p>
            <p style="margin-top: 10px; font-size: 0.9rem;">For Canadian HVAC technicians | Always follow CSA B149 codes and manufacturer specifications</p>
        </footer>
    </div>

    <script>
        // System selector functionality
        const systemButtons = document.querySelectorAll('.system-button');
        const sections = document.querySelectorAll('.section[data-systems]');
        let currentSystem = 'all';

        systemButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Update active button
                systemButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Get selected system
                currentSystem = this.dataset.system;
                
                // Filter sections
                sections.forEach(section => {
                    const systems = section.dataset.systems.split(' ');
                    if (currentSystem === 'all' || systems.includes(currentSystem)) {
                        section.classList.remove('hidden');
                    } else {
                        section.classList.add('hidden');
                    }
                });
                
                // Update progress
                updateProgress();
            });
        });

        // Initialize checklist functionality
        const checklistItems = document.querySelectorAll('.checklist-item');
        const progressBar = document.getElementById('progressBar');

        // Load saved state from localStorage
        function loadState() {
            checklistItems.forEach((item, index) => {
                const isChecked = localStorage.getItem(`no-heat-checklist-item-${index}`) === 'true';
                if (isChecked) {
                    item.classList.add('checked');
                }
            });
            
            // Load selected system
            const savedSystem = localStorage.getItem('no-heat-selected-system');
            if (savedSystem) {
                currentSystem = savedSystem;
                systemButtons.forEach(btn => {
                    if (btn.dataset.system === savedSystem) {
                        btn.click();
                    }
                });
            }
            
            updateProgress();
        }

        // Save state to localStorage
        function saveState(index, isChecked) {
            localStorage.setItem(`no-heat-checklist-item-${index}`, isChecked);
        }

        // Update progress bar
        function updateProgress() {
            // Only count visible items
            const visibleItems = Array.from(checklistItems).filter(item => {
                const section = item.closest('.section');
                return !section.classList.contains('hidden');
            });
            
            const visibleCheckedItems = visibleItems.filter(item => item.classList.contains('checked'));
            const totalItems = visibleItems.length;
            const checkedItems = visibleCheckedItems.length;
            const percentage = totalItems > 0 ? Math.round((checkedItems / totalItems) * 100) : 0;
            
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '% Complete';
        }

        // Add click handlers
        checklistItems.forEach((item, index) => {
            item.addEventListener('click', function() {
                this.classList.toggle('checked');
                const isChecked = this.classList.contains('checked');
                saveState(index, isChecked);
                updateProgress();
            });
        });

        // Save system selection
        systemButtons.forEach(button => {
            button.addEventListener('click', function() {
                localStorage.setItem('no-heat-selected-system', this.dataset.system);
            });
        });

        // Load state on page load
        loadState();

        // Reset functionality (Ctrl/Cmd + Shift + R)
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key.toLowerCase() === 'r') {
                e.preventDefault();
                if (confirm('Reset all checklist items and system selection?')) {
                    // Clear localStorage
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        if (key.startsWith('no-heat-')) {
                            localStorage.removeItem(key);
                        }
                    }
                    // Reset UI
                    checklistItems.forEach(item => item.classList.remove('checked'));
                    systemButtons.forEach(btn => btn.classList.remove('active'));
                    systemButtons[0].classList.add('active');
                    currentSystem = 'all';
                    sections.forEach(section => section.classList.remove('hidden'));
                    updateProgress();
                }
            }
        });
    </script>
</body>
</html>
