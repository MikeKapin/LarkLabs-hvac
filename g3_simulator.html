<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TSSA G3 Practice Exam Simulator | LARK Labs</title>
    <meta name="description" content="Free TSSA G3 practice exam simulator with 165-question exams randomly generated from 300+ question bank. CSA B149.1-25 compliant for Gas Technician 3 certification.">
    
    <!-- Claude Dark Mode Styling -->
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2d2d2d;
            --bg-card: #2a2a2a;
            --text-primary: #ffffff;
            --text-secondary: #e5e5e5;
            --text-muted: #a0a0a0;
            --accent-orange: #ff6b35;
            --accent-blue: #4a9eff;
            --accent-green: #10b981;
            --border-color: #404040;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--accent-orange) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 600px;
            margin: 0 auto;
        }

        .back-link {
            display: inline-block;
            background: var(--bg-secondary);
            color: var(--accent-blue);
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .back-link:hover {
            background: var(--accent-blue);
            color: white;
            transform: translateY(-2px);
        }

        /* Quiz Container */
        .quiz-container {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 40px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
        }

        .quiz-header {
            background: var(--bg-secondary);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .quiz-title {
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .progress-info {
            color: var(--text-secondary);
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-orange), var(--accent-blue));
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .question-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .question-number {
            color: var(--accent-orange);
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .question-text {
            color: var(--text-primary);
            font-size: 1.1rem;
            margin-bottom: 25px;
            line-height: 1.7;
        }

        .answer-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px 20px;
            margin-bottom: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--bg-primary);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }

        .answer-option:hover {
            border-color: var(--accent-blue);
            background: var(--bg-card);
            color: var(--text-primary);
        }

        .answer-option.selected {
            border-color: var(--accent-orange);
            background: var(--accent-orange);
            color: white;
            box-shadow: var(--shadow);
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }

        .control-button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .prev-button {
            background: var(--bg-secondary);
            color: var(--text-secondary);
            border-color: var(--border-color);
        }

        .next-button {
            background: var(--accent-orange);
            color: white;
        }

        .quit-button {
            background: transparent;
            color: var(--text-muted);
            border-color: var(--border-color);
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .next-button:hover {
            background: #e55a2b;
        }

        .prev-button:hover {
            background: var(--accent-blue);
            color: white;
        }

        .quit-button:hover {
            background: #dc3545;
            color: white;
        }

        /* Results */
        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
            background: var(--bg-card);
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
            box-shadow: var(--shadow-lg);
        }

        .score-excellent { background: linear-gradient(135deg, var(--accent-green), #059669); }
        .score-good { background: linear-gradient(135deg, var(--accent-blue), #2563eb); }
        .score-fair { background: linear-gradient(135deg, var(--accent-orange), #ea580c); }
        .score-poor { background: linear-gradient(135deg, #ef4444, #dc2626); }

        .results-title {
            color: var(--text-primary);
            margin-bottom: 25px;
            font-size: 2rem;
        }

        .results-details {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        .detail-value {
            color: var(--accent-orange);
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 25px;
            }
            
            .quiz-controls {
                flex-direction: column;
            }
            
            .control-button {
                width: 100%;
            }
        }

        /* Animation */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-card {
            animation: fadeIn 0.5s ease-out;
        }

        .exam-info {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .exam-info h2 {
            color: var(--accent-orange);
            margin-bottom: 15px;
        }

        .exam-info p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .start-button {
            background: linear-gradient(135deg, var(--accent-orange) 0%, #e55a2b 100%);
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
            margin-top: 30px;
        }

        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(255, 107, 53, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-link">‚Üê Back to LARK Labs</a>
            <h1>üî• TSSA G3 Practice Exam</h1>
            <p>Master Your Gas Technician 3 Certification with comprehensive practice exams</p>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu">
            <div class="exam-info">
                <h2>TSSA G3 Practice Exam Simulator</h2>
                <p>Comprehensive practice exam with 25 questions randomly selected from our verified question bank. Covers all essential G3 topics including safety, tools, gas properties, codes, and regulations.</p>
                <button class="start-button" onclick="startQuiz()">üöÄ Start Practice Exam</button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container" style="display: none;">
            <div class="quiz-header">
                <h2 id="quizTitle" class="quiz-title">TSSA G3 Practice Exam</h2>
                <div id="progressInfo" class="progress-info"></div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionCard" class="question-card">
                <div id="questionNumber" class="question-number"></div>
                <div id="questionText" class="question-text"></div>
                <div id="answerOptions"></div>
            </div>

            <div class="quiz-controls">
                <button id="prevButton" class="control-button prev-button" onclick="previousQuestion()">‚Üê Previous</button>
                <button id="quitButton" class="control-button quit-button" onclick="quitQuiz()">Quit Quiz</button>
                <button id="nextButton" class="control-button next-button" onclick="nextQuestion()">Next ‚Üí</button>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container">
            <div id="scoreCircle" class="score-circle">
                <span id="scorePercentage"></span>
            </div>
            <h2 class="results-title">Quiz Complete!</h2>
            <div class="results-details">
                <div class="detail-item">
                    <span>Total Questions:</span>
                    <span id="totalQuestions" class="detail-value"></span>
                </div>
                <div class="detail-item">
                    <span>Correct Answers:</span>
                    <span id="correctAnswers" class="detail-value"></span>
                </div>
                <div class="detail-item">
                    <span>Final Score:</span>
                    <span id="finalScore" class="detail-value"></span>
                </div>
            </div>
            <button class="start-button" onclick="returnToMenu()">Take Another Quiz</button>
            <button class="control-button prev-button" onclick="window.location.href='index.html'" style="margin-top: 15px;">‚Üê Back to LARK Labs</button>
        </div>
    </div>

    <script>
        // Verified G3 Questions - Based on hvac-student-resources verified question bank (25 questions)
        const g3QuestionBank = [
            {
                question: "What gases are typically found in sewer gas?",
                options: [
                    "CO‚ÇÇ and helium",
                    "Ozone and radon", 
                    "Hydrogen sulfide, methane, ammonia",
                    "Argon and krypton"
                ],
                correct: 2
            },
            {
                question: "What is the minimum diameter gauge that can be used for pressure testing?",
                options: [
                    "3 inches (75 mm)",
                    "2 inches (50 mm)",
                    "4 inches (100 mm)"
                ],
                correct: 1
            },
            {
                question: "According to CSA B149.1-25, what is the maximum allowable pressure drop in a residential gas piping system?",
                options: [
                    "0.5 inches of water column",
                    "1.0 inch of water column",
                    "1.5 inches of water column",
                    "2.0 inches of water column"
                ],
                correct: 0
            },
            {
                question: "What type of pipe joint compound must be used on gas piping threads?",
                options: [
                    "Any standard pipe dope",
                    "Gas-rated pipe joint compound only",
                    "Teflon tape only",
                    "No compound needed"
                ],
                correct: 1
            },
            {
                question: "Which gas detection method is most appropriate for checking gas leaks during installation?",
                options: [
                    "Electronic combustible gas detector",
                    "Soap solution",
                    "Both A and B",
                    "Open flame test"
                ],
                correct: 2
            },
            {
                question: "What is the minimum clearance required between a gas meter and an electrical panel?",
                options: [
                    "0.5 meters (20 inches)",
                    "1.0 meter (39 inches)",
                    "1.5 meters (59 inches)",
                    "2.0 meters (78 inches)"
                ],
                correct: 1
            },
            {
                question: "In a residential gas installation, what is the maximum BTU input typically allowed for G3 scope?",
                options: [
                    "200,000 BTU/hr",
                    "400,000 BTU/hr",
                    "600,000 BTU/hr",
                    "800,000 BTU/hr"
                ],
                correct: 1
            },
            {
                question: "What must be done before performing maintenance on any gas appliance?",
                options: [
                    "Turn off the appliance only",
                    "Shut off gas supply, lock out, and test for gas presence",
                    "Just disconnect the gas line",
                    "Contact the gas utility first"
                ],
                correct: 1
            },
            {
                question: "What is the purpose of a drip leg in gas piping?",
                options: [
                    "To increase gas pressure",
                    "To collect condensation and debris",
                    "To regulate gas flow",
                    "To provide emergency shutoff"
                ],
                correct: 1
            },
            {
                question: "Which organization publishes CSA B149.1-25?",
                options: [
                    "Technical Standards and Safety Authority (TSSA)",
                    "CSA Group",
                    "Canadian Gas Association (CGA)",
                    "Natural Resources Canada"
                ],
                correct: 1
            },
            {
                question: "What does WHMIS stand for?",
                options: [
                    "Workplace Hazardous Materials Identification System",
                    "Workplace Hazardous Materials Information System",
                    "Workers Health Management Information System",
                    "Workplace Health and Medical Information System"
                ],
                correct: 1
            },
            {
                question: "According to TSSA regulations, what action must be taken when a dangerous gas appliance condition is discovered?",
                options: [
                    "Continue working and report later",
                    "Immediately disconnect and red tag the appliance",
                    "Contact the homeowner for permission",
                    "Complete the job then notify TSSA"
                ],
                correct: 1
            },
            {
                question: "What type of tubing is commonly used for gas appliance connections?",
                options: [
                    "Aluminum tubing",
                    "Copper tubing",
                    "CSST (Corrugated Stainless Steel Tubing)",
                    "PVC tubing"
                ],
                correct: 2
            },
            {
                question: "What is the typical BTU content range of natural gas?",
                options: [
                    "800-900 BTU/ft¬≥",
                    "900-1000 BTU/ft¬≥",
                    "1000-1100 BTU/ft¬≥",
                    "1100-1200 BTU/ft¬≥"
                ],
                correct: 2
            },
            {
                question: "Which type of valve is most commonly used as a gas main shutoff?",
                options: [
                    "Gate valve",
                    "Ball valve",
                    "Globe valve",
                    "Check valve"
                ],
                correct: 1
            },
            {
                question: "What safety device automatically shuts off gas flow if the pilot light extinguishes?",
                options: [
                    "Pressure regulator",
                    "Thermocouple",
                    "Flow control valve",
                    "Relief valve"
                ],
                correct: 1
            },
            {
                question: "According to CSA B149.1-25, gas piping must be sized based on:",
                options: [
                    "Building size only",
                    "Gas demand, pipe length, and allowable pressure drop",
                    "Local building codes only",
                    "Gas meter size only"
                ],
                correct: 1
            },
            {
                question: "What material is commonly used for underground gas service lines?",
                options: [
                    "Copper tubing",
                    "Black iron pipe",
                    "Polyethylene (PE) pipe",
                    "Galvanized steel"
                ],
                correct: 2
            },
            {
                question: "In Ontario, which authority regulates natural gas installation safety?",
                options: [
                    "CSA Group",
                    "Ontario Building Code Authority",
                    "Technical Standards and Safety Authority (TSSA)",
                    "Canadian Gas Association"
                ],
                correct: 2
            },
            {
                question: "What is the first action to take when responding to a gas leak?",
                options: [
                    "Use electrical equipment to locate the leak",
                    "Light a match to test for gas",
                    "Eliminate ignition sources and ventilate",
                    "Continue normal operations"
                ],
                correct: 2
            },
            {
                question: "What type of joint is standard for black iron gas piping?",
                options: [
                    "Welded joint",
                    "Soldered joint",
                    "Threaded joint with approved sealant",
                    "Compression fitting"
                ],
                correct: 2
            },
            {
                question: "Which PPE is mandatory when working with gas installations?",
                options: [
                    "Safety glasses only",
                    "Hard hat only",
                    "Safety footwear only",
                    "All of the above"
                ],
                correct: 3
            },
            {
                question: "What does the 'three-point contact' rule specify for ladder use?",
                options: [
                    "Three people must be present",
                    "Maintain three points of body contact with ladder at all times",
                    "Use three different ladder positions",
                    "Check three safety features before climbing"
                ],
                correct: 1
            },
            {
                question: "What is the purpose of a gas appliance connector?",
                options: [
                    "To increase gas pressure",
                    "To provide flexible connection between rigid piping and appliance",
                    "To filter gas impurities",
                    "To regulate gas temperature"
                ],
                correct: 1
            },
            {
                question: "What is the specific gravity of natural gas compared to air?",
                options: [
                    "Approximately 0.6 (lighter than air)",
                    "Approximately 1.0 (same as air)",
                    "Approximately 1.5 (heavier than air)",
                    "Approximately 2.0 (much heavier)"
                ],
                correct: 0
            }
            {
                question: "Which type of hard hat should NOT be worn when working around electrical equipment?",
                options: [
                    "Plastic hard hat",
                    "Fiberglass hard hat", 
                    "Metal hard hat",
                    "Carbon fiber hard hat"
                ],
                correct: 2
            },
            {
                question: "What does the 'three-point contact' rule refer to when using ladders?",
                options: [
                    "Having three tools in your belt",
                    "Maintaining three points of contact with the ladder at all times",
                    "Setting up three different ladders",
                    "Checking three safety points before climbing"
                ],
                correct: 1
            },
            {
                question: "In CSA B149.1-25, what is the minimum clearance required between a gas meter and an electrical panel?",
                options: [
                    "0.5 meters (1.6 ft)",
                    "1.0 meter (3.3 ft)",
                    "1.5 meters (4.9 ft)",
                    "2.0 meters (6.6 ft)"
                ],
                correct: 1
            },
            {
                question: "Which of the following gases is commonly found in natural gas as an odorant?",
                options: [
                    "Hydrogen sulfide",
                    "Methyl mercaptan",
                    "Carbon dioxide",
                    "Propane"
                ],
                correct: 1
            },
            {
                question: "What should be done before performing any maintenance on gas equipment?",
                options: [
                    "Turn off the main gas valve only",
                    "Shut off gas supply, lock out, and test for gas presence",
                    "Just disconnect the appliance",
                    "Contact the gas company first"
                ],
                correct: 1
            },
            {
                question: "According to CSA B149.1-25, what is the maximum allowable pressure drop for a residential gas piping system?",
                options: [
                    "0.5 inches water column",
                    "1.0 inch water column", 
                    "1.5 inches water column",
                    "2.0 inches water column"
                ],
                correct: 0
            },
            {
                question: "Which tool is essential for detecting gas leaks during installation work?",
                options: [
                    "Multimeter",
                    "Combustible gas detector",
                    "Pressure gauge only",
                    "Thermometer"
                ],
                correct: 1
            },
            {
                question: "What is the specific gravity of natural gas compared to air?",
                options: [
                    "Approximately 0.6 (lighter than air)",
                    "Approximately 1.0 (same as air)",
                    "Approximately 1.5 (heavier than air)",
                    "Approximately 2.0 (much heavier than air)"
                ],
                correct: 0
            },
            {
                question: "In a gas piping system, what is the purpose of a drip leg?",
                options: [
                    "To increase gas pressure",
                    "To collect condensation and debris",
                    "To regulate gas flow",
                    "To provide emergency shutoff"
                ],
                correct: 1
            },
            {
                question: "Which of the following is NOT considered a Class A fire?",
                options: [
                    "Wood",
                    "Paper",
                    "Gasoline",
                    "Fabric"
                ],
                correct: 2
            },
            {
                question: "What does WHMIS stand for?",
                options: [
                    "Workplace Hazardous Materials Identification System",
                    "Workplace Hazardous Materials Information System",
                    "Workers Health and Medical Information System",
                    "Workplace Health Management Information System"
                ],
                correct: 1
            },
            {
                question: "According to TSSA regulations, what must be done if a potentially dangerous gas appliance condition is discovered?",
                options: [
                    "Continue working and note it later",
                    "Immediately disconnect and red tag the appliance",
                    "Contact the homeowner first",
                    "Complete the job then report it"
                ],
                correct: 1
            },
            {
                question: "What is the minimum pipe size typically required for a residential gas service line?",
                options: [
                    "1/2 inch",
                    "3/4 inch",
                    "1 inch",
                    "1-1/4 inch"
                ],
                correct: 1
            },
            {
                question: "Which gas valve type is commonly used as the main shutoff for residential applications?",
                options: [
                    "Gate valve",
                    "Ball valve",
                    "Globe valve", 
                    "Check valve"
                ],
                correct: 1
            },
            {
                question: "What is the BTU content of natural gas typically ranges?",
                options: [
                    "800-900 BTU/ft¬≥",
                    "900-1000 BTU/ft¬≥",
                    "1000-1100 BTU/ft¬≥",
                    "1100-1200 BTU/ft¬≥"
                ],
                correct: 2
            },
            {
                question: "In gas piping, what material is commonly used for underground service lines?",
                options: [
                    "Copper tubing",
                    "Black iron pipe",
                    "Polyethylene (PE) pipe", 
                    "Galvanized steel pipe"
                ],
                correct: 2
            },
            {
                question: "What should be the first step when responding to a suspected gas leak?",
                options: [
                    "Light a match to test for gas",
                    "Turn on electrical equipment to locate the leak",
                    "Eliminate ignition sources and ventilate the area",
                    "Use the telephone to call for help immediately"
                ],
                correct: 2
            },
            {
                question: "Which organization publishes the Natural Gas and Propane Installation Code in Canada?",
                options: [
                    "TSSA",
                    "CSA Group",
                    "CGA",
                    "ANSI"
                ],
                correct: 1
            },
            {
                question: "What is the purpose of a gas appliance connector?",
                options: [
                    "To increase gas pressure",
                    "To provide a flexible connection between rigid piping and the appliance",
                    "To filter impurities from gas",
                    "To regulate gas temperature"
                ],
                correct: 1
            },
            {
                question: "According to CSA B149.1-25, gas piping in residential applications should be sized based on:",
                options: [
                    "The size of the building only",
                    "Gas demand, pipe length, and allowable pressure drop",
                    "Local building codes only",
                    "The gas meter size only"
                ],
                correct: 1
            },
            {
                question: "What type of joint is commonly used for joining black iron gas pipe?",
                options: [
                    "Welded joint",
                    "Soldered joint",
                    "Threaded joint with pipe dope or PTFE tape",
                    "Compression fitting"
                ],
                correct: 2
            },
            {
                question: "Which safety device automatically shuts off gas flow if the pilot light goes out?",
                options: [
                    "Pressure regulator",
                    "Thermocouple",
                    "Flow control valve",
                    "Check valve"
                ],
                correct: 1
            },
            {
                question: "What is the recommended pipe joint compound for gas piping?",
                options: [
                    "Any standard pipe dope",
                    "Gas-approved pipe joint compound",
                    "Plumber's putty",
                    "Standard thread seal tape"
                ],
                correct: 1
            },
            {
                question: "In Ontario, who regulates the safety of natural gas installations?",
                options: [
                    "CSA Group",
                    "Ontario Building Code officials",
                    "Technical Standards and Safety Authority (TSSA)",
                    "Canadian Gas Association"
                ],
                correct: 2
            }
        ];

        // Quiz state
        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function startQuiz() {
            // Generate random quiz of 25 questions
            currentQuiz = generateRandomQuiz(25);
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';

            showQuestion();
        }

        function generateRandomQuiz(questionCount) {
            const shuffled = [...g3QuestionBank].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, Math.min(questionCount, g3QuestionBank.length));
        }

        function showQuestion() {
            const question = currentQuiz[currentQuestionIndex];
            const totalQuestions = currentQuiz.length;

            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressInfo').textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;

            // Show question
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;

            // Show options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                button.onclick = () => selectAnswer(index);
                
                // Restore previous selection
                if (userAnswers[currentQuestionIndex] === index) {
                    button.classList.add('selected');
                }
                
                optionsContainer.appendChild(button);
            });

            // Update navigation buttons
            document.getElementById('prevButton').disabled = currentQuestionIndex === 0;
            document.getElementById('nextButton').textContent = currentQuestionIndex === totalQuestions - 1 ? 'Finish Quiz' : 'Next ‚Üí';
        }

        function selectAnswer(answerIndex) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(btn => {
                btn.classList.remove('selected');
            });

            // Add selection to clicked option
            event.target.classList.add('selected');

            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            for (let i = 0; i < currentQuiz.length; i++) {
                if (userAnswers[i] === currentQuiz[i].correct) {
                    score++;
                }
            }

            showResults();
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';

            const totalQuestions = currentQuiz.length;
            const percentage = Math.round((score / totalQuestions) * 100);

            // Update results display
            document.getElementById('scorePercentage').textContent = percentage + '%';
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('finalScore').textContent = percentage + '%';

            // Set score circle color based on performance
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = 'score-circle';
            if (percentage >= 85) {
                scoreCircle.classList.add('score-excellent');
            } else if (percentage >= 75) {
                scoreCircle.classList.add('score-good');
            } else if (percentage >= 65) {
                scoreCircle.classList.add('score-fair');
            } else {
                scoreCircle.classList.add('score-poor');
            }
        }

        function quitQuiz() {
            if (confirm('Are you sure you want to quit the quiz? Your progress will be lost.')) {
                returnToMenu();
            }
        }

        function returnToMenu() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'block';

            // Reset quiz state
            currentQuiz = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
        }
    </script>
</body>
</html>