<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSA Unit 1 - Safety</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 800px;
            width: 100%;
            text-align: center;
        }

        .logo {
            width: 120px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .education-logo {
            width: 100%;
            height: auto;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .nav-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 20px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .final-exam-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            grid-column: 1 / -1;
            font-size: 18px;
            padding: 25px;
        }

        .quiz-container {
            display: none;
        }

        .quiz-header {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-left: 5px solid #667eea;
        }

        .quiz-title {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
        }

        .question-card {
            background: white;
            border: 1px solid #e9ecef;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .question-number {
            color: #667eea;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .question-text {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .answer-option {
            display: block;
            width: 100%;
            text-align: left;
            padding: 15px 20px;
            margin-bottom: 10px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .control-button {
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .prev-button {
            background: #6c757d;
            color: white;
        }

        .next-button {
            background: #667eea;
            color: white;
        }

        .quit-button {
            background: #dc3545;
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .control-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .results-container {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: white;
        }

        .score-excellent { background: linear-gradient(135deg, #00b894, #00a085); }
        .score-good { background: linear-gradient(135deg, #fdcb6e, #e17055); }
        .score-fair { background: linear-gradient(135deg, #fd79a8, #e84393); }
        .score-poor { background: linear-gradient(135deg, #e17055, #d63031); }

        .results-title {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .results-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
        }

        .detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .answers-review {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e9ecef;
        }

        .review-header {
            color: #2c3e50;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .question-review {
            border-bottom: 1px solid #e9ecef;
            padding: 15px 0;
            margin-bottom: 15px;
        }

        .question-review:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .review-question-text {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .answer-comparison {
            display: grid;
            gap: 8px;
        }

        .answer-row {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
        }

        .user-answer {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .user-answer.correct {
            background: #d4edda;
            border: 1px solid #74b816;
            color: #155724;
        }

        .user-answer.incorrect {
            background: #f8d7da;
            border: 1px solid #e74c3c;
            color: #721c24;
        }

        .correct-answer {
            background: #d1ecf1;
            border: 1px solid #74b816;
            color: #0c5460;
        }

        .answer-label {
            font-weight: 600;
            margin-right: 10px;
            min-width: 80px;
        }

        .answer-text {
            flex: 1;
        }

        .answer-icon {
            margin-left: 10px;
            font-weight: bold;
        }

        .toggle-review {
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .toggle-review:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .hidden {
            display: none;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e9ecef;
            text-align: center;
            color: #6c757d;
            font-size: 14px;
        }

        .footer-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .lark-logo {
            height: 30px;
            width: auto;
        }

        .created-by {
            font-weight: 500;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Navigation -->
        <div id="mainMenu">
            <div class="logo">
                <svg class="education-logo" viewBox="0 0 1024 600" xmlns="http://www.w3.org/2000/svg">
                    <!-- Educational Theme Logo -->
                    <rect x="50" y="150" width="300" height="300" fill="#1565C0" rx="20"/>
                    <!-- Book/Learning symbol -->
                    <path d="M 100 200 L 300 200 L 300 400 L 100 400 Z" fill="white"/>
                    <path d="M 120 220 L 280 220 M 120 250 L 280 250 M 120 280 L 280 280 M 120 310 L 280 310 M 120 340 L 280 340 M 120 370 L 280 370" stroke="#1565C0" stroke-width="3"/>
                    
                    <!-- Learning Text -->
                    <text x="400" y="280" font-family="Arial, sans-serif" font-size="90" font-weight="bold" fill="#1565C0">LEARNING</text>
                    
                    <!-- Educational Text -->
                    <text x="50" y="550" font-family="Arial, sans-serif" font-size="60" font-weight="bold" fill="#7CB342">EDUCATIONAL RESOURCES</text>
                </svg>
            </div>
            <h1>Unit 1 - Safety</h1>
            <p class="subtitle">Gas Trade Training - Chapter Questions</p>
            
            <!-- Educational Disclaimer -->
            <div style="background: #e74c3c; color: white; border-radius: 10px; padding: 15px; margin: 20px 0; text-align: center; font-size: 14px;">
                <strong>⚠️ Independent Educational Content</strong><br>
                This content is provided by LARK Labs as an independent educational resource. We are not affiliated with CSA Group or any regulatory body. These materials complement official training but do not replace certified instruction.
            </div>
            
            <div class="button-grid">
                <button class="nav-button" onclick="startQuiz('chapter1')">
                    Chapter 1<br>
                    <small>On-the-Job Safety Measures</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter2')">
                    Chapter 2<br>
                    <small>Government Acts and Regulations</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter3')">
                    Chapter 3<br>
                    <small>Hazardous Materials</small>
                </button>
                <button class="nav-button" onclick="startQuiz('chapter4')">
                    Chapter 4<br>
                    <small>Fire Safety Practices</small>
                </button>
                <button class="nav-button final-exam-button" onclick="startQuiz('finalExam')">
                    CSA Unit 1 - Safety Review<br>
                    <small>Comprehensive Safety Assessment</small>
                </button>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quizContainer" class="quiz-container">
            <div class="quiz-header">
                <h2 id="quizTitle" class="quiz-title"></h2>
                <div id="progressInfo"></div>
                <div class="progress-bar">
                    <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                </div>
            </div>

            <div id="questionCard" class="question-card">
                <div id="questionNumber" class="question-number"></div>
                <div id="questionText" class="question-text"></div>
                <div id="answerOptions"></div>
            </div>

            <div class="quiz-controls">
                <button id="prevButton" class="control-button prev-button" onclick="previousQuestion()">Previous</button>
                <button id="quitButton" class="control-button quit-button" onclick="window.quitQuiz()">Quit Quiz</button>
                <button id="nextButton" class="control-button next-button" onclick="nextQuestion()">Next</button>
            </div>

            <!-- Footer for Quiz -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Results Container -->
        <div id="resultsContainer" class="results-container">
            <div id="scoreCircle" class="score-circle">
                <span id="scorePercentage"></span>
            </div>
            <h2 class="results-title">Quiz Complete!</h2>
            <div class="results-details">
                <div class="detail-item">
                    <span>Total Questions:</span>
                    <span id="totalQuestions"></span>
                </div>
                <div class="detail-item">
                    <span>Correct Answers:</span>
                    <span id="correctAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Incorrect Answers:</span>
                    <span id="incorrectAnswers"></span>
                </div>
                <div class="detail-item">
                    <span>Final Score:</span>
                    <span id="finalScore"></span>
                </div>
            </div>
            
            <button class="toggle-review" onclick="toggleAnswerReview()">Show Answer Review</button>
            
            <div id="answersReview" class="answers-review" style="display: none;">
                <div class="review-header">Answer Review</div>
                <div id="reviewContent"></div>
            </div>
            
            <button class="control-button next-button" onclick="returnToMenu()">Return to Menu</button>

            <!-- Footer for Results -->
            <div class="footer">
                <div class="footer-content">
                    <span class="created-by">Created by</span>
                    <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                        <!-- HVAC Unit Main Body -->
                        <rect x="20" y="30" width="140" height="100" fill="#2E4A6B" rx="8"/>
                        
                        <!-- Fan/Blower Circle -->
                        <circle cx="90" cy="80" r="35" fill="none" stroke="white" stroke-width="4"/>
                        <circle cx="90" cy="80" r="28" fill="none" stroke="white" stroke-width="2"/>
                        <circle cx="90" cy="80" r="20" fill="none" stroke="white" stroke-width="2"/>
                        
                        <!-- Fan Blades -->
                        <g transform="translate(90,80)">
                            <path d="M -15,0 Q -8,-12 0,-15 Q 8,-12 15,0 Q 8,12 0,15 Q -8,12 -15,0" fill="white" opacity="0.8"/>
                            <path d="M 0,-15 Q 12,-8 15,0 Q 12,8 0,15 Q -12,8 -15,0 Q -12,-8 0,-15" fill="white" opacity="0.6"/>
                        </g>
                        
                        <!-- Control Panel Lines -->
                        <rect x="125" y="45" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="55" width="20" height="3" fill="white" rx="1"/>
                        <rect x="125" y="65" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="75" width="18" height="3" fill="white" rx="1"/>
                        <rect x="125" y="85" width="22" height="3" fill="white" rx="1"/>
                        <rect x="125" y="95" width="25" height="3" fill="white" rx="1"/>
                        <rect x="125" y="105" width="20" height="3" fill="white" rx="1"/>
                        
                        <!-- Status Light -->
                        <circle cx="135" cy="115" r="3" fill="#4CAF50"/>
                        
                        <!-- Unit Feet -->
                        <rect x="35" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        <rect x="117" y="130" width="8" height="6" fill="#2E4A6B" rx="2"/>
                        
                        <!-- LARK text -->
                        <text x="180" y="85" font-family="Arial, sans-serif" font-size="42" font-weight="bold" fill="#2E4A6B">LARK</text>
                        <!-- LABS text -->
                        <text x="180" y="115" font-family="Arial, sans-serif" font-size="28" fill="#5A7A9A">Labs</text>
                        <!-- Subtitle -->
                        <text x="180" y="140" font-family="Arial, sans-serif" font-size="14" fill="#7A8A9A">HVAC MOBILE TOOLS AND TRAINING</text>
                    </svg>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <div class="footer-content">
                <span class="created-by">Created by</span>
                <svg class="lark-logo" viewBox="0 0 400 200" xmlns="http://www.w3.org/2000/svg">
                    <!-- Bird -->
                    <ellipse cx="80" cy="80" rx="45" ry="30" fill="#4A90E2"/>
                    <ellipse cx="70" cy="70" rx="25" ry="18" fill="#357ABD"/>
                    <circle cx="60" cy="65" r="4" fill="white"/>
                    <circle cx="58" cy="64" r="2" fill="#2C5AA0"/>
                    <!-- Beak -->
                    <polygon points="30,75 15,80 30,85" fill="#FF6B6B"/>
                    <!-- Sound lines -->
                    <path d="M 5 65 Q 15 60 25 65" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M 5 75 Q 15 70 25 75" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <path d="M 5 85 Q 15 80 25 85" stroke="#FF6B6B" stroke-width="3" fill="none" stroke-linecap="round"/>
                    <!-- LARK text -->
                    <text x="180" y="90" font-family="Arial, sans-serif" font-size="48" font-weight="bold" fill="#2C5AA0">LARK</text>
                    <!-- LABS text -->
                    <text x="180" y="130" font-family="Arial, sans-serif" font-size="32" fill="#95A5A6">LABS</text>
                    <!-- Subtitle -->
                    <text x="180" y="155" font-family="Arial, sans-serif" font-size="16" fill="#BDC3C7">SOFTWARE DEVELOPMENT</text>
                </svg>
            </div>
        </div>
    </div>

    <script>
        // Quiz data
        const quizData = {
            chapter1: {
                title: "Chapter 1: On-the-Job Safety Measures",
                questions: [
                    {
                        question: "In what position should you be when lifting heavy pipe?",
                        options: [
                            "Knees should be locked",
                            "Should be bent at the waist", 
                            "The back should be straight",
                            "Knees should be together"
                        ],
                        correct: 2
                    },
                    {
                        question: "What personal protective equipment is always mandatory when working in the gas industry?",
                        options: [
                            "Gloves",
                            "Protective glasses",
                            "Coveralls",
                            "Safety footwear"
                        ],
                        correct: 3
                    },
                    {
                        question: "What type of hard hat cannot be worn when working on electrical equipment?",
                        options: [
                            "A metallic hard hat",
                            "Plastic",
                            "Fibreglass",
                            "Any of the above"
                        ],
                        correct: 0
                    },
                    {
                        question: "What should be worn when working in an area where welding is being done?",
                        options: [
                            "Coveralls",
                            "Gloves",
                            "Safety shoes",
                            "Proper flash goggles"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which parts of the body suffer approximately 30% of all work-related injuries?",
                        options: [
                            "Fingers, hands, and arms",
                            "Feet and toes, and arms",
                            "Neck and head, and arms",
                            "Back and spine"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following defines a confined space?",
                        options: [
                            "Location with only one entry and exit, and where equipment operations or atmospheres may pose hazards to health and safety",
                            "Work area where entry and exit are restricted by location, design or construction, and where equipment operations or atmospheres may pose hazards to health and safety",
                            "Location with no windows, and where equipment operations or atmospheres may pose hazards to health and safety"
                        ],
                        correct: 1
                    },
                    {
                        question: "What are the main atmospheric hazards?",
                        options: [
                            "Combustible or explosive gases and vapours, and much or too little light",
                            "Too warm or too cold, too much or too little oxygen, and toxic fumes",
                            "Combustible or explosive gases and vapours, too much or too little oxygen, and toxic fumes"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is not considered an adequate ventilation system used in the workplace?",
                        options: [
                            "Vacuum systems",
                            "Portable fans",
                            "Exhaust systems",
                            "Special ventilating equipment"
                        ],
                        correct: 1
                    },
                    {
                        question: "Where should oily waste and rags be collected?",
                        options: [
                            "Disposed of in the garbage",
                            "Kept in large garbage bags",
                            "In designated covered containers"
                        ],
                        correct: 2
                    },
                    {
                        question: "What should be done before adjusting or cleaning a power tool?",
                        options: [
                            "Put on gloves",
                            "Stop and disconnect it from its power source",
                            "Put on safety glasses"
                        ],
                        correct: 1
                    },
                    {
                        question: "Why must the RPM rating of a grinding wheel match that of the grinder?",
                        options: [
                            "The wheel could shatter",
                            "The wheel will not work properly",
                            "The grinder will not work properly"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which electrical corded power tools do not require a grounding plug?",
                        options: [
                            "Tools that are designated \"double insulated\"",
                            "Tools that operate with 120V power supply",
                            "Any Tool not being used in wet or damp atmospheres"
                        ],
                        correct: 0
                    },
                    {
                        question: "Who may remove a lock from a piece of equipment that is locked out?",
                        options: [
                            "The job site security company, or the shift supervisor who has a master key in case of emergency",
                            "The person who placed the lock, or the shift supervisor who has a master key in case of emergency",
                            "The equipment manufacturer, or the shift supervisor who has a master key in case of emergency"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the vertical-to-horizontal distance ratio best suited for ladder placement?",
                        options: [
                            "Two feet horizontal for every four feet vertical",
                            "One foot horizontal for every two feet vertical",
                            "One foot horizontal for every three feet vertical",
                            "Two feet horizontal for every three feet vertical"
                        ],
                        correct: 2
                    },
                    {
                        question: "What must be done with defective equipment?",
                        options: [
                            "It must be tagged \"defective\" and removed from the work area",
                            "Removed from the work area and be used only when necessary",
                            "It should be made workable in order to complete the job then removed from the work area"
                        ],
                        correct: 0
                    },
                    {
                        question: "Who must provide workers with equipment, materials, and protective devices that are required by law?",
                        options: [
                            "The worker's supervisor",
                            "The worker",
                            "The employer"
                        ],
                        correct: 2
                    },
                    {
                        question: "To whom must a worker report any contravention of any safety act or regulation, or a jobsite hazard?",
                        options: [
                            "To the employer or supervisor",
                            "Ministry of Labour",
                            "Local Authority Having Jurisdiction"
                        ],
                        correct: 0
                    }
                ]
            },
            chapter2: {
                title: "Chapter 2: Government Acts and Regulations",
                questions: [
                    {
                        question: "Into how many parts is the first section of your province's Occupational Health and Safety Act structured?",
                        options: [
                            "This varies by province - check your local OH&S Act",
                            "Always 3 parts",
                            "Always 5 parts",
                            "This information is not standardized"
                        ],
                        correct: 0
                    },
                    {
                        question: "Where in your province's Occupational Health and Safety Act are the duties of employers and other persons described?",
                        options: [
                            "This varies by province - check your local OH&S Act",
                            "Always in Part 2",
                            "Always in Section 1",
                            "This information is not included in OH&S Acts"
                        ],
                        correct: 0
                    },
                    {
                        question: "What should you do to identify your province's Regulations for construction projects or sites?",
                        options: [
                            "Check your provincial OH&S website or contact local authorities",
                            "Use federal regulations only",
                            "Assume all provinces are the same",
                            "This information is not available"
                        ],
                        correct: 0
                    },
                    {
                        question: "Where can the regulations covering general construction be found?",
                        options: [
                            "This varies by province - check your local regulations",
                            "Always in Section 5",
                            "Always in Part 3",
                            "Only in federal documents"
                        ],
                        correct: 0
                    },
                    {
                        question: "What section includes specific responsibilities for a gas technician/fitter when a potentially dangerous condition associated with an installed gas appliance is encountered?",
                        options: [
                            "This varies by province - check your local gas safety regulations",
                            "Always Section 25",
                            "Always Part 4",
                            "This is not covered in regulations"
                        ],
                        correct: 0
                    }
                ]
            },
            chapter3: {
                title: "Chapter 3: Hazardous Materials",
                questions: [
                    {
                        question: "What system was established to provide workers, employers, and suppliers of material with vital information about hazardous material in the workplace?",
                        options: [
                            "Workplace Hazardous Material Instructional System",
                            "Workplace Hazardous Material Identification System",
                            "Workplace Hazardous Material Information System",
                            "Workplace Hazardous Material International System"
                        ],
                        correct: 2
                    },
                    {
                        question: "In 2015, what was WHMIS updated to align with?",
                        options: [
                            "Provincial Regulations",
                            "Federal Regulations",
                            "Transport of Dangerous Goods Act",
                            "Globally Harmonized System (GHS)"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which of the following is not a way by which liquid cleaning agents or solvents can enter the body?",
                        options: [
                            "Inhalation",
                            "Skin contact",
                            "Ingestion",
                            "Subliminally"
                        ],
                        correct: 3
                    },
                    {
                        question: "What should be included when labelling drums of liquid solvent?",
                        options: [
                            "Identification, handling precautions, and emergency actions",
                            "Where it was purchased and handling precautions",
                            "Identification, supplier name, and emergency actions",
                            "Identification, size of the container, and supplier name"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following is not considered a precaution for handling solvents used to connect plastic pipe?",
                        options: [
                            "No smoking",
                            "Avoid contact with the eyes",
                            "Avoid skin contact",
                            "Check for proper colour solvent"
                        ],
                        correct: 3
                    },
                    {
                        question: "What are the two hazard groups under WHMIS 2015?",
                        options: [
                            "Health, Safety",
                            "Physical, chemical",
                            "Physical, health",
                            "Biological, physical"
                        ],
                        correct: 2
                    },
                    {
                        question: "What are the two label types under WHMIS 2015?",
                        options: [
                            "Supplier, workplace",
                            "Workplace, manufacturer",
                            "Supplier, manufacturer",
                            "Distributor, supplier"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following is not a standardized label element under WHMIS 2015?",
                        options: [
                            "Symbols",
                            "Physical state of hazard",
                            "Signal Words",
                            "Hazard and precautionary statements"
                        ],
                        correct: 1
                    },
                    {
                        question: "What are the two signal words that can be used on a label?",
                        options: [
                            "Danger, hazard",
                            "Warning, caution",
                            "Caution, hazard",
                            "Danger, warning"
                        ],
                        correct: 3
                    },
                    {
                        question: "Which of the following should you not do when handling liquid solvents?",
                        options: [
                            "Use a solvent if you are not sure of its properties",
                            "Avoid skin contact",
                            "Use personal protective equipment (PPE)",
                            "Use approved containers in good condition"
                        ],
                        correct: 0
                    },
                    {
                        question: "What can brief exposure to very high concentrations of chlorine cause?",
                        options: [
                            "Minor skin irritation",
                            "Watering eyes",
                            "Death",
                            "Sneezing"
                        ],
                        correct: 2
                    },
                    {
                        question: "List the gases that may be present in sewer gas.",
                        options: [
                            "Methane",
                            "Helium",
                            "Argon",
                            "Freon"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following are four common fuels found in the commercial/industrial environment?",
                        options: [
                            "Gasoline, methanol, propane, natural gas",
                            "Gasoline, diesel, propane, natural gas",
                            "Gasoline, diesel, ethanol, propane, natural gas",
                            "Gasoline, biodiesel, methanol, natural gas"
                        ],
                        correct: 1
                    }
                ]
            },
            chapter4: {
                title: "Chapter 4: Fire Safety Practices",
                questions: [
                    {
                        question: "Which of the following is an example of extremely fast oxidation?",
                        options: [
                            "Exploding gunpowder",
                            "Rusting iron",
                            "Spontaneous heating of materials (such as oil-soaked rags)",
                            "Burning paper or wood"
                        ],
                        correct: 0
                    },
                    {
                        question: "Which of the following is not a component of the combustion triangle (tetrahedron)?",
                        options: [
                            "Fuel",
                            "Heat",
                            "Oxygen",
                            "Humidity"
                        ],
                        correct: 3
                    },
                    {
                        question: "What is shutting off a gas main valve during a fire an example of?",
                        options: [
                            "Heat suppressing",
                            "Fuel starvation",
                            "Oxygen starvation",
                            "Breaking up the chemical reaction"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is a way an electrical source can cause a fire?",
                        options: [
                            "Wrong size marrett connector",
                            "Light bulb in contact with fine dust",
                            "Wiring is run too long",
                            "All of the above"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following are the five main classes fires divided into?",
                        options: [
                            "A, B, C, D and E",
                            "A, B, C, D and H",
                            "A, B, C, D and N",
                            "A, B, C, D and K"
                        ],
                        correct: 3
                    },
                    {
                        question: "A gasoline fire belongs to what class?",
                        options: [
                            "Class B",
                            "Class A",
                            "Class C",
                            "Class K"
                        ],
                        correct: 0
                    },
                    {
                        question: "What class of fire would be fought using a water extinguisher?",
                        options: [
                            "Class D",
                            "Class A",
                            "Class K",
                            "Class B"
                        ],
                        correct: 1
                    },
                    {
                        question: "How are fire extinguishers identified for use?",
                        options: [
                            "Fire designation rating code",
                            "Colour",
                            "Size",
                            "Weight"
                        ],
                        correct: 0
                    },
                    {
                        question: "What type of fire uses heat-absorbing extinguishing medium not reactive with the burning materials?",
                        options: [
                            "Fires involving combustible metals",
                            "Fires involving flammable or combustible vapours",
                            "Fires involving ordinary combustibles",
                            "Fires involving energized electrical equipment"
                        ],
                        correct: 0
                    },
                    {
                        question: "What type of fire uses extinguishers that prevent vapours from being released or that interrupt combustion?",
                        options: [
                            "Fires involving ordinary combustibles",
                            "Fires involving energized electrical equipment",
                            "Fires involving flammable or combustible vapours",
                            "Fires involving cooking oils and fats"
                        ],
                        correct: 2
                    },
                    {
                        question: "What type of fire uses heat-absorbing (cooling) effects of certain chemicals that retard combustion?",
                        options: [
                            "Fires involving combustible metals",
                            "Fires involving cooking oils and fats",
                            "Fires involving flammable or combustible vapours",
                            "Fires involving ordinary combustibles"
                        ],
                        correct: 3
                    },
                    {
                        question: "What type of fire uses non-conductive extinguishing agents to protect the extinguisher operator?",
                        options: [
                            "Fires involving flammable or combustible vapours",
                            "Fires involving combustible metals",
                            "Fires involving energized electrical equipment",
                            "Fires involving cooking oils and fats"
                        ],
                        correct: 2
                    },
                    {
                        question: "What type of fire dispenses a fine mist solution that cools the air surrounding the flames and reacts specifically with oils and grease to form a foam?",
                        options: [
                            "Fires involving ordinary combustibles",
                            "Fires involving flammable or combustible vapours",
                            "Fires involving cooking oils and fats",
                            "Fires involving combustible metals"
                        ],
                        correct: 2
                    }
                ]
            },
            finalExam: {
                title: "CSA Unit 1 - Safety Review",
                questions: [
                    {
                        question: "What is the primary purpose of wearing PPE on an HVAC job site?",
                        options: [
                            "To comply with company policy",
                            "To enhance professional appearance",
                            "To protect against workplace hazards",
                            "To increase productivity"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is considered essential PPE for HVAC technicians?",
                        options: [
                            "Flip-flops",
                            "Safety goggles",
                            "Baseball cap",
                            "Sunglasses"
                        ],
                        correct: 1
                    },
                    {
                        question: "Before starting any HVAC task, what is the first safety measure a technician should take?",
                        options: [
                            "Begin work immediately",
                            "Assess the work area for potential hazards",
                            "Check personal messages",
                            "Skip the safety briefing"
                        ],
                        correct: 1
                    },
                    {
                        question: "Why is it important to de-energize equipment before servicing?",
                        options: [
                            "To save energy",
                            "To prevent electrical shock or injury",
                            "To test technician's skills",
                            "To speed up the repair process"
                        ],
                        correct: 1
                    },
                    {
                        question: "What does the \"three-point contact\" rule refer to when using ladders?",
                        options: [
                            "Having three tools in hand",
                            "Maintaining three points of contact with the ladder at all times",
                            "Taking three steps at a time",
                            "Using a ladder with three legs"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which standard provides guidelines for workplace electrical safety in Canada?",
                        options: [
                            "CSA Z462",
                            "ISO 9001",
                            "OSHA 1910",
                            "NFPA 101"
                        ],
                        correct: 0
                    },
                    {
                        question: "What is the recommended action if a technician encounters a chemical spill?",
                        options: [
                            "Ignore it",
                            "Clean it without PPE",
                            "Report it and follow proper spill response procedures",
                            "Cover it with a cloth"
                        ],
                        correct: 2
                    },
                    {
                        question: "Proper lifting techniques help prevent:",
                        options: [
                            "Faster completion of tasks",
                            "Back injuries",
                            "Equipment damage",
                            "All of the above"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is a common respiratory hazard in HVAC work?",
                        options: [
                            "Dust and mold",
                            "Loud noises",
                            "Bright lights",
                            "Vibration"
                        ],
                        correct: 0
                    },
                    {
                        question: "When should safety inspections of tools and equipment be conducted?",
                        options: [
                            "Monthly",
                            "Annually", 
                            "Before each use",
                            "Only when a problem arises"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is the purpose of lockout/tagout procedures?",
                        options: [
                            "To label equipment",
                            "To prevent unauthorized use",
                            "To ensure equipment is properly shut off and not started up again before maintenance is completed",
                            "To track equipment usage"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which organization sets the standards for occupational health and safety in Canada?",
                        options: [
                            "CSA Group",
                            "OSHA",
                            "ANSI",
                            "EPA"
                        ],
                        correct: 0
                    },
                    {
                        question: "What should be done if a technician feels unwell while working in a confined space?",
                        options: [
                            "Continue working",
                            "Take a short break",
                            "Exit the space immediately and seek assistance",
                            "Ignore the symptoms"
                        ],
                        correct: 2
                    },
                    {
                        question: "Why is it important to keep the work area organized?",
                        options: [
                            "To impress clients",
                            "To prevent accidents and improve efficiency",
                            "To find tools easily",
                            "To comply with company policy"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is a sign of heat stress?",
                        options: [
                            "Shivering",
                            "Excessive sweating",
                            "Goosebumps",
                            "Slow heartbeat"
                        ],
                        correct: 1
                    },
                    {
                        question: "What type of footwear is recommended for HVAC technicians?",
                        options: [
                            "Sandals",
                            "Steel-toed boots",
                            "Running shoes",
                            "Dress shoes"
                        ],
                        correct: 1
                    },
                    {
                        question: "When handling refrigerants, technicians should:",
                        options: [
                            "Work in a confined space",
                            "Avoid using gloves",
                            "Ensure proper ventilation and wear appropriate PPE",
                            "Use any container available"
                        ],
                        correct: 2
                    },
                    {
                        question: "What is the best practice when using a ladder on uneven ground?",
                        options: [
                            "Proceed carefully",
                            "Adjust the ladder to make it level",
                            "Find a stable, level surface before setting up the ladder",
                            "Have someone hold the ladder"
                        ],
                        correct: 2
                    },
                    {
                        question: "Which of the following is NOT a safe practice when working with electrical components?",
                        options: [
                            "Using insulated tools",
                            "Wearing metal jewelry",
                            "Following lockout/tagout procedures",
                            "Verifying the absence of voltage"
                        ],
                        correct: 1
                    },
                    {
                        question: "Why is it important to stay hydrated during HVAC work?",
                        options: [
                            "To reduce hunger",
                            "To prevent dehydration and maintain focus",
                            "To avoid taking breaks",
                            "To cool down equipment"
                        ],
                        correct: 1
                    },
                    {
                        question: "What should a technician do if they identify a new hazard on the job site?",
                        options: [
                            "Ignore it",
                            "Report it to the supervisor",
                            "Wait for someone else to notice",
                            "Continue working as usual"
                        ],
                        correct: 1
                    },
                    {
                        question: "Which of the following is a common cause of falls in HVAC work?",
                        options: [
                            "Proper use of ladders",
                            "Slippery surfaces",
                            "Wearing PPE",
                            "Adequate lighting"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the function of a GFCI (Ground Fault Circuit Interrupter)?",
                        options: [
                            "To increase power supply",
                            "To protect against electrical shock by interrupting the circuit",
                            "To regulate voltage",
                            "To store electrical energy"
                        ],
                        correct: 1
                    },
                    {
                        question: "Why should technicians avoid wearing loose clothing on the job?",
                        options: [
                            "It's against the dress code",
                            "It can get caught in machinery",
                            "It looks unprofessional",
                            "It causes discomfort"
                        ],
                        correct: 1
                    },
                    {
                        question: "What is the benefit of regular safety training for HVAC technicians?",
                        options: [
                            "Increases workload",
                            "Ensures compliance with safety standards and reduces accidents",
                            "Decreases productivity",
                            "Is only necessary for new employees"
                        ],
                        correct: 1
                    }
                ]
            }
        };

        // Quiz state
        let currentQuiz = null;
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;

        function startQuiz(quizType) {
            currentQuiz = quizData[quizType];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;

            document.getElementById('mainMenu').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('resultsContainer').style.display = 'none';

            document.getElementById('quizTitle').textContent = currentQuiz.title;
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuiz.questions[currentQuestionIndex];
            const totalQuestions = currentQuiz.questions.length;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressInfo').textContent = `Question ${currentQuestionIndex + 1} of ${totalQuestions}`;
            
            // Show question
            document.getElementById('questionNumber').textContent = `Question ${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;
            
            // Show options
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'answer-option';
                button.textContent = `${String.fromCharCode(65 + index)}) ${option}`;
                button.onclick = () => selectAnswer(index);
                
                // Restore previous selection
                if (userAnswers[currentQuestionIndex] === index) {
                    button.classList.add('selected');
                }
                
                optionsContainer.appendChild(button);
            });
            
            // Update navigation buttons
            document.getElementById('prevButton').disabled = currentQuestionIndex === 0;
            document.getElementById('nextButton').textContent = 
                currentQuestionIndex === totalQuestions - 1 ? 'Finish Quiz' : 'Next';
        }

        function selectAnswer(answerIndex) {
            // Remove previous selection
            document.querySelectorAll('.answer-option').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // Add selection to clicked option
            event.target.classList.add('selected');
            
            // Store answer
            userAnswers[currentQuestionIndex] = answerIndex;
        }

        function nextQuestion() {
            if (currentQuestionIndex < currentQuiz.questions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                finishQuiz();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function finishQuiz() {
            // Calculate score
            score = 0;
            for (let i = 0; i < currentQuiz.questions.length; i++) {
                if (userAnswers[i] === currentQuiz.questions[i].correct) {
                    score++;
                }
            }
            
            showResults();
        }

        function showResults() {
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'block';
            
            const totalQuestions = currentQuiz.questions.length;
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update results display
            document.getElementById('scorePercentage').textContent = percentage + '%';
            document.getElementById('totalQuestions').textContent = totalQuestions;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('incorrectAnswers').textContent = totalQuestions - score;
            document.getElementById('finalScore').textContent = percentage + '%';
            
            // Set score circle color based on performance
            const scoreCircle = document.getElementById('scoreCircle');
            scoreCircle.className = 'score-circle';
            if (percentage >= 90) {
                scoreCircle.classList.add('score-excellent');
            } else if (percentage >= 80) {
                scoreCircle.classList.add('score-good');
            } else if (percentage >= 70) {
                scoreCircle.classList.add('score-fair');
            } else {
                scoreCircle.classList.add('score-poor');
            }
            
            // Generate answer review
            generateAnswerReview();
        }

        function generateAnswerReview() {
            const reviewContent = document.getElementById('reviewContent');
            reviewContent.innerHTML = '';
            
            currentQuiz.questions.forEach((question, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-review';
                
                const userAnswerIndex = userAnswers[index];
                const correctAnswerIndex = question.correct;
                const isCorrect = userAnswerIndex === correctAnswerIndex;
                
                // Question text
                const questionText = document.createElement('div');
                questionText.className = 'review-question-text';
                questionText.textContent = `${index + 1}. ${question.question}`;
                questionDiv.appendChild(questionText);
                
                // Answer comparison
                const answerComparison = document.createElement('div');
                answerComparison.className = 'answer-comparison';
                
                // User's answer
                const userAnswerDiv = document.createElement('div');
                userAnswerDiv.className = `answer-row user-answer ${isCorrect ? 'correct' : 'incorrect'}`;
                
                const userAnswerLabel = document.createElement('span');
                userAnswerLabel.className = 'answer-label';
                userAnswerLabel.textContent = 'Your answer:';
                
                const userAnswerText = document.createElement('span');
                userAnswerText.className = 'answer-text';
                
                if (userAnswerIndex !== undefined) {
                    const optionLetter = String.fromCharCode(65 + userAnswerIndex);
                    userAnswerText.textContent = `${optionLetter}) ${question.options[userAnswerIndex]}`;
                } else {
                    userAnswerText.textContent = 'No answer selected';
                }
                
                const userAnswerIcon = document.createElement('span');
                userAnswerIcon.className = 'answer-icon';
                userAnswerIcon.textContent = isCorrect ? '✓' : '✗';
                
                userAnswerDiv.appendChild(userAnswerLabel);
                userAnswerDiv.appendChild(userAnswerText);
                userAnswerDiv.appendChild(userAnswerIcon);
                
                // Correct answer (only show if user was wrong)
                if (!isCorrect) {
                    const correctAnswerDiv = document.createElement('div');
                    correctAnswerDiv.className = 'answer-row correct-answer';
                    
                    const correctAnswerLabel = document.createElement('span');
                    correctAnswerLabel.className = 'answer-label';
                    correctAnswerLabel.textContent = 'Correct:';
                    
                    const correctAnswerText = document.createElement('span');
                    correctAnswerText.className = 'answer-text';
                    const correctOptionLetter = String.fromCharCode(65 + correctAnswerIndex);
                    correctAnswerText.textContent = `${correctOptionLetter}) ${question.options[correctAnswerIndex]}`;
                    
                    const correctAnswerIcon = document.createElement('span');
                    correctAnswerIcon.className = 'answer-icon';
                    correctAnswerIcon.textContent = '✓';
                    
                    correctAnswerDiv.appendChild(correctAnswerLabel);
                    correctAnswerDiv.appendChild(correctAnswerText);
                    correctAnswerDiv.appendChild(correctAnswerIcon);
                    
                    answerComparison.appendChild(userAnswerDiv);
                    answerComparison.appendChild(correctAnswerDiv);
                } else {
                    answerComparison.appendChild(userAnswerDiv);
                }
                
                questionDiv.appendChild(answerComparison);
                reviewContent.appendChild(questionDiv);
            });
        }

        function toggleAnswerReview() {
            const reviewDiv = document.getElementById('answersReview');
            const button = document.querySelector('.toggle-review');
            
            if (reviewDiv.style.display === 'none') {
                reviewDiv.style.display = 'block';
                button.textContent = 'Hide Answer Review';
            } else {
                reviewDiv.style.display = 'none';
                button.textContent = 'Show Answer Review';
            }
        }

        function quitQuiz() {
            console.log('quitQuiz function called'); // Debug log
            const confirmQuit = confirm('Are you sure you want to quit the quiz? Your progress will be lost.');
            console.log('Confirm result:', confirmQuit); // Debug log
            
            if (confirmQuit) {
                console.log('User confirmed quit, redirecting...'); // Debug log
                
                // Get elements
                const quizContainer = document.getElementById('quizContainer');
                const mainMenu = document.getElementById('mainMenu');
                const resultsContainer = document.getElementById('resultsContainer');
                
                console.log('Elements found:', {
                    quizContainer: !!quizContainer,
                    mainMenu: !!mainMenu,
                    resultsContainer: !!resultsContainer
                }); // Debug log
                
                // Hide quiz container
                if (quizContainer) {
                    quizContainer.style.display = 'none';
                }
                
                // Show main menu
                if (mainMenu) {
                    mainMenu.style.display = 'block';
                }
                
                // Hide results if showing
                if (resultsContainer) {
                    resultsContainer.style.display = 'none';
                }
                
                // Reset all quiz state variables
                currentQuiz = null;
                currentQuestionIndex = 0;
                userAnswers = [];
                score = 0;
                
                console.log('Quit completed successfully'); // Debug log
            }
        }

        function returnToMenu() {
            // Hide all containers
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('resultsContainer').style.display = 'none';
            // Show main menu
            document.getElementById('mainMenu').style.display = 'block';
            
            // Reset quiz state
            currentQuiz = null;
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            
            // Reset the answer review toggle
            const reviewDiv = document.getElementById('answersReview');
            const toggleButton = document.querySelector('.toggle-review');
            if (reviewDiv) {
                reviewDiv.style.display = 'none';
            }
            if (toggleButton) {
                toggleButton.textContent = 'Show Answer Review';
            }
        }
    </script>
</body>
</html>