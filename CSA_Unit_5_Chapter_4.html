<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSA Unit 5 - Chapter 4: Principles of Basic Magnetism and Electromagnetism</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.2rem;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header h2 {
            color: #e74c3c;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.2rem;
        }

        .content-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #ecf0f1;
            gap: 20px;
        }

        .navigation-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #ecf0f1;
        }

        .nav-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: linear-gradient(45deg, #c0392b, #a93226);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            flex: 1;
            background: rgba(255, 255, 255, 0.3);
            height: 8px;
            border-radius: 4px;
            margin: 0 20px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            height: 100%;
            transition: width 0.3s ease;
            width: 0%;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            font-size: 1.8rem;
            margin-bottom: 20px;
            border-left: 4px solid #e74c3c;
            padding-left: 20px;
        }

        .section h3 {
            color: #34495e;
            font-size: 1.4rem;
            margin-bottom: 15px;
            margin-top: 25px;
        }

        .section h4 {
            color: #e74c3c;
            font-size: 1.2rem;
            margin-bottom: 10px;
            margin-top: 20px;
        }

        .section p {
            margin-bottom: 15px;
            text-align: justify;
        }

        .section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .section li {
            margin-bottom: 8px;
        }

        .info-box {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #a93226;
        }

        .warning-box {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #d68910;
        }

        .tip-box {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .tip-box h4 {
            color: #155724;
            margin-bottom: 5px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .table th, .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }

        .table th {
            background: #e74c3c;
            color: white;
            font-weight: 600;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .knowledge-check {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.3);
        }

        .knowledge-check h3 {
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .question p {
            font-weight: 600;
            margin-bottom: 15px;
        }

        .options {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .options li {
            background: rgba(255, 255, 255, 0.2);
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .options li:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .options li.selected {
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid white;
        }

        .options li.correct {
            background: rgba(46, 204, 113, 0.8);
        }

        .options li.incorrect {
            background: rgba(231, 76, 60, 0.8);
        }

        .check-btn {
            background: white;
            color: #e67e22;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .check-btn:hover {
            background: #ecf0f1;
        }

        .check-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .feedback.correct {
            background: rgba(46, 204, 113, 0.2);
            border: 2px solid #27ae60;
        }

        .feedback.incorrect {
            background: rgba(231, 76, 60, 0.2);
            border: 2px solid #e74c3c;
        }

        .quiz-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .quiz-question {
            margin-bottom: 25px;
        }

        .quiz-question h4 {
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .quiz-options {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .quiz-options li {
            background: #f8f9fa;
            margin: 8px 0;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .quiz-options li:hover {
            background: #e9ecef;
        }

        .quiz-options li.selected {
            background: #d1ecf1;
            border-color: #e74c3c;
        }

        .quiz-options li.correct {
            background: #d4edda;
            border-color: #27ae60;
        }

        .quiz-options li.incorrect {
            background: #f8d7da;
            border-color: #e74c3c;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .quiz-feedback.show {
            display: block;
        }

        .quiz-feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .quiz-feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .chapter-completion {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            display: none;
        }

        .chapter-completion.show {
            display: block;
        }

        .submit-quiz-btn {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-quiz-btn:hover {
            background: linear-gradient(45deg, #229954, #27ae60);
            transform: translateY(-2px);
        }

        .formula-box {
            background: #f8f9fa;
            border: 2px solid #34495e;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            font-family: 'Courier New', monospace;
        }

        .diagram-container {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .diagram-description {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid #3498db;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .header h2 {
                font-size: 1.4rem;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            .navigation-bottom {
                flex-direction: column;
                gap: 10px;
            }
            
            .progress-bar {
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>CSA Unit 5 - Introduction to Electricity</h1>
            <h2>Chapter 4 - Principles of Basic Magnetism and Electromagnetism</h2>
            <p>Gas Trade Resources Materials</p>
            <p><em>Created by Mike Kapin • Copyright 2025</em></p>
        </div>

        <div class="content-area">
            <div class="navigation">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <span id="section-counter">Section 1 of 8</span>
            </div>
            <div id="content"></div>
            
            <div class="navigation-bottom">
                <button class="nav-btn" id="prev-btn" onclick="previousSection()" disabled>← Previous</button>
                <button class="nav-btn" id="next-btn" onclick="nextSection()">Next →</button>
            </div>
        </div>
    </div>

    <script>
        let currentSection = 0;
        let totalSections = 8;
        let userAnswers = {};
        let quizAnswers = {};

        const sections = [
            {
                title: "Overview and Purpose",
                content: `
                    <div class="section">
                        <h2>Overview</h2>
                        
                        <h3>Purpose</h3>
                        <p>Gas technicians/fitters require knowledge of the principles of magnetism and electromagnetism to understand the operation of electric motors, solenoid switches, and valves and relay units in control circuits.</p>

                        <h3>Objectives</h3>
                        <p>At the end of this Chapter, you will be able to:</p>
                        <ul>
                            <li>describe the principles of basic magnetism; and</li>
                            <li>describe the principles of basic electromagnetism.</li>
                        </ul>

                        <h3>Terminology</h3>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Term</th>
                                    <th>Abbreviation (symbol)</th>
                                    <th>Definition</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Electromagnet</td>
                                    <td></td>
                                    <td>Magnet that is a product of passing an electric current through a conductor</td>
                                </tr>
                                <tr>
                                    <td>Electromagnetism</td>
                                    <td></td>
                                    <td>Magnetism that results from the movement of electrons</td>
                                </tr>
                                <tr>
                                    <td>Ferromagnetic materials</td>
                                    <td></td>
                                    <td>Materials that attract other magnetic materials</td>
                                </tr>
                                <tr>
                                    <td>Flux density</td>
                                    <td></td>
                                    <td>Magnitude of a magnetic, electric, or other flux passing through a unit area</td>
                                </tr>
                                <tr>
                                    <td>Lines of force or flux lines</td>
                                    <td></td>
                                    <td>Imaginary line that represents the strength and direction of a magnetic, gravitational, or electric field at any point</td>
                                </tr>
                                <tr>
                                    <td>Magnetic field</td>
                                    <td></td>
                                    <td>Region around a magnetic material or a moving electric charge within which the force of magnetism acts</td>
                                </tr>
                                <tr>
                                    <td>Permanent magnets</td>
                                    <td></td>
                                    <td>Magnets that retain their magnetic effects</td>
                                </tr>
                                <tr>
                                    <td>Permeability</td>
                                    <td></td>
                                    <td>Ease with which a material accepts magnetic lines of force</td>
                                </tr>
                                <tr>
                                    <td>Temporary magnets</td>
                                    <td></td>
                                    <td>Magnets that do not retain their magnetic effects</td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="info-box">
                            <h4>Key Learning Point</h4>
                            <p>Understanding magnetism and electromagnetism is essential for gas technicians as these principles are fundamental to the operation of many gas appliance control systems, including ignition systems, safety valves, and motor controls.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What are ferromagnetic materials?",
                    options: [
                        "Materials that repel magnetic fields",
                        "Materials that attract other magnetic materials", 
                        "Materials that conduct electricity well",
                        "Materials that resist magnetic forces"
                    ],
                    correct: 1,
                    explanation: "Ferromagnetic materials are materials that attract other magnetic materials. Iron, nickel, and cobalt are the only naturally occurring ferromagnetic metals, with steel being ferromagnetic because it's made from iron."
                }
            },
            {
                title: "Magnetic Materials and Molecular Structure",
                content: `
                    <div class="section">
                        <h2>Principles of Basic Magnetism</h2>
                        
                        <h3>Magnetic Materials</h3>
                        <p>Magnetism is the property certain materials have that allows them to attract other magnetic materials. These are called ferromagnetic materials. Iron, nickel, and cobalt are the only naturally occurring ferromagnetic metals. (Steel is ferromagnetic but is made from iron.)</p>

                        <p>When a magnet strokes ferromagnetic materials across their surface, they also become magnets. Magnets that retain their magnetic effects are <strong>permanent magnets</strong>. Those that do not retain their magnetic effects are <strong>temporary magnets</strong>.</p>

                        <h3>Electrons, Molecules, and Magnetism</h3>
                        <p>Any conductor of electric current acts like a magnet. In fact, it is spinning electrons that cause magnetic forces. In most atoms, electrons tend to pair off in orbits that have spins in opposite directions. Each spin produces a tiny magnetic field and the magnetic fields of these pairs cancel each other. In a magnetic material, however, electrons with similar spins can pair off. Their magnetic fields add together and the molecules of the material have a net magnetic field.</p>

                        <div class="diagram-description">
                            <h4>Molecular Alignment in Magnets</h4>
                            <p><strong>Nonmagnetic Materials:</strong> Electron pairs spin in opposite directions, causing their magnetic fields to cancel each other out.</p>
                            <p><strong>Magnetic Materials:</strong> Electron pairs can spin in the same direction, causing their magnetic fields to add together.</p>
                        </div>

                        <h3>Magnetization Process</h3>
                        <p>When a ferromagnetic material is not magnetized, its molecules are randomly oriented. Their magnetic effects work in different directions and cancel each other. In a magnetized metal, the molecules are aligned with each other so that the magnetic effects of the molecules all work together. This produces a strong magnet. On the other hand, if a magnetic material is partially magnetized, only some of the molecules are aligned. This produces a weak magnet.</p>

                        <p>If the molecules of a magnet become misaligned again, the material loses its magnetism. This can gradually happen. It can also happen if the magnet becomes very hot or receives a strong physical shock.</p>

                        <div class="warning-box">
                            <h4>Important Note</h4>
                            <p>Magnets can lose their magnetism if they become very hot or receive strong physical shocks. This is why magnetic components in gas appliances must be protected from excessive heat and vibration.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What causes magnetism in materials at the atomic level?",
                    options: [
                        "Protons spinning in the same direction",
                        "Electrons spinning in opposite directions",
                        "Electrons with similar spins pairing off",
                        "Neutrons aligning in the nucleus"
                    ],
                    correct: 2,
                    explanation: "Magnetism is caused by electrons with similar spins pairing off. When electrons spin in the same direction, their magnetic fields add together, creating a net magnetic field in the material."
                }
            },
            {
                title: "Magnetic Polarity and Fields",
                content: `
                    <div class="section">
                        <h2>Magnetic Polarity</h2>
                        
                        <p>The magnetic field is strongest at each end of a magnet. These ends are what you call the poles of the magnet.</p>

                        <p>The Earth itself acts like a giant magnet and has a magnetic north pole and south pole. When you suspend a magnet so that it is free to move, it will turn so that one pole always points toward the Earth's North Pole. In the past, this was the north-seeking pole of the magnet and diagrams show this with an N. The other pole was the south-seeking pole and this comes with an S in diagrams.</p>

                        <h3>Compasses</h3>
                        <p>The interaction of a magnet with the earth's magnetic effect is the operating principle of a compass. The needle of a compass is a small permanent magnet that indicates its north-seeking pole. Regardless of the direction towards which the compass turns, its needle always swivels to point north.</p>

                        <h3>Attraction and Repulsion</h3>
                        <p>If the north poles of two magnets point toward each other, they repel each other. Two south poles also repel each other. On the other hand, a north and a south pole attract each other. This is the law of attraction and repulsion:</p>

                        <div class="formula-box">
                            Like poles repel, unlike poles attract
                        </div>

                        <h2>Magnetic Fields</h2>

                        <h3>Magnetic Lines of Force</h3>
                        <p>A magnetic field consists of lines of force that interact with magnetic substances. The most common magnetic substances are iron and steel. You can make iron magnetic but it will lose its magnetism quickly. Steel, on the other hand, remains magnetic for a longer period. Magnetized metal bars are what you call permanent magnets.</p>

                        <p>Permanent magnets appear to be ordinary pieces of steel. Even close observation will not reveal any visible signs of magnetism. However, if you bring any iron or steel object close to the magnet, the invisible magnetic field will pull it toward the magnet. The magnetic field will only affect magnetic material such as iron, steel, nickel, and cobalt.</p>

                        <div class="diagram-description">
                            <h4>Types of Permanent Magnets</h4>
                            <p><strong>Bar Magnet:</strong> Rectangular magnet with north and south poles at opposite ends</p>
                            <p><strong>Horseshoe Magnet:</strong> U-shaped magnet with both poles close together for concentrated magnetic field</p>
                        </div>

                        <p>The magnetic force can act at a distance without contact. It can act in the magnetic field, the area that surrounds the magnet. In the magnetic field, the force acts in lines of force or flux lines. Although flux lines are not visible, you can see if you place a small magnet under a sheet of paper and sprinkle iron filings over the top of it. When you tap the paper gently, the iron filings move slightly to align themselves along the flux lines.</p>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What is the law of attraction and repulsion for magnets?",
                    options: [
                        "Like poles attract, unlike poles repel",
                        "Like poles repel, unlike poles attract",
                        "All poles attract each other",
                        "All poles repel each other"
                    ],
                    correct: 1,
                    explanation: "The law of magnetic attraction and repulsion states that like poles repel, unlike poles attract. This means north poles repel other north poles, south poles repel other south poles, but north and south poles attract each other."
                }
            },
            {
                title: "Magnetic Field Properties and Permeability",
                content: `
                    <div class="section">
                        <h2>Properties of Magnetic Fields</h2>
                        
                        <p>Notice that flux lines are:</p>
                        <ul>
                            <li>more concentrated at the two poles (the magnetic field and force is stronger here);</li>
                            <li>farther apart at greater distances from the magnet (the magnetic field and force is weaker here); and</li>
                            <li>curved and do not cross.</li>
                        </ul>

                        <h3>Permeability</h3>
                        <p>The ease with which a material accepts magnetic lines of force is what you call its <strong>permeability</strong>. Iron and steel have high permeability. Air, on the other hand, has low permeability.</p>

                        <p>When you bring together two magnets, their magnetic fields interact. You can clearly see the way the flux lines combine using iron filings.</p>

                        <h3>Direction of Flux Lines</h3>
                        <p>Lines of force are considered to emerge from the magnet's north pole and move toward the south pole. Diagrams show the direction using arrows. They travel from south to north within the magnet to form a closed loop. The direction of flux lines is the direction in which the north-seeking pole of a compass would point.</p>

                        <h3>Magnetic Field Strength</h3>
                        <p>Magnets always have north and south poles. The magnetic lines of force extend from the north pole of a magnet to the south pole. The poles react with each other. If you bring two north or two south poles together, they will repel or push away each other. If a north pole and a south pole come together, however, they will attract and stick together (like poles repel and unlike poles attract). You use this magnetic field effect to operate electric motors, generators, and other devices.</p>

                        <p>Some magnets are stronger than others. A stronger magnet pulls harder and is harder to separate from a magnetic substance. If you place a stronger magnet under the iron filings, more lines of force will show. The stronger the magnet, the more lines of magnetic force produced. These lines are what you call <strong>flux</strong>, and their concentration is what you call <strong>flux density</strong>.</p>

                        <div class="info-box">
                            <h4>Practical Application</h4>
                            <p>Understanding magnetic field properties is crucial for gas technicians. Solenoid valves, used extensively in gas appliances for safety shutoffs and flow control, operate based on these magnetic principles. The strength and direction of magnetic fields determine how effectively these components function.</p>
                        </div>

                        <div class="tip-box">
                            <h4>💡 Remember</h4>
                            <p>Materials with high permeability (like iron and steel) make magnetic fields stronger and more concentrated. This is why electromagnets use iron cores to increase their magnetic strength.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What is permeability in magnetism?",
                    options: [
                        "The strength of a magnetic field",
                        "The ease with which a material accepts magnetic lines of force",
                        "The ability of a material to conduct electricity",
                        "The resistance of a material to magnetism"
                    ],
                    correct: 1,
                    explanation: "Permeability is the ease with which a material accepts magnetic lines of force. Iron and steel have high permeability, which is why they're used in electromagnets to concentrate and strengthen magnetic fields."
                }
            },
            {
                title: "Principles of Electromagnetism",
                content: `
                    <div class="section">
                        <h2>Principles of Basic Electromagnetism</h2>
                        
                        <h3>Electromagnetism</h3>
                        <p>Electromagnetism is magnetism that results from the movement of electrons. Whenever current flows in a conductor, a magnetic field forms around the conductor. Also, if you move a conductor within a magnetic field, the movement will induce a voltage and current will flow in the conductor.</p>

                        <p>Electric currents and magnetic fields are inseparable. In the area where current flows, there are always magnetic fields.</p>

                        <p>Electromagnets depend upon current flow for their magnetism. If current flow decreases, so does the magnetism. The direction of current flow determines the polarity of the magnet. If the current is turned off, the electromagnet is no longer magnetic.</p>

                        <h3>Electromagnetism in a Straight Wire</h3>
                        <p>If you move around a compass near a straight wire conductor, it shows the presence and direction of a magnetic field. The flux lines encircle the wire. If the direction of current flow changes, the direction of the magnetic field also changes.</p>

                        <h3>The Right-Hand Rule</h3>
                        <p>You use a simple rule to work out the direction of the magnetic lines of force around a wire. Imagine grasping the wire with your right hand. If your thumb points in the direction of conventional current flow, your fingers wrap around the wire in the direction of the magnetic lines of force. This is what you call the <strong>right-hand rule</strong>.</p>

                        <div class="formula-box">
                            Right-Hand Rule: Thumb = Current Direction, Fingers = Magnetic Field Direction
                        </div>

                        <h3>Magnetic Forces Between Conductors</h3>
                        <p>If you bring two wires in which current is flowing near each other, the magnetic fields around the wires would interact as follows:</p>
                        
                        <ul>
                            <li>If the current is flowing in the same direction, the magnetic lines of force around the wires would be in opposition and the two wires would attract each other.</li>
                            <li>If the current is flowing in opposite directions, the magnetic lines of force around the wires would be similar and the two wires would oppose each other.</li>
                        </ul>

                        <div class="warning-box">
                            <h4>Safety Consideration</h4>
                            <p>When very large currents can flow through conductors, the resulting magnetic forces can damage the conductors. This is why proper conductor sizing and protection is crucial in electrical installations.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What always happens when current flows through a conductor?",
                    options: [
                        "Heat is produced around the conductor",
                        "Light is produced around the conductor",
                        "A magnetic field is produced around the conductor",
                        "Sound is produced around the conductor"
                    ],
                    correct: 2,
                    explanation: "When current flows through a conductor, a magnetic field is always produced around the conductor. This is a fundamental principle of electromagnetism and forms the basis for the operation of motors, generators, and electromagnets."
                }
            },
            {
                title: "Electromagnetic Coils and Solenoids",
                content: `
                    <div class="section">
                        <h2>Electromagnetism in a Coil of Wire</h2>
                        
                        <p>If a wire is coiled in a spiral (helically), the magnetic field is concentrated in the centre of the coil. If you have wound the wire around a steel bar, the resulting magnet can be very strong. The shape of the magnetic field of a coil is like a large bar magnet. The lines of force leave the north pole at one end of the coil and pass toward the south pole at the other end.</p>

                        <h3>Direction of the Electromagnetic Field (Right-Hand Rule)</h3>
                        <p>You can use another right-hand rule to find the direction of the magnetic field of a coil. Imagine grasping the coil with your right hand:</p>
                        
                        <p>If the fingers wrap in the direction of conventional current flow around the coil, the thumb then points in the direction of the north pole of the coil.</p>

                        <h3>Strength of a Coil's Magnetic Field</h3>
                        <p>A closely wound coil creates a stronger magnetic field. Also, because the permeability of iron is much higher than air, permanently placing an iron or steel core inside the wire coil makes the magnetic field of a coil even stronger.</p>

                        <h3>Making an Electromagnet</h3>
                        <p>Using an iron core in a coil is the basis for making an electromagnet. A coil is wound around a core of steel with a low carbon content (or iron). This has high permeability but does not retain much magnetism after the current stops flowing, removing the magnetic field.</p>

                        <p>You use various sizes of electromagnet in many ways in the home and in industry. You use them in:</p>
                        <ul>
                            <li>motors;</li>
                            <li>generators;</li>
                            <li>clocks;</li>
                            <li>voltage testers;</li>
                            <li>solenoid and relay units in control circuits; and</li>
                            <li>cranes for lifting scrap metal, etc.</li>
                        </ul>

                        <h2>Electricity and Magnetism</h2>
                        
                        <p>Magnetism and electric current are inseparable. The flow of current through a conductor (wire) produces a magnetic field around that conductor. If the electric current flow is constant, as with DC current, the magnetic field is constant, and the product is a magnet.</p>

                        <p>When the switch is in open position, current flow stops. This causes the magnetic field to collapse. Although the field collapses very quickly, it does take time. The concept of an electric field taking a certain amount of time to collapse is an important point to remember for later discussion.</p>

                        <div class="info-box">
                            <h4>Gas Appliance Applications</h4>
                            <p>Electromagnets are widely used in gas appliances for:</p>
                            <ul>
                                <li>Gas valve solenoids for automatic shutoff</li>
                                <li>Ignition system controls</li>
                                <li>Fan motor controls</li>
                                <li>Safety interlock systems</li>
                            </ul>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "How can the magnetism of an electromagnet be increased?",
                    options: [
                        "By decreasing current flow",
                        "By increasing surface area",
                        "By increasing current flow",
                        "By removing the iron core"
                    ],
                    correct: 2,
                    explanation: "The magnetism of an electromagnet can be increased by increasing current flow. Additional ways to strengthen an electromagnet include adding more coil turns, using an iron core, and winding the coils more closely together."
                }
            },
            {
                title: "Magnetic Coils and Electromagnetic Induction",
                content: `
                    <div class="section">
                        <h2>Magnetic Coils</h2>
                        
                        <p>If you wind the wire wound into a coil, it will form several conductors arranged side by side, with current flowing through each.</p>

                        <p>A magnet that is a product of passing an electric current through a conductor is an <strong>electromagnet</strong>. Electromagnets have major advantages compared with permanent magnets. They do not become weaker with use, and controlling the current flow can control the strength of the magnet.</p>

                        <p>Each wire in the coil carries the current flow through it. Therefore, each loop of the coil generates a small magnetic field around itself. Since the electric current flows in the same direction through each loop, the magnetic field around each wire extends in the same direction. These small magnetic fields combine to produce a single, larger field. The strength of the larger field depends on the number of loops in the coil.</p>

                        <p>You know that more current flow produces a stronger magnetic field. Therefore, you can strengthen a magnetic field by increasing the applied voltage. Increasing applied voltage will increase current flow and field strength. You can also increase the number of loops in the coil to strengthen the field.</p>

                        <h3>Solenoids</h3>
                        <p>If you place a magnetic plunger, such as a soft iron bar, inside a coil of wire in a DC circuit, expect the formation of a <strong>solenoid</strong>. When the switch is closed, the magnetic field produced will attract the iron bar, pulling it to the centre of the coil. You use this action to operate many magnetic solenoid devices such as motor contactors, solenoid valves, and relays.</p>

                        <h3>Magnetic Conductors and Insulators</h3>
                        <p>A magnetic field is a bit like an electric circuit. Magnetic lines pass through a magnetic conductor better than through a magnetic insulator. Air has a high magnetic resistance. For that reason, an air-filled coil will not produce as strong a magnet as a coil that is wrapped around an iron core. Iron is a better conductor of magnetism and is said to be more permeable.</p>

                        <p>Electric current flow through any conductor produces a magnetic field around the conductor. This is true for alternating current as well as for direct current. With alternating current, however, the magnetic field changes direction every time that the current flow changes direction. The rapid switching of magnetic fields can cause vibration in AC electric machines. This explains why some machines, such as transformers, sometimes hum as the iron parts vibrate.</p>

                        <h2>Electromagnetic Induction</h2>
                        
                        <p>As mentioned previously, the flow of an electric current through a conductor produces a magnetic field around that conductor. It is also true that the movement of a magnetic field across a conductor generates voltage in that conductor.</p>

                        <p>The voltage generated is very small, but is measurable with a sensitive meter. The voltage generated depends on the number of lines of flux that the conductor cuts every second and on the angle at which the conductor cuts the flux. The faster the movement of the conductor, the greater the voltage produced. Also, increasing the concentration of magnetic flux lines (flux density) increases the induced voltage, with the conductor moving at a constant speed.</p>

                        <p>You use the same principle to generate large amounts of electric energy in power stations.</p>

                        <div class="tip-box">
                            <h4>💡 Key Principle</h4>
                            <p>Electromagnetic induction works both ways: electric current creates magnetic fields, and moving magnetic fields create electric current. This principle is fundamental to generators, transformers, and many sensing devices.</p>
                        </div>
                    </div>
                `,
                knowledgeCheck: {
                    question: "What is generated whenever a magnetic field moves across a conductor?",
                    options: [
                        "Amperage",
                        "Voltage",
                        "Current",
                        "Resistance"
                    ],
                    correct: 1,
                    explanation: "Voltage is generated whenever a magnetic field moves across a conductor. This principle of electromagnetic induction is the basis for how generators produce electricity and how transformers transfer energy between circuits."
                }
            },
            {
                title: "Chapter 2 Final Quiz",
                content: `
                    <div class="section">
                        <h2>Chapter 4 Final Quiz</h2>
                        <p>Test your knowledge of magnetism and electromagnetism principles covered in this chapter.</p>
                        
                        <div class="info-box">
                            <h4>Quiz Instructions</h4>
                            <p>Answer all 7 questions to complete the chapter. These questions are based on the CSA resources materials and test your understanding of magnetic and electromagnetic principles essential for gas technicians.</p>
                        </div>
                    </div>
                    
                    <div class="quiz-container">
                        <div class="quiz-question">
                            <h4>Question 1:</h4>
                            <p>Which of the follow is not a ferromagnetic metal?</p>
                            <ul class="quiz-options" data-question="0">
                                <li onclick="selectQuizOption(0, 0)">a) Copper</li>
                                <li onclick="selectQuizOption(0, 1)">b) Iron</li>
                                <li onclick="selectQuizOption(0, 2)">c) Nickel</li>
                                <li onclick="selectQuizOption(0, 3)">d) Cobalt</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 2:</h4>
                            <p>State the law of Attraction and Repulsion.</p>
                            <ul class="quiz-options" data-question="1">
                                <li onclick="selectQuizOption(1, 0)">a) Like poles attract, unlike poles repel</li>
                                <li onclick="selectQuizOption(1, 1)">b) Like poles repel, unlike poles attract</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 3:</h4>
                            <p>What is the term used to describe the ease with which a material accepts magnetic lines of force?</p>
                            <ul class="quiz-options" data-question="2">
                                <li onclick="selectQuizOption(2, 0)">a) Magnetism</li>
                                <li onclick="selectQuizOption(2, 1)">b) Density</li>
                                <li onclick="selectQuizOption(2, 2)">c) Permeability</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 4:</h4>
                            <p>How is the magnetism of an electromagnet increased?</p>
                            <ul class="quiz-options" data-question="3">
                                <li onclick="selectQuizOption(3, 0)">a) By decreasing current flow</li>
                                <li onclick="selectQuizOption(3, 1)">b) By increasing surface area</li>
                                <li onclick="selectQuizOption(3, 2)">c) By increasing current flow</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 5:</h4>
                            <p>What simple rule is used to determine the direction of the magnetic lines of force around a wire?</p>
                            <ul class="quiz-options" data-question="4">
                                <li onclick="selectQuizOption(4, 0)">a) The right hand rule</li>
                                <li onclick="selectQuizOption(4, 1)">b) The left hand rule</li>
                                <li onclick="selectQuizOption(4, 2)">c) Ohm's Law</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 6:</h4>
                            <p>What is always produced when current flows through a conductor?</p>
                            <ul class="quiz-options" data-question="5">
                                <li onclick="selectQuizOption(5, 0)">a) A magnetic field is produced around the conductor</li>
                                <li onclick="selectQuizOption(5, 1)">b) Light is produced around the conductor</li>
                                <li onclick="selectQuizOption(5, 2)">c) Heat is produced around the conductor</li>
                            </ul>
                        </div>

                        <div class="quiz-question">
                            <h4>Question 7:</h4>
                            <p>What is generated whenever a magnetic field moves across a conductor?</p>
                            <ul class="quiz-options" data-question="6">
                                <li onclick="selectQuizOption(6, 0)">a) Amperage</li>
                                <li onclick="selectQuizOption(6, 1)">b) Voltage</li>
                                <li onclick="selectQuizOption(6, 2)">c) Current</li>
                            </ul>
                        </div>

                        <button class="submit-quiz-btn" onclick="submitQuiz()">Submit Quiz</button>
                        
                        <div class="quiz-feedback" id="quiz-results"></div>
                    </div>

                    <div class="chapter-completion" id="completion">
                        <h3>🎉 Chapter 4 Complete!</h3>
                        <p>Congratulations! You have successfully completed Chapter 4 - Principles of Basic Magnetism and Electromagnetism.</p>
                        <div class="score-display">
                            <h4>Your Score: <span id="final-score"></span></h4>
                            <p>You now understand the fundamental principles of magnetism and electromagnetism, including magnetic materials, field properties, electromagnetic induction, and practical applications in gas appliance control systems.</p>
                        </div>
                    </div>
                `
            }
        ];

        // Quiz answers (correct answer indices)
        const quizCorrectAnswers = [0, 1, 2, 2, 0, 0, 1];
        
        const quizExplanations = [
            "Copper is not a ferromagnetic metal. Iron, nickel, and cobalt are the only naturally occurring ferromagnetic metals. Steel is also ferromagnetic because it's made from iron.",
            "The law of attraction and repulsion states that like poles repel, unlike poles attract. This means north poles repel other north poles, and south poles repel other south poles, but north and south poles attract each other.",
            "Permeability is the term used to describe the ease with which a material accepts magnetic lines of force. Iron and steel have high permeability, while air has low permeability.",
            "The magnetism of an electromagnet is increased by increasing current flow. Other ways include adding more coil turns, using an iron core, and winding coils more closely together.",
            "The right-hand rule is used to determine the direction of magnetic lines of force around a wire. Point your thumb in the direction of current flow, and your fingers curl in the direction of the magnetic field.",
            "A magnetic field is always produced around a conductor when current flows through it. This is a fundamental principle of electromagnetism.",
            "Voltage is generated whenever a magnetic field moves across a conductor. This principle of electromagnetic induction is the basis for generators and transformers."
        ];

        function loadSection() {
            const section = sections[currentSection];
            let content = section.content;
            
            if (section.knowledgeCheck && currentSection < 7) {
                content += createKnowledgeCheck(section.knowledgeCheck, currentSection);
            }
            
            document.getElementById('content').innerHTML = content;
            updateNavigation();
            updateProgress();
        }

        function createKnowledgeCheck(check, sectionIndex) {
            return `
                <div class="knowledge-check">
                    <h3>Knowledge Check</h3>
                    <div class="question">
                        <p>${check.question}</p>
                        <ul class="options">
                            ${check.options.map((option, index) => 
                                `<li onclick="selectOption(${sectionIndex}, ${index})" data-index="${index}">${option}</li>`
                            ).join('')}
                        </ul>
                        <button class="check-btn" onclick="checkAnswer(${sectionIndex}, ${check.correct}, '${check.explanation.replace(/'/g, "\\'")}')">Check Answer</button>
                        <div class="feedback" id="feedback-${sectionIndex}"></div>
                    </div>
                </div>
            `;
        }

        function selectOption(sectionIndex, optionIndex) {
            const options = document.querySelectorAll('.knowledge-check .options li');
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            userAnswers[sectionIndex] = optionIndex;
        }

        function checkAnswer(sectionIndex, correct, explanation) {
            const options = document.querySelectorAll('.knowledge-check .options li');
            const feedback = document.getElementById(`feedback-${sectionIndex}`);
            const selected = userAnswers[sectionIndex];
            
            if (selected === undefined) {
                alert('Please select an answer first.');
                return;
            }
            
            options.forEach((option, index) => {
                if (index === correct) {
                    option.classList.add('correct');
                } else if (index === selected && index !== correct) {
                    option.classList.add('incorrect');
                }
            });
            
            feedback.style.display = 'block';
            feedback.className = `feedback ${selected === correct ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = `
                <p><strong>${selected === correct ? 'Correct!' : 'Incorrect.'}</strong></p>
                <p>${explanation}</p>
            `;
            
            document.querySelector('.check-btn').disabled = true;
        }

        function selectQuizOption(questionIndex, optionIndex) {
            const questionContainer = document.querySelector(`[data-question="${questionIndex}"]`);
            const options = questionContainer.querySelectorAll('li');
            options.forEach(option => option.classList.remove('selected'));
            options[optionIndex].classList.add('selected');
            quizAnswers[questionIndex] = optionIndex;
        }

        function submitQuiz() {
            let score = 0;
            let resultsHTML = '<h3>Quiz Results</h3>';
            
            for (let i = 0; i < 7; i++) {
                const userAnswer = quizAnswers[i];
                const correctAnswer = quizCorrectAnswers[i];
                const isCorrect = userAnswer === correctAnswer;
                
                if (isCorrect) score++;
                
                // Update visual feedback
                const questionContainer = document.querySelector(`[data-question="${i}"]`);
                const options = questionContainer.querySelectorAll('li');
                options.forEach((option, index) => {
                    if (index === correctAnswer) {
                        option.classList.add('correct');
                    } else if (index === userAnswer && !isCorrect) {
                        option.classList.add('incorrect');
                    }
                });
                
                resultsHTML += `
                    <div style="margin: 15px 0; padding: 10px; border-radius: 5px; background: ${isCorrect ? '#d4edda' : '#f8d7da'};">
                        <p><strong>Question ${i + 1}: ${isCorrect ? 'Correct' : 'Incorrect'}</strong></p>
                        <p style="font-size: 0.9em;">${quizExplanations[i]}</p>
                    </div>
                `;
            }
            
            const percentage = Math.round((score / 7) * 100);
            resultsHTML += `<p><strong>Final Score: ${score}/7 (${percentage}%)</strong></p>`;
            
            document.getElementById('quiz-results').innerHTML = resultsHTML;
            document.getElementById('quiz-results').classList.add('show');
            document.querySelector('.submit-quiz-btn').disabled = true;
            
            // Show completion
            document.getElementById('final-score').textContent = `${score}/7 (${percentage}%)`;
            document.getElementById('completion').classList.add('show');
        }

        function nextSection() {
            if (currentSection < totalSections - 1) {
                currentSection++;
                loadSection();
            }
        }

        function previousSection() {
            if (currentSection > 0) {
                currentSection--;
                loadSection();
            }
        }

        function updateNavigation() {
            document.getElementById('prev-btn').disabled = currentSection === 0;
            document.getElementById('next-btn').disabled = currentSection === totalSections - 1;
            document.getElementById('section-counter').textContent = `Section ${currentSection + 1} of ${totalSections}`;
        }

        function updateProgress() {
            const progress = ((currentSection + 1) / totalSections) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }

        // Initialize
        loadSection();
    </script>
</body>
</html>